function Ax(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function k1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x1={exports:{}},gf={},N1={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=Symbol.for("react.element"),Px=Symbol.for("react.portal"),Cx=Symbol.for("react.fragment"),kx=Symbol.for("react.strict_mode"),xx=Symbol.for("react.profiler"),Nx=Symbol.for("react.provider"),Dx=Symbol.for("react.context"),Ox=Symbol.for("react.forward_ref"),Vx=Symbol.for("react.suspense"),Mx=Symbol.for("react.memo"),Lx=Symbol.for("react.lazy"),xw=Symbol.iterator;function Fx(t){return t===null||typeof t!="object"?null:(t=xw&&t[xw]||t["@@iterator"],typeof t=="function"?t:null)}var D1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O1=Object.assign,V1={};function Ha(t,e,n){this.props=t,this.context=e,this.refs=V1,this.updater=n||D1}Ha.prototype.isReactComponent={};Ha.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ha.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function M1(){}M1.prototype=Ha.prototype;function gv(t,e,n){this.props=t,this.context=e,this.refs=V1,this.updater=n||D1}var yv=gv.prototype=new M1;yv.constructor=gv;O1(yv,Ha.prototype);yv.isPureReactComponent=!0;var Nw=Array.isArray,L1=Object.prototype.hasOwnProperty,vv={current:null},F1={key:!0,ref:!0,__self:!0,__source:!0};function $1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)L1.call(e,r)&&!F1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:vc,type:t,key:s,ref:o,props:i,_owner:vv.current}}function $x(t,e){return{$$typeof:vc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _v(t){return typeof t=="object"&&t!==null&&t.$$typeof===vc}function Ux(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dw=/\/+/g;function fm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ux(""+t.key):e.toString(36)}function Vd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vc:case Px:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fm(o,0):r,Nw(i)?(n="",t!=null&&(n=t.replace(Dw,"$&/")+"/"),Vd(i,e,n,"",function(u){return u})):i!=null&&(_v(i)&&(i=$x(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Dw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Nw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+fm(s,a);o+=Vd(s,e,n,l,i)}else if(l=Fx(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+fm(s,a++),o+=Vd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ed(t,e,n){if(t==null)return t;var r=[],i=0;return Vd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Bx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},Md={transition:null},zx={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Md,ReactCurrentOwner:vv};pe.Children={map:ed,forEach:function(t,e,n){ed(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ed(t,function(){e++}),e},toArray:function(t){return ed(t,function(e){return e})||[]},only:function(t){if(!_v(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=Ha;pe.Fragment=Cx;pe.Profiler=xx;pe.PureComponent=gv;pe.StrictMode=kx;pe.Suspense=Vx;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zx;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=O1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)L1.call(e,l)&&!F1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:vc,type:t.type,key:i,ref:s,props:r,_owner:o}};pe.createContext=function(t){return t={$$typeof:Dx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Nx,_context:t},t.Consumer=t};pe.createElement=$1;pe.createFactory=function(t){var e=$1.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:Ox,render:t}};pe.isValidElement=_v;pe.lazy=function(t){return{$$typeof:Lx,_payload:{_status:-1,_result:t},_init:Bx}};pe.memo=function(t,e){return{$$typeof:Mx,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=Md.transition;Md.transition={};try{t()}finally{Md.transition=e}};pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pe.useCallback=function(t,e){return pn.current.useCallback(t,e)};pe.useContext=function(t){return pn.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};pe.useEffect=function(t,e){return pn.current.useEffect(t,e)};pe.useId=function(){return pn.current.useId()};pe.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return pn.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};pe.useRef=function(t){return pn.current.useRef(t)};pe.useState=function(t){return pn.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return pn.current.useTransition()};pe.version="18.2.0";N1.exports=pe;var I=N1.exports;const cr=k1(I),vg=Ax({__proto__:null,default:cr},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx=I,Wx=Symbol.for("react.element"),qx=Symbol.for("react.fragment"),Gx=Object.prototype.hasOwnProperty,Kx=jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hx={key:!0,ref:!0,__self:!0,__source:!0};function U1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Gx.call(e,r)&&!Hx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Wx,type:t,key:s,ref:o,props:i,_owner:Kx.current}}gf.Fragment=qx;gf.jsx=U1;gf.jsxs=U1;x1.exports=gf;var k=x1.exports,_g={},B1={exports:{}},Bn={},z1={exports:{}},j1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,W){var F=N.length;N.push(W);e:for(;0<F;){var ee=F-1>>>1,ae=N[ee];if(0<i(ae,W))N[ee]=W,N[F]=ae,F=ee;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var W=N[0],F=N.pop();if(F!==W){N[0]=F;e:for(var ee=0,ae=N.length,Me=ae>>>1;ee<Me;){var me=2*(ee+1)-1,de=N[me],he=me+1,gt=N[he];if(0>i(de,F))he<ae&&0>i(gt,de)?(N[ee]=gt,N[he]=F,ee=he):(N[ee]=de,N[me]=F,ee=me);else if(he<ae&&0>i(gt,F))N[ee]=gt,N[he]=F,ee=he;else break e}}return W}function i(N,W){var F=N.sortIndex-W.sortIndex;return F!==0?F:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=N)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function _(N){if(v=!1,g(N),!y)if(n(l)!==null)y=!0,X(E);else{var W=n(u);W!==null&&H(_,W.startTime-N)}}function E(N,W){y=!1,v&&(v=!1,m(P),P=-1),f=!0;var F=h;try{for(g(W),d=n(l);d!==null&&(!(d.expirationTime>W)||N&&!B());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var ae=ee(d.expirationTime<=W);W=t.unstable_now(),typeof ae=="function"?d.callback=ae:d===n(l)&&r(l),g(W)}else r(l);d=n(l)}if(d!==null)var Me=!0;else{var me=n(u);me!==null&&H(_,me.startTime-W),Me=!1}return Me}finally{d=null,h=F,f=!1}}var R=!1,S=null,P=-1,M=5,C=-1;function B(){return!(t.unstable_now()-C<M)}function Z(){if(S!==null){var N=t.unstable_now();C=N;var W=!0;try{W=S(!0,N)}finally{W?K():(R=!1,S=null)}}else R=!1}var K;if(typeof p=="function")K=function(){p(Z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=Z,K=function(){L.postMessage(null)}}else K=function(){w(Z,0)};function X(N){S=N,R||(R=!0,K())}function H(N,W){P=w(function(){N(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){y||f||(y=!0,X(E))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var F=h;h=W;try{return N()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=h;h=N;try{return W()}finally{h=F}},t.unstable_scheduleCallback=function(N,W,F){var ee=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ee+F:ee):F=ee,N){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=F+ae,N={id:c++,callback:W,priorityLevel:N,startTime:F,expirationTime:ae,sortIndex:-1},F>ee?(N.sortIndex=F,e(u,N),n(l)===null&&N===n(u)&&(v?(m(P),P=-1):v=!0,H(_,F-ee))):(N.sortIndex=ae,e(l,N),y||f||(y=!0,X(E))),N},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(N){var W=h;return function(){var F=h;h=W;try{return N.apply(this,arguments)}finally{h=F}}}})(j1);z1.exports=j1;var Qx=z1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1=I,Fn=Qx;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q1=new Set,Eu={};function wo(t,e){Sa(t,e),Sa(t+"Capture",e)}function Sa(t,e){for(Eu[t]=e,t=0;t<e.length;t++)q1.add(e[t])}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wg=Object.prototype.hasOwnProperty,Yx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ow={},Vw={};function Xx(t){return wg.call(Vw,t)?!0:wg.call(Ow,t)?!1:Yx.test(t)?Vw[t]=!0:(Ow[t]=!0,!1)}function Jx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Zx(t,e,n,r){if(e===null||typeof e>"u"||Jx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var wv=/[\-:]([a-z])/g;function Iv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wv,Iv);Kt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wv,Iv);Kt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wv,Iv);Kt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ev(t,e,n,r){var i=Kt.hasOwnProperty(e)?Kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Zx(e,n,i,r)&&(n=null),r||i===null?Xx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ci=W1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,td=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),Tv=Symbol.for("react.strict_mode"),Ig=Symbol.for("react.profiler"),G1=Symbol.for("react.provider"),K1=Symbol.for("react.context"),Sv=Symbol.for("react.forward_ref"),Eg=Symbol.for("react.suspense"),Tg=Symbol.for("react.suspense_list"),Rv=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),H1=Symbol.for("react.offscreen"),Mw=Symbol.iterator;function ml(t){return t===null||typeof t!="object"?null:(t=Mw&&t[Mw]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,pm;function Ul(t){if(pm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pm=e&&e[1]||""}return`
`+pm+t}var mm=!1;function gm(t,e){if(!t||mm)return"";mm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{mm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ul(t):""}function eN(t){switch(t.tag){case 5:return Ul(t.type);case 16:return Ul("Lazy");case 13:return Ul("Suspense");case 19:return Ul("SuspenseList");case 0:case 2:case 15:return t=gm(t.type,!1),t;case 11:return t=gm(t.type.render,!1),t;case 1:return t=gm(t.type,!0),t;default:return""}}function Sg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ho:return"Fragment";case Ko:return"Portal";case Ig:return"Profiler";case Tv:return"StrictMode";case Eg:return"Suspense";case Tg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case K1:return(t.displayName||"Context")+".Consumer";case G1:return(t._context.displayName||"Context")+".Provider";case Sv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rv:return e=t.displayName||null,e!==null?e:Sg(t.type)||"Memo";case bi:e=t._payload,t=t._init;try{return Sg(t(e))}catch{}}return null}function tN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sg(e);case 8:return e===Tv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Q1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nN(t){var e=Q1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nd(t){t._valueTracker||(t._valueTracker=nN(t))}function Y1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ch(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rg(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Lw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function X1(t,e){e=e.checked,e!=null&&Ev(t,"checked",e,!1)}function bg(t,e){X1(t,e);var n=Gi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ag(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ag(t,e.type,Gi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ag(t,e,n){(e!=="number"||ch(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bl=Array.isArray;function la(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $w(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Bl(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gi(n)}}function J1(t,e){var n=Gi(e.value),r=Gi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Uw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Z1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Z1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rd,eS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rd=rd||document.createElement("div"),rd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rN=["Webkit","ms","Moz","O"];Object.keys(Zl).forEach(function(t){rN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zl[e]=Zl[t]})});function tS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zl.hasOwnProperty(t)&&Zl[t]?(""+e).trim():e+"px"}function nS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iN=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kg(t,e){if(e){if(iN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function xg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ng=null;function bv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dg=null,ua=null,ca=null;function Bw(t){if(t=Ic(t)){if(typeof Dg!="function")throw Error(O(280));var e=t.stateNode;e&&(e=If(e),Dg(t.stateNode,t.type,e))}}function rS(t){ua?ca?ca.push(t):ca=[t]:ua=t}function iS(){if(ua){var t=ua,e=ca;if(ca=ua=null,Bw(t),e)for(t=0;t<e.length;t++)Bw(e[t])}}function sS(t,e){return t(e)}function oS(){}var ym=!1;function aS(t,e,n){if(ym)return t(e,n);ym=!0;try{return sS(t,e,n)}finally{ym=!1,(ua!==null||ca!==null)&&(oS(),iS())}}function Su(t,e){var n=t.stateNode;if(n===null)return null;var r=If(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Og=!1;if(ni)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){Og=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{Og=!1}function sN(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var eu=!1,dh=null,hh=!1,Vg=null,oN={onError:function(t){eu=!0,dh=t}};function aN(t,e,n,r,i,s,o,a,l){eu=!1,dh=null,sN.apply(oN,arguments)}function lN(t,e,n,r,i,s,o,a,l){if(aN.apply(this,arguments),eu){if(eu){var u=dh;eu=!1,dh=null}else throw Error(O(198));hh||(hh=!0,Vg=u)}}function Io(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zw(t){if(Io(t)!==t)throw Error(O(188))}function uN(t){var e=t.alternate;if(!e){if(e=Io(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return zw(i),t;if(s===r)return zw(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function uS(t){return t=uN(t),t!==null?cS(t):null}function cS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cS(t);if(e!==null)return e;t=t.sibling}return null}var dS=Fn.unstable_scheduleCallback,jw=Fn.unstable_cancelCallback,cN=Fn.unstable_shouldYield,dN=Fn.unstable_requestPaint,dt=Fn.unstable_now,hN=Fn.unstable_getCurrentPriorityLevel,Av=Fn.unstable_ImmediatePriority,hS=Fn.unstable_UserBlockingPriority,fh=Fn.unstable_NormalPriority,fN=Fn.unstable_LowPriority,fS=Fn.unstable_IdlePriority,yf=null,Vr=null;function pN(t){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(yf,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:yN,mN=Math.log,gN=Math.LN2;function yN(t){return t>>>=0,t===0?32:31-(mN(t)/gN|0)|0}var id=64,sd=4194304;function zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ph(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=zl(a):(s&=o,s!==0&&(r=zl(s)))}else o=n&~i,o!==0?r=zl(o):s!==0&&(r=zl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function vN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _N(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=vN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Mg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pS(){var t=id;return id<<=1,!(id&4194240)&&(id=64),t}function vm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _c(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function wN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Pv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ae=0;function mS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gS,Cv,yS,vS,_S,Lg=!1,od=[],Mi=null,Li=null,Fi=null,Ru=new Map,bu=new Map,Pi=[],IN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ww(t,e){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Ru.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(e.pointerId)}}function yl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ic(e),e!==null&&Cv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function EN(t,e,n,r,i){switch(e){case"focusin":return Mi=yl(Mi,t,e,n,r,i),!0;case"dragenter":return Li=yl(Li,t,e,n,r,i),!0;case"mouseover":return Fi=yl(Fi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ru.set(s,yl(Ru.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bu.set(s,yl(bu.get(s)||null,t,e,n,r,i)),!0}return!1}function wS(t){var e=Os(t.target);if(e!==null){var n=Io(e);if(n!==null){if(e=n.tag,e===13){if(e=lS(n),e!==null){t.blockedOn=e,_S(t.priority,function(){yS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ld(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ng=r,n.target.dispatchEvent(r),Ng=null}else return e=Ic(n),e!==null&&Cv(e),t.blockedOn=n,!1;e.shift()}return!0}function qw(t,e,n){Ld(t)&&n.delete(e)}function TN(){Lg=!1,Mi!==null&&Ld(Mi)&&(Mi=null),Li!==null&&Ld(Li)&&(Li=null),Fi!==null&&Ld(Fi)&&(Fi=null),Ru.forEach(qw),bu.forEach(qw)}function vl(t,e){t.blockedOn===e&&(t.blockedOn=null,Lg||(Lg=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,TN)))}function Au(t){function e(i){return vl(i,t)}if(0<od.length){vl(od[0],t);for(var n=1;n<od.length;n++){var r=od[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mi!==null&&vl(Mi,t),Li!==null&&vl(Li,t),Fi!==null&&vl(Fi,t),Ru.forEach(e),bu.forEach(e),n=0;n<Pi.length;n++)r=Pi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pi.length&&(n=Pi[0],n.blockedOn===null);)wS(n),n.blockedOn===null&&Pi.shift()}var da=ci.ReactCurrentBatchConfig,mh=!0;function SN(t,e,n,r){var i=Ae,s=da.transition;da.transition=null;try{Ae=1,kv(t,e,n,r)}finally{Ae=i,da.transition=s}}function RN(t,e,n,r){var i=Ae,s=da.transition;da.transition=null;try{Ae=4,kv(t,e,n,r)}finally{Ae=i,da.transition=s}}function kv(t,e,n,r){if(mh){var i=Fg(t,e,n,r);if(i===null)Pm(t,e,r,gh,n),Ww(t,r);else if(EN(i,t,e,n,r))r.stopPropagation();else if(Ww(t,r),e&4&&-1<IN.indexOf(t)){for(;i!==null;){var s=Ic(i);if(s!==null&&gS(s),s=Fg(t,e,n,r),s===null&&Pm(t,e,r,gh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Pm(t,e,r,null,n)}}var gh=null;function Fg(t,e,n,r){if(gh=null,t=bv(r),t=Os(t),t!==null)if(e=Io(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gh=t,null}function IS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hN()){case Av:return 1;case hS:return 4;case fh:case fN:return 16;case fS:return 536870912;default:return 16}default:return 16}}var Ni=null,xv=null,Fd=null;function ES(){if(Fd)return Fd;var t,e=xv,n=e.length,r,i="value"in Ni?Ni.value:Ni.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Fd=i.slice(t,1<r?1-r:void 0)}function $d(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ad(){return!0}function Gw(){return!1}function zn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ad:Gw,this.isPropagationStopped=Gw,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),e}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nv=zn(Qa),wc=rt({},Qa,{view:0,detail:0}),bN=zn(wc),_m,wm,_l,vf=rt({},wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_l&&(_l&&t.type==="mousemove"?(_m=t.screenX-_l.screenX,wm=t.screenY-_l.screenY):wm=_m=0,_l=t),_m)},movementY:function(t){return"movementY"in t?t.movementY:wm}}),Kw=zn(vf),AN=rt({},vf,{dataTransfer:0}),PN=zn(AN),CN=rt({},wc,{relatedTarget:0}),Im=zn(CN),kN=rt({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),xN=zn(kN),NN=rt({},Qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DN=zn(NN),ON=rt({},Qa,{data:0}),Hw=zn(ON),VN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LN[t])?!!e[t]:!1}function Dv(){return FN}var $N=rt({},wc,{key:function(t){if(t.key){var e=VN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$d(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dv,charCode:function(t){return t.type==="keypress"?$d(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$d(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UN=zn($N),BN=rt({},vf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qw=zn(BN),zN=rt({},wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dv}),jN=zn(zN),WN=rt({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),qN=zn(WN),GN=rt({},vf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KN=zn(GN),HN=[9,13,27,32],Ov=ni&&"CompositionEvent"in window,tu=null;ni&&"documentMode"in document&&(tu=document.documentMode);var QN=ni&&"TextEvent"in window&&!tu,TS=ni&&(!Ov||tu&&8<tu&&11>=tu),Yw=String.fromCharCode(32),Xw=!1;function SS(t,e){switch(t){case"keyup":return HN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qo=!1;function YN(t,e){switch(t){case"compositionend":return RS(e);case"keypress":return e.which!==32?null:(Xw=!0,Yw);case"textInput":return t=e.data,t===Yw&&Xw?null:t;default:return null}}function XN(t,e){if(Qo)return t==="compositionend"||!Ov&&SS(t,e)?(t=ES(),Fd=xv=Ni=null,Qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TS&&e.locale!=="ko"?null:e.data;default:return null}}var JN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JN[t.type]:e==="textarea"}function bS(t,e,n,r){rS(r),e=yh(e,"onChange"),0<e.length&&(n=new Nv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nu=null,Pu=null;function ZN(t){LS(t,0)}function _f(t){var e=Jo(t);if(Y1(e))return t}function eD(t,e){if(t==="change")return e}var AS=!1;if(ni){var Em;if(ni){var Tm="oninput"in document;if(!Tm){var Zw=document.createElement("div");Zw.setAttribute("oninput","return;"),Tm=typeof Zw.oninput=="function"}Em=Tm}else Em=!1;AS=Em&&(!document.documentMode||9<document.documentMode)}function eI(){nu&&(nu.detachEvent("onpropertychange",PS),Pu=nu=null)}function PS(t){if(t.propertyName==="value"&&_f(Pu)){var e=[];bS(e,Pu,t,bv(t)),aS(ZN,e)}}function tD(t,e,n){t==="focusin"?(eI(),nu=e,Pu=n,nu.attachEvent("onpropertychange",PS)):t==="focusout"&&eI()}function nD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _f(Pu)}function rD(t,e){if(t==="click")return _f(e)}function iD(t,e){if(t==="input"||t==="change")return _f(e)}function sD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pr=typeof Object.is=="function"?Object.is:sD;function Cu(t,e){if(pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wg.call(e,i)||!pr(t[i],e[i]))return!1}return!0}function tI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nI(t,e){var n=tI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tI(n)}}function CS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kS(){for(var t=window,e=ch();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ch(t.document)}return e}function Vv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oD(t){var e=kS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CS(n.ownerDocument.documentElement,n)){if(r!==null&&Vv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=nI(n,s);var o=nI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aD=ni&&"documentMode"in document&&11>=document.documentMode,Yo=null,$g=null,ru=null,Ug=!1;function rI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ug||Yo==null||Yo!==ch(r)||(r=Yo,"selectionStart"in r&&Vv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ru&&Cu(ru,r)||(ru=r,r=yh($g,"onSelect"),0<r.length&&(e=new Nv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yo)))}function ld(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xo={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},Sm={},xS={};ni&&(xS=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function wf(t){if(Sm[t])return Sm[t];if(!Xo[t])return t;var e=Xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xS)return Sm[t]=e[n];return t}var NS=wf("animationend"),DS=wf("animationiteration"),OS=wf("animationstart"),VS=wf("transitionend"),MS=new Map,iI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(t,e){MS.set(t,e),wo(e,[t])}for(var Rm=0;Rm<iI.length;Rm++){var bm=iI[Rm],lD=bm.toLowerCase(),uD=bm[0].toUpperCase()+bm.slice(1);ls(lD,"on"+uD)}ls(NS,"onAnimationEnd");ls(DS,"onAnimationIteration");ls(OS,"onAnimationStart");ls("dblclick","onDoubleClick");ls("focusin","onFocus");ls("focusout","onBlur");ls(VS,"onTransitionEnd");Sa("onMouseEnter",["mouseout","mouseover"]);Sa("onMouseLeave",["mouseout","mouseover"]);Sa("onPointerEnter",["pointerout","pointerover"]);Sa("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cD=new Set("cancel close invalid load scroll toggle".split(" ").concat(jl));function sI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lN(r,e,void 0,t),t.currentTarget=null}function LS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;sI(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;sI(i,a,u),s=l}}}if(hh)throw t=Vg,hh=!1,Vg=null,t}function ze(t,e){var n=e[qg];n===void 0&&(n=e[qg]=new Set);var r=t+"__bubble";n.has(r)||(FS(e,t,2,!1),n.add(r))}function Am(t,e,n){var r=0;e&&(r|=4),FS(n,t,r,e)}var ud="_reactListening"+Math.random().toString(36).slice(2);function ku(t){if(!t[ud]){t[ud]=!0,q1.forEach(function(n){n!=="selectionchange"&&(cD.has(n)||Am(n,!1,t),Am(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ud]||(e[ud]=!0,Am("selectionchange",!1,e))}}function FS(t,e,n,r){switch(IS(e)){case 1:var i=SN;break;case 4:i=RN;break;default:i=kv}n=i.bind(null,e,n,t),i=void 0,!Og||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Os(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}aS(function(){var u=s,c=bv(n),d=[];e:{var h=MS.get(t);if(h!==void 0){var f=Nv,y=t;switch(t){case"keypress":if($d(n)===0)break e;case"keydown":case"keyup":f=UN;break;case"focusin":y="focus",f=Im;break;case"focusout":y="blur",f=Im;break;case"beforeblur":case"afterblur":f=Im;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Kw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=PN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=jN;break;case NS:case DS:case OS:f=xN;break;case VS:f=qN;break;case"scroll":f=bN;break;case"wheel":f=KN;break;case"copy":case"cut":case"paste":f=DN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Qw}var v=(e&4)!==0,w=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var p=u,g;p!==null;){g=p;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=Su(p,m),_!=null&&v.push(xu(p,_,g)))),w)break;p=p.return}0<v.length&&(h=new f(h,y,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Ng&&(y=n.relatedTarget||n.fromElement)&&(Os(y)||y[ri]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=u,y=y?Os(y):null,y!==null&&(w=Io(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(v=Kw,_="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Qw,_="onPointerLeave",m="onPointerEnter",p="pointer"),w=f==null?h:Jo(f),g=y==null?h:Jo(y),h=new v(_,p+"leave",f,n,c),h.target=w,h.relatedTarget=g,_=null,Os(c)===u&&(v=new v(m,p+"enter",y,n,c),v.target=g,v.relatedTarget=w,_=v),w=_,f&&y)t:{for(v=f,m=y,p=0,g=v;g;g=xo(g))p++;for(g=0,_=m;_;_=xo(_))g++;for(;0<p-g;)v=xo(v),p--;for(;0<g-p;)m=xo(m),g--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=xo(v),m=xo(m)}v=null}else v=null;f!==null&&oI(d,h,f,v,!1),y!==null&&w!==null&&oI(d,w,y,v,!0)}}e:{if(h=u?Jo(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var E=eD;else if(Jw(h))if(AS)E=iD;else{E=nD;var R=tD}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=rD);if(E&&(E=E(t,u))){bS(d,E,n,c);break e}R&&R(t,h,u),t==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&Ag(h,"number",h.value)}switch(R=u?Jo(u):window,t){case"focusin":(Jw(R)||R.contentEditable==="true")&&(Yo=R,$g=u,ru=null);break;case"focusout":ru=$g=Yo=null;break;case"mousedown":Ug=!0;break;case"contextmenu":case"mouseup":case"dragend":Ug=!1,rI(d,n,c);break;case"selectionchange":if(aD)break;case"keydown":case"keyup":rI(d,n,c)}var S;if(Ov)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Qo?SS(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(TS&&n.locale!=="ko"&&(Qo||P!=="onCompositionStart"?P==="onCompositionEnd"&&Qo&&(S=ES()):(Ni=c,xv="value"in Ni?Ni.value:Ni.textContent,Qo=!0)),R=yh(u,P),0<R.length&&(P=new Hw(P,t,null,n,c),d.push({event:P,listeners:R}),S?P.data=S:(S=RS(n),S!==null&&(P.data=S)))),(S=QN?YN(t,n):XN(t,n))&&(u=yh(u,"onBeforeInput"),0<u.length&&(c=new Hw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}LS(d,e)})}function xu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Su(t,n),s!=null&&r.unshift(xu(t,s,i)),s=Su(t,e),s!=null&&r.push(xu(t,s,i))),t=t.return}return r}function xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Su(n,s),l!=null&&o.unshift(xu(n,l,a))):i||(l=Su(n,s),l!=null&&o.push(xu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dD=/\r\n?/g,hD=/\u0000|\uFFFD/g;function aI(t){return(typeof t=="string"?t:""+t).replace(dD,`
`).replace(hD,"")}function cd(t,e,n){if(e=aI(e),aI(t)!==e&&n)throw Error(O(425))}function vh(){}var Bg=null,zg=null;function jg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wg=typeof setTimeout=="function"?setTimeout:void 0,fD=typeof clearTimeout=="function"?clearTimeout:void 0,lI=typeof Promise=="function"?Promise:void 0,pD=typeof queueMicrotask=="function"?queueMicrotask:typeof lI<"u"?function(t){return lI.resolve(null).then(t).catch(mD)}:Wg;function mD(t){setTimeout(function(){throw t})}function Cm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Au(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Au(e)}function $i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ya=Math.random().toString(36).slice(2),Er="__reactFiber$"+Ya,Nu="__reactProps$"+Ya,ri="__reactContainer$"+Ya,qg="__reactEvents$"+Ya,gD="__reactListeners$"+Ya,yD="__reactHandles$"+Ya;function Os(t){var e=t[Er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ri]||n[Er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uI(t);t!==null;){if(n=t[Er])return n;t=uI(t)}return e}t=n,n=t.parentNode}return null}function Ic(t){return t=t[Er]||t[ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function If(t){return t[Nu]||null}var Gg=[],Zo=-1;function us(t){return{current:t}}function qe(t){0>Zo||(t.current=Gg[Zo],Gg[Zo]=null,Zo--)}function Fe(t,e){Zo++,Gg[Zo]=t.current,t.current=e}var Ki={},rn=us(Ki),Rn=us(!1),Xs=Ki;function Ra(t,e){var n=t.type.contextTypes;if(!n)return Ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function _h(){qe(Rn),qe(rn)}function cI(t,e,n){if(rn.current!==Ki)throw Error(O(168));Fe(rn,e),Fe(Rn,n)}function $S(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,tN(t)||"Unknown",i));return rt({},n,r)}function wh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ki,Xs=rn.current,Fe(rn,t),Fe(Rn,Rn.current),!0}function dI(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=$S(t,e,Xs),r.__reactInternalMemoizedMergedChildContext=t,qe(Rn),qe(rn),Fe(rn,t)):qe(Rn),Fe(Rn,n)}var Kr=null,Ef=!1,km=!1;function US(t){Kr===null?Kr=[t]:Kr.push(t)}function vD(t){Ef=!0,US(t)}function cs(){if(!km&&Kr!==null){km=!0;var t=0,e=Ae;try{var n=Kr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kr=null,Ef=!1}catch(i){throw Kr!==null&&(Kr=Kr.slice(t+1)),dS(Av,cs),i}finally{Ae=e,km=!1}}return null}var ea=[],ta=0,Ih=null,Eh=0,qn=[],Gn=0,Js=null,Hr=1,Qr="";function Es(t,e){ea[ta++]=Eh,ea[ta++]=Ih,Ih=t,Eh=e}function BS(t,e,n){qn[Gn++]=Hr,qn[Gn++]=Qr,qn[Gn++]=Js,Js=t;var r=Hr;t=Qr;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var s=32-hr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Hr=1<<32-hr(e)+i|n<<i|r,Qr=s+t}else Hr=1<<s|n<<i|r,Qr=t}function Mv(t){t.return!==null&&(Es(t,1),BS(t,1,0))}function Lv(t){for(;t===Ih;)Ih=ea[--ta],ea[ta]=null,Eh=ea[--ta],ea[ta]=null;for(;t===Js;)Js=qn[--Gn],qn[Gn]=null,Qr=qn[--Gn],qn[Gn]=null,Hr=qn[--Gn],qn[Gn]=null}var Vn=null,Dn=null,Qe=!1,ur=null;function zS(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vn=t,Dn=$i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Js!==null?{id:Hr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vn=t,Dn=null,!0):!1;default:return!1}}function Kg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hg(t){if(Qe){var e=Dn;if(e){var n=e;if(!hI(t,e)){if(Kg(t))throw Error(O(418));e=$i(n.nextSibling);var r=Vn;e&&hI(t,e)?zS(r,n):(t.flags=t.flags&-4097|2,Qe=!1,Vn=t)}}else{if(Kg(t))throw Error(O(418));t.flags=t.flags&-4097|2,Qe=!1,Vn=t}}}function fI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vn=t}function dd(t){if(t!==Vn)return!1;if(!Qe)return fI(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jg(t.type,t.memoizedProps)),e&&(e=Dn)){if(Kg(t))throw jS(),Error(O(418));for(;e;)zS(t,e),e=$i(e.nextSibling)}if(fI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=$i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Vn?$i(t.stateNode.nextSibling):null;return!0}function jS(){for(var t=Dn;t;)t=$i(t.nextSibling)}function ba(){Dn=Vn=null,Qe=!1}function Fv(t){ur===null?ur=[t]:ur.push(t)}var _D=ci.ReactCurrentBatchConfig;function ar(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Th=us(null),Sh=null,na=null,$v=null;function Uv(){$v=na=Sh=null}function Bv(t){var e=Th.current;qe(Th),t._currentValue=e}function Qg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ha(t,e){Sh=t,$v=na=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if($v!==t)if(t={context:t,memoizedValue:e,next:null},na===null){if(Sh===null)throw Error(O(308));na=t,Sh.dependencies={lanes:0,firstContext:t}}else na=na.next=t;return e}var Vs=null;function zv(t){Vs===null?Vs=[t]:Vs.push(t)}function WS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zv(e)):(n.next=i.next,i.next=n),e.interleaved=n,ii(t,r)}function ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ai=!1;function jv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ii(t,n)}return i=r.interleaved,i===null?(e.next=e,zv(r)):(e.next=i.next,i.next=e),r.interleaved=e,ii(t,n)}function Ud(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pv(t,n)}}function pI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rh(t,e,n,r){var i=t.updateQueue;Ai=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(h=e,f=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(f,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(f,d,h):y,h==null)break e;d=rt({},d,h);break e;case 2:Ai=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);eo|=o,t.lanes=o,t.memoizedState=d}}function mI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var GS=new W1.Component().refs;function Yg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tf={isMounted:function(t){return(t=t._reactInternals)?Io(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=un(),i=zi(t),s=Zr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ui(t,s,i),e!==null&&(fr(e,t,i,r),Ud(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=un(),i=zi(t),s=Zr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ui(t,s,i),e!==null&&(fr(e,t,i,r),Ud(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=un(),r=zi(t),i=Zr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ui(t,i,r),e!==null&&(fr(e,t,r,n),Ud(e,t,r))}};function gI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Cu(n,r)||!Cu(i,s):!0}function KS(t,e,n){var r=!1,i=Ki,s=e.contextType;return typeof s=="object"&&s!==null?s=Jn(s):(i=bn(e)?Xs:rn.current,r=e.contextTypes,s=(r=r!=null)?Ra(t,i):Ki),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function yI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Tf.enqueueReplaceState(e,e.state,null)}function Xg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=GS,jv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jn(s):(s=bn(e)?Xs:rn.current,i.context=Ra(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Tf.enqueueReplaceState(i,i.state,null),Rh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===GS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function hd(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vI(t){var e=t._init;return e(t._payload)}function HS(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=ji(m,p),m.index=0,m.sibling=null,m}function s(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,g,_){return p===null||p.tag!==6?(p=Lm(g,m.mode,_),p.return=m,p):(p=i(p,g),p.return=m,p)}function l(m,p,g,_){var E=g.type;return E===Ho?c(m,p,g.props.children,_,g.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===bi&&vI(E)===p.type)?(_=i(p,g.props),_.ref=wl(m,p,g),_.return=m,_):(_=Gd(g.type,g.key,g.props,null,m.mode,_),_.ref=wl(m,p,g),_.return=m,_)}function u(m,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Fm(g,m.mode,_),p.return=m,p):(p=i(p,g.children||[]),p.return=m,p)}function c(m,p,g,_,E){return p===null||p.tag!==7?(p=Ws(g,m.mode,_,E),p.return=m,p):(p=i(p,g),p.return=m,p)}function d(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Lm(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case td:return g=Gd(p.type,p.key,p.props,null,m.mode,g),g.ref=wl(m,null,p),g.return=m,g;case Ko:return p=Fm(p,m.mode,g),p.return=m,p;case bi:var _=p._init;return d(m,_(p._payload),g)}if(Bl(p)||ml(p))return p=Ws(p,m.mode,g,null),p.return=m,p;hd(m,p)}return null}function h(m,p,g,_){var E=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:a(m,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case td:return g.key===E?l(m,p,g,_):null;case Ko:return g.key===E?u(m,p,g,_):null;case bi:return E=g._init,h(m,p,E(g._payload),_)}if(Bl(g)||ml(g))return E!==null?null:c(m,p,g,_,null);hd(m,g)}return null}function f(m,p,g,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,a(p,m,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case td:return m=m.get(_.key===null?g:_.key)||null,l(p,m,_,E);case Ko:return m=m.get(_.key===null?g:_.key)||null,u(p,m,_,E);case bi:var R=_._init;return f(m,p,g,R(_._payload),E)}if(Bl(_)||ml(_))return m=m.get(g)||null,c(p,m,_,E,null);hd(p,_)}return null}function y(m,p,g,_){for(var E=null,R=null,S=p,P=p=0,M=null;S!==null&&P<g.length;P++){S.index>P?(M=S,S=null):M=S.sibling;var C=h(m,S,g[P],_);if(C===null){S===null&&(S=M);break}t&&S&&C.alternate===null&&e(m,S),p=s(C,p,P),R===null?E=C:R.sibling=C,R=C,S=M}if(P===g.length)return n(m,S),Qe&&Es(m,P),E;if(S===null){for(;P<g.length;P++)S=d(m,g[P],_),S!==null&&(p=s(S,p,P),R===null?E=S:R.sibling=S,R=S);return Qe&&Es(m,P),E}for(S=r(m,S);P<g.length;P++)M=f(S,m,P,g[P],_),M!==null&&(t&&M.alternate!==null&&S.delete(M.key===null?P:M.key),p=s(M,p,P),R===null?E=M:R.sibling=M,R=M);return t&&S.forEach(function(B){return e(m,B)}),Qe&&Es(m,P),E}function v(m,p,g,_){var E=ml(g);if(typeof E!="function")throw Error(O(150));if(g=E.call(g),g==null)throw Error(O(151));for(var R=E=null,S=p,P=p=0,M=null,C=g.next();S!==null&&!C.done;P++,C=g.next()){S.index>P?(M=S,S=null):M=S.sibling;var B=h(m,S,C.value,_);if(B===null){S===null&&(S=M);break}t&&S&&B.alternate===null&&e(m,S),p=s(B,p,P),R===null?E=B:R.sibling=B,R=B,S=M}if(C.done)return n(m,S),Qe&&Es(m,P),E;if(S===null){for(;!C.done;P++,C=g.next())C=d(m,C.value,_),C!==null&&(p=s(C,p,P),R===null?E=C:R.sibling=C,R=C);return Qe&&Es(m,P),E}for(S=r(m,S);!C.done;P++,C=g.next())C=f(S,m,P,C.value,_),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?P:C.key),p=s(C,p,P),R===null?E=C:R.sibling=C,R=C);return t&&S.forEach(function(Z){return e(m,Z)}),Qe&&Es(m,P),E}function w(m,p,g,_){if(typeof g=="object"&&g!==null&&g.type===Ho&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case td:e:{for(var E=g.key,R=p;R!==null;){if(R.key===E){if(E=g.type,E===Ho){if(R.tag===7){n(m,R.sibling),p=i(R,g.props.children),p.return=m,m=p;break e}}else if(R.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===bi&&vI(E)===R.type){n(m,R.sibling),p=i(R,g.props),p.ref=wl(m,R,g),p.return=m,m=p;break e}n(m,R);break}else e(m,R);R=R.sibling}g.type===Ho?(p=Ws(g.props.children,m.mode,_,g.key),p.return=m,m=p):(_=Gd(g.type,g.key,g.props,null,m.mode,_),_.ref=wl(m,p,g),_.return=m,m=_)}return o(m);case Ko:e:{for(R=g.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=i(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Fm(g,m.mode,_),p.return=m,m=p}return o(m);case bi:return R=g._init,w(m,p,R(g._payload),_)}if(Bl(g))return y(m,p,g,_);if(ml(g))return v(m,p,g,_);hd(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,g),p.return=m,m=p):(n(m,p),p=Lm(g,m.mode,_),p.return=m,m=p),o(m)):n(m,p)}return w}var Aa=HS(!0),QS=HS(!1),Ec={},Mr=us(Ec),Du=us(Ec),Ou=us(Ec);function Ms(t){if(t===Ec)throw Error(O(174));return t}function Wv(t,e){switch(Fe(Ou,e),Fe(Du,t),Fe(Mr,Ec),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cg(e,t)}qe(Mr),Fe(Mr,e)}function Pa(){qe(Mr),qe(Du),qe(Ou)}function YS(t){Ms(Ou.current);var e=Ms(Mr.current),n=Cg(e,t.type);e!==n&&(Fe(Du,t),Fe(Mr,n))}function qv(t){Du.current===t&&(qe(Mr),qe(Du))}var et=us(0);function bh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xm=[];function Gv(){for(var t=0;t<xm.length;t++)xm[t]._workInProgressVersionPrimary=null;xm.length=0}var Bd=ci.ReactCurrentDispatcher,Nm=ci.ReactCurrentBatchConfig,Zs=0,tt=null,St=null,Ct=null,Ah=!1,iu=!1,Vu=0,wD=0;function Yt(){throw Error(O(321))}function Kv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pr(t[n],e[n]))return!1;return!0}function Hv(t,e,n,r,i,s){if(Zs=s,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bd.current=t===null||t.memoizedState===null?SD:RD,t=n(r,i),iu){s=0;do{if(iu=!1,Vu=0,25<=s)throw Error(O(301));s+=1,Ct=St=null,e.updateQueue=null,Bd.current=bD,t=n(r,i)}while(iu)}if(Bd.current=Ph,e=St!==null&&St.next!==null,Zs=0,Ct=St=tt=null,Ah=!1,e)throw Error(O(300));return t}function Qv(){var t=Vu!==0;return Vu=0,t}function _r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?tt.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Zn(){if(St===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Ct===null?tt.memoizedState:Ct.next;if(e!==null)Ct=e,St=t;else{if(t===null)throw Error(O(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Ct===null?tt.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Mu(t,e){return typeof e=="function"?e(t):e}function Dm(t){var e=Zn(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=St,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Zs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,tt.lanes|=c,eo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,pr(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,tt.lanes|=s,eo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Om(t){var e=Zn(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);pr(s,e.memoizedState)||(In=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function XS(){}function JS(t,e){var n=tt,r=Zn(),i=e(),s=!pr(r.memoizedState,i);if(s&&(r.memoizedState=i,In=!0),r=r.queue,Yv(tR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,Lu(9,eR.bind(null,n,r,i,e),void 0,null),xt===null)throw Error(O(349));Zs&30||ZS(n,e,i)}return i}function ZS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eR(t,e,n,r){e.value=n,e.getSnapshot=r,nR(e)&&rR(t)}function tR(t,e,n){return n(function(){nR(e)&&rR(t)})}function nR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pr(t,n)}catch{return!0}}function rR(t){var e=ii(t,1);e!==null&&fr(e,t,1,-1)}function _I(t){var e=_r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:t},e.queue=t,t=t.dispatch=TD.bind(null,tt,t),[e.memoizedState,t]}function Lu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iR(){return Zn().memoizedState}function zd(t,e,n,r){var i=_r();tt.flags|=t,i.memoizedState=Lu(1|e,n,void 0,r===void 0?null:r)}function Sf(t,e,n,r){var i=Zn();r=r===void 0?null:r;var s=void 0;if(St!==null){var o=St.memoizedState;if(s=o.destroy,r!==null&&Kv(r,o.deps)){i.memoizedState=Lu(e,n,s,r);return}}tt.flags|=t,i.memoizedState=Lu(1|e,n,s,r)}function wI(t,e){return zd(8390656,8,t,e)}function Yv(t,e){return Sf(2048,8,t,e)}function sR(t,e){return Sf(4,2,t,e)}function oR(t,e){return Sf(4,4,t,e)}function aR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lR(t,e,n){return n=n!=null?n.concat([t]):null,Sf(4,4,aR.bind(null,e,t),n)}function Xv(){}function uR(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cR(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dR(t,e,n){return Zs&21?(pr(n,e)||(n=pS(),tt.lanes|=n,eo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function ID(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Nm.transition;Nm.transition={};try{t(!1),e()}finally{Ae=n,Nm.transition=r}}function hR(){return Zn().memoizedState}function ED(t,e,n){var r=zi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fR(t))pR(e,n);else if(n=WS(t,e,n,r),n!==null){var i=un();fr(n,t,r,i),mR(n,e,r)}}function TD(t,e,n){var r=zi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fR(t))pR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,pr(a,o)){var l=e.interleaved;l===null?(i.next=i,zv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=WS(t,e,i,r),n!==null&&(i=un(),fr(n,t,r,i),mR(n,e,r))}}function fR(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function pR(t,e){iu=Ah=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pv(t,n)}}var Ph={readContext:Jn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},SD={readContext:Jn,useCallback:function(t,e){return _r().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:wI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zd(4194308,4,aR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zd(4194308,4,t,e)},useInsertionEffect:function(t,e){return zd(4,2,t,e)},useMemo:function(t,e){var n=_r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ED.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=_r();return t={current:t},e.memoizedState=t},useState:_I,useDebugValue:Xv,useDeferredValue:function(t){return _r().memoizedState=t},useTransition:function(){var t=_I(!1),e=t[0];return t=ID.bind(null,t[1]),_r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,i=_r();if(Qe){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),xt===null)throw Error(O(349));Zs&30||ZS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,wI(tR.bind(null,r,s,t),[t]),r.flags|=2048,Lu(9,eR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=_r(),e=xt.identifierPrefix;if(Qe){var n=Qr,r=Hr;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RD={readContext:Jn,useCallback:uR,useContext:Jn,useEffect:Yv,useImperativeHandle:lR,useInsertionEffect:sR,useLayoutEffect:oR,useMemo:cR,useReducer:Dm,useRef:iR,useState:function(){return Dm(Mu)},useDebugValue:Xv,useDeferredValue:function(t){var e=Zn();return dR(e,St.memoizedState,t)},useTransition:function(){var t=Dm(Mu)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:XS,useSyncExternalStore:JS,useId:hR,unstable_isNewReconciler:!1},bD={readContext:Jn,useCallback:uR,useContext:Jn,useEffect:Yv,useImperativeHandle:lR,useInsertionEffect:sR,useLayoutEffect:oR,useMemo:cR,useReducer:Om,useRef:iR,useState:function(){return Om(Mu)},useDebugValue:Xv,useDeferredValue:function(t){var e=Zn();return St===null?e.memoizedState=t:dR(e,St.memoizedState,t)},useTransition:function(){var t=Om(Mu)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:XS,useSyncExternalStore:JS,useId:hR,unstable_isNewReconciler:!1};function Ca(t,e){try{var n="",r=e;do n+=eN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AD=typeof WeakMap=="function"?WeakMap:Map;function gR(t,e,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kh||(kh=!0,ly=r),Jg(t,e)},n}function yR(t,e,n){n=Zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jg(t,e),typeof r!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function II(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BD.bind(null,t,e,n),e.then(t,t))}function EI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function TI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zr(-1,1),e.tag=2,Ui(n,e,1))),n.lanes|=1),t)}var PD=ci.ReactCurrentOwner,In=!1;function sn(t,e,n,r){e.child=t===null?QS(e,null,n,r):Aa(e,t.child,n,r)}function SI(t,e,n,r,i){n=n.render;var s=e.ref;return ha(e,i),r=Hv(t,e,n,r,s,i),n=Qv(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,si(t,e,i)):(Qe&&n&&Mv(e),e.flags|=1,sn(t,e,r,i),e.child)}function RI(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!s_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vR(t,e,s,r,i)):(t=Gd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cu,n(o,r)&&t.ref===e.ref)return si(t,e,i)}return e.flags|=1,t=ji(s,r),t.ref=e.ref,t.return=e,e.child=t}function vR(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Cu(s,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,si(t,e,i)}return Zg(t,e,n,r,i)}function _R(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(ia,kn),kn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(ia,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fe(ia,kn),kn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Fe(ia,kn),kn|=r;return sn(t,e,i,n),e.child}function wR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zg(t,e,n,r,i){var s=bn(n)?Xs:rn.current;return s=Ra(e,s),ha(e,i),n=Hv(t,e,n,r,s,i),r=Qv(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,si(t,e,i)):(Qe&&r&&Mv(e),e.flags|=1,sn(t,e,n,i),e.child)}function bI(t,e,n,r,i){if(bn(n)){var s=!0;wh(e)}else s=!1;if(ha(e,i),e.stateNode===null)jd(t,e),KS(e,n,r),Xg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jn(u):(u=bn(n)?Xs:rn.current,u=Ra(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&yI(e,o,r,u),Ai=!1;var h=e.memoizedState;o.state=h,Rh(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Rn.current||Ai?(typeof c=="function"&&(Yg(e,n,c,r),l=e.memoizedState),(a=Ai||gI(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,qS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ar(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jn(l):(l=bn(n)?Xs:rn.current,l=Ra(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&yI(e,o,r,l),Ai=!1,h=e.memoizedState,o.state=h,Rh(e,r,o,i);var y=e.memoizedState;a!==d||h!==y||Rn.current||Ai?(typeof f=="function"&&(Yg(e,n,f,r),y=e.memoizedState),(u=Ai||gI(e,n,u,r,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ey(t,e,n,r,s,i)}function ey(t,e,n,r,i,s){wR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&dI(e,n,!1),si(t,e,s);r=e.stateNode,PD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Aa(e,t.child,null,s),e.child=Aa(e,null,a,s)):sn(t,e,a,s),e.memoizedState=r.state,i&&dI(e,n,!0),e.child}function IR(t){var e=t.stateNode;e.pendingContext?cI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cI(t,e.context,!1),Wv(t,e.containerInfo)}function AI(t,e,n,r,i){return ba(),Fv(i),e.flags|=256,sn(t,e,n,r),e.child}var ty={dehydrated:null,treeContext:null,retryLane:0};function ny(t){return{baseLanes:t,cachePool:null,transitions:null}}function ER(t,e,n){var r=e.pendingProps,i=et.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(et,i&1),t===null)return Hg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Af(o,r,0,null),t=Ws(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ny(n),e.memoizedState=ty,t):Jv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ji(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ji(a,s):(s=Ws(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ny(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ty,r}return s=t.child,t=s.sibling,r=ji(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jv(t,e){return e=Af({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fd(t,e,n,r){return r!==null&&Fv(r),Aa(e,t.child,null,n),t=Jv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vm(Error(O(422))),fd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Af({mode:"visible",children:r.children},i,0,null),s=Ws(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Aa(e,t.child,null,o),e.child.memoizedState=ny(o),e.memoizedState=ty,s);if(!(e.mode&1))return fd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=Vm(s,r,void 0),fd(t,e,o,r)}if(a=(o&t.childLanes)!==0,In||a){if(r=xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ii(t,i),fr(r,t,i,-1))}return i_(),r=Vm(Error(O(421))),fd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dn=$i(i.nextSibling),Vn=e,Qe=!0,ur=null,t!==null&&(qn[Gn++]=Hr,qn[Gn++]=Qr,qn[Gn++]=Js,Hr=t.id,Qr=t.overflow,Js=e),e=Jv(e,r.children),e.flags|=4096,e)}function PI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qg(t.return,e,n)}function Mm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function TR(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(sn(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PI(t,n,e);else if(t.tag===19)PI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mm(e,!0,n,null,s);break;case"together":Mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),eo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kD(t,e,n){switch(e.tag){case 3:IR(e),ba();break;case 5:YS(e);break;case 1:bn(e.type)&&wh(e);break;case 4:Wv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Th,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?ER(t,e,n):(Fe(et,et.current&1),t=si(t,e,n),t!==null?t.sibling:null);Fe(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,_R(t,e,n)}return si(t,e,n)}var SR,ry,RR,bR;SR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ry=function(){};RR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ms(Mr.current);var s=null;switch(n){case"input":i=Rg(t,i),r=Rg(t,r),s=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),s=[];break;case"textarea":i=Pg(t,i),r=Pg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vh)}kg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};bR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Il(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xD(t,e,n){var r=e.pendingProps;switch(Lv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return bn(e.type)&&_h(),Xt(e),null;case 3:return r=e.stateNode,Pa(),qe(Rn),qe(rn),Gv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ur!==null&&(dy(ur),ur=null))),ry(t,e),Xt(e),null;case 5:qv(e);var i=Ms(Ou.current);if(n=e.type,t!==null&&e.stateNode!=null)RR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Xt(e),null}if(t=Ms(Mr.current),dd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Er]=e,r[Nu]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<jl.length;i++)ze(jl[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Lw(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":$w(r,s),ze("invalid",r)}kg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&cd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cd(r.textContent,a,t),i=["children",""+a]):Eu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":nd(r),Fw(r,s,!0);break;case"textarea":nd(r),Uw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=vh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Z1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Er]=e,t[Nu]=r,SR(t,e,!1,!1),e.stateNode=t;e:{switch(o=xg(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<jl.length;i++)ze(jl[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":Lw(t,r),i=Rg(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),ze("invalid",t);break;case"textarea":$w(t,r),i=Pg(t,r),ze("invalid",t);break;default:i=r}kg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?nS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tu(t,l):typeof l=="number"&&Tu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&Ev(t,s,l,o))}switch(n){case"input":nd(t),Fw(t,r,!1);break;case"textarea":nd(t),Uw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?la(t,!!r.multiple,s,!1):r.defaultValue!=null&&la(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)bR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=Ms(Ou.current),Ms(Mr.current),dd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Er]=e,(s=r.nodeValue!==n)&&(t=Vn,t!==null))switch(t.tag){case 3:cd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Er]=e,e.stateNode=r}return Xt(e),null;case 13:if(qe(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&Dn!==null&&e.mode&1&&!(e.flags&128))jS(),ba(),e.flags|=98560,s=!1;else if(s=dd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[Er]=e}else ba(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),s=!1}else ur!==null&&(dy(ur),ur=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?Rt===0&&(Rt=3):i_())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return Pa(),ry(t,e),t===null&&ku(e.stateNode.containerInfo),Xt(e),null;case 10:return Bv(e.type._context),Xt(e),null;case 17:return bn(e.type)&&_h(),Xt(e),null;case 19:if(qe(et),s=e.memoizedState,s===null)return Xt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Il(s,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bh(t),o!==null){for(e.flags|=128,Il(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(et,et.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>ka&&(e.flags|=128,r=!0,Il(s,!1),e.lanes=4194304)}else{if(!r)if(t=bh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Il(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Xt(e),null}else 2*dt()-s.renderingStartTime>ka&&n!==1073741824&&(e.flags|=128,r=!0,Il(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=et.current,Fe(et,r?n&1|2:n&1),e):(Xt(e),null);case 22:case 23:return r_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function ND(t,e){switch(Lv(e),e.tag){case 1:return bn(e.type)&&_h(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pa(),qe(Rn),qe(rn),Gv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qv(e),null;case 13:if(qe(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));ba()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(et),null;case 4:return Pa(),null;case 10:return Bv(e.type._context),null;case 22:case 23:return r_(),null;case 24:return null;default:return null}}var pd=!1,en=!1,DD=typeof WeakSet=="function"?WeakSet:Set,G=null;function ra(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function iy(t,e,n){try{n()}catch(r){at(t,e,r)}}var CI=!1;function OD(t,e){if(Bg=mh,t=kS(),Vv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zg={focusedElem:t,selectionRange:n},mh=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:ar(e.type,v),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(_){at(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return y=CI,CI=!1,y}function su(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&iy(e,n,s)}i=i.next}while(i!==r)}}function Rf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AR(t){var e=t.alternate;e!==null&&(t.alternate=null,AR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Er],delete e[Nu],delete e[qg],delete e[gD],delete e[yD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PR(t){return t.tag===5||t.tag===3||t.tag===4}function kI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vh));else if(r!==4&&(t=t.child,t!==null))for(oy(t,e,n),t=t.sibling;t!==null;)oy(t,e,n),t=t.sibling}function ay(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ay(t,e,n),t=t.sibling;t!==null;)ay(t,e,n),t=t.sibling}var $t=null,lr=!1;function wi(t,e,n){for(n=n.child;n!==null;)CR(t,e,n),n=n.sibling}function CR(t,e,n){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(yf,n)}catch{}switch(n.tag){case 5:en||ra(n,e);case 6:var r=$t,i=lr;$t=null,wi(t,e,n),$t=r,lr=i,$t!==null&&(lr?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(lr?(t=$t,n=n.stateNode,t.nodeType===8?Cm(t.parentNode,n):t.nodeType===1&&Cm(t,n),Au(t)):Cm($t,n.stateNode));break;case 4:r=$t,i=lr,$t=n.stateNode.containerInfo,lr=!0,wi(t,e,n),$t=r,lr=i;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&iy(n,e,o),i=i.next}while(i!==r)}wi(t,e,n);break;case 1:if(!en&&(ra(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}wi(t,e,n);break;case 21:wi(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,wi(t,e,n),en=r):wi(t,e,n);break;default:wi(t,e,n)}}function xI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DD),e.forEach(function(r){var i=jD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,lr=!1;break e;case 3:$t=a.stateNode.containerInfo,lr=!0;break e;case 4:$t=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if($t===null)throw Error(O(160));CR(s,o,i),$t=null,lr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kR(e,t),e=e.sibling}function kR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),vr(t),r&4){try{su(3,t,t.return),Rf(3,t)}catch(v){at(t,t.return,v)}try{su(5,t,t.return)}catch(v){at(t,t.return,v)}}break;case 1:or(e,t),vr(t),r&512&&n!==null&&ra(n,n.return);break;case 5:if(or(e,t),vr(t),r&512&&n!==null&&ra(n,n.return),t.flags&32){var i=t.stateNode;try{Tu(i,"")}catch(v){at(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&X1(i,s),xg(a,o);var u=xg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?nS(i,d):c==="dangerouslySetInnerHTML"?eS(i,d):c==="children"?Tu(i,d):Ev(i,c,d,u)}switch(a){case"input":bg(i,s);break;case"textarea":J1(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?la(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?la(i,!!s.multiple,s.defaultValue,!0):la(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nu]=s}catch(v){at(t,t.return,v)}}break;case 6:if(or(e,t),vr(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){at(t,t.return,v)}}break;case 3:if(or(e,t),vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Au(e.containerInfo)}catch(v){at(t,t.return,v)}break;case 4:or(e,t),vr(t);break;case 13:or(e,t),vr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(t_=dt())),r&4&&xI(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(en=(u=en)||c,or(e,t),en=u):or(e,t),vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(G=t,c=t.child;c!==null;){for(d=G=c;G!==null;){switch(h=G,f=h.child,h.tag){case 0:case 11:case 14:case 15:su(4,h,h.return);break;case 1:ra(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){at(r,n,v)}}break;case 5:ra(h,h.return);break;case 22:if(h.memoizedState!==null){DI(d);continue}}f!==null?(f.return=h,G=f):DI(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tS("display",o))}catch(v){at(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){at(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:or(e,t),vr(t),r&4&&xI(t);break;case 21:break;default:or(e,t),vr(t)}}function vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PR(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tu(i,""),r.flags&=-33);var s=kI(t);ay(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kI(t);oy(t,a,o);break;default:throw Error(O(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VD(t,e,n){G=t,xR(t)}function xR(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||pd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||en;a=pd;var u=en;if(pd=o,(en=l)&&!u)for(G=i;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?OI(i):l!==null?(l.return=o,G=l):OI(i);for(;s!==null;)G=s,xR(s),s=s.sibling;G=i,pd=a,en=u}NI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):NI(t)}}function NI(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||Rf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ar(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&mI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Au(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}en||e.flags&512&&sy(e)}catch(h){at(e,e.return,h)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function DI(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function OI(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rf(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var s=e.return;try{sy(e)}catch(l){at(e,s,l)}break;case 5:var o=e.return;try{sy(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var MD=Math.ceil,Ch=ci.ReactCurrentDispatcher,Zv=ci.ReactCurrentOwner,Yn=ci.ReactCurrentBatchConfig,_e=0,xt=null,It=null,Wt=0,kn=0,ia=us(0),Rt=0,Fu=null,eo=0,bf=0,e_=0,ou=null,wn=null,t_=0,ka=1/0,Gr=null,kh=!1,ly=null,Bi=null,md=!1,Di=null,xh=0,au=0,uy=null,Wd=-1,qd=0;function un(){return _e&6?dt():Wd!==-1?Wd:Wd=dt()}function zi(t){return t.mode&1?_e&2&&Wt!==0?Wt&-Wt:_D.transition!==null?(qd===0&&(qd=pS()),qd):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:IS(t.type)),t):1}function fr(t,e,n,r){if(50<au)throw au=0,uy=null,Error(O(185));_c(t,n,r),(!(_e&2)||t!==xt)&&(t===xt&&(!(_e&2)&&(bf|=n),Rt===4&&Ci(t,Wt)),An(t,r),n===1&&_e===0&&!(e.mode&1)&&(ka=dt()+500,Ef&&cs()))}function An(t,e){var n=t.callbackNode;_N(t,e);var r=ph(t,t===xt?Wt:0);if(r===0)n!==null&&jw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jw(n),e===1)t.tag===0?vD(VI.bind(null,t)):US(VI.bind(null,t)),pD(function(){!(_e&6)&&cs()}),n=null;else{switch(mS(r)){case 1:n=Av;break;case 4:n=hS;break;case 16:n=fh;break;case 536870912:n=fS;break;default:n=fh}n=$R(n,NR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NR(t,e){if(Wd=-1,qd=0,_e&6)throw Error(O(327));var n=t.callbackNode;if(fa()&&t.callbackNode!==n)return null;var r=ph(t,t===xt?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nh(t,r);else{e=r;var i=_e;_e|=2;var s=OR();(xt!==t||Wt!==e)&&(Gr=null,ka=dt()+500,js(t,e));do try{$D();break}catch(a){DR(t,a)}while(1);Uv(),Ch.current=s,_e=i,It!==null?e=0:(xt=null,Wt=0,e=Rt)}if(e!==0){if(e===2&&(i=Mg(t),i!==0&&(r=i,e=cy(t,i))),e===1)throw n=Fu,js(t,0),Ci(t,r),An(t,dt()),n;if(e===6)Ci(t,r);else{if(i=t.current.alternate,!(r&30)&&!LD(i)&&(e=Nh(t,r),e===2&&(s=Mg(t),s!==0&&(r=s,e=cy(t,s))),e===1))throw n=Fu,js(t,0),Ci(t,r),An(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:Ts(t,wn,Gr);break;case 3:if(Ci(t,r),(r&130023424)===r&&(e=t_+500-dt(),10<e)){if(ph(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){un(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wg(Ts.bind(null,t,wn,Gr),e);break}Ts(t,wn,Gr);break;case 4:if(Ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MD(r/1960))-r,10<r){t.timeoutHandle=Wg(Ts.bind(null,t,wn,Gr),r);break}Ts(t,wn,Gr);break;case 5:Ts(t,wn,Gr);break;default:throw Error(O(329))}}}return An(t,dt()),t.callbackNode===n?NR.bind(null,t):null}function cy(t,e){var n=ou;return t.current.memoizedState.isDehydrated&&(js(t,e).flags|=256),t=Nh(t,e),t!==2&&(e=wn,wn=n,e!==null&&dy(e)),t}function dy(t){wn===null?wn=t:wn.push.apply(wn,t)}function LD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e){for(e&=~e_,e&=~bf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function VI(t){if(_e&6)throw Error(O(327));fa();var e=ph(t,0);if(!(e&1))return An(t,dt()),null;var n=Nh(t,e);if(t.tag!==0&&n===2){var r=Mg(t);r!==0&&(e=r,n=cy(t,r))}if(n===1)throw n=Fu,js(t,0),Ci(t,e),An(t,dt()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ts(t,wn,Gr),An(t,dt()),null}function n_(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(ka=dt()+500,Ef&&cs())}}function to(t){Di!==null&&Di.tag===0&&!(_e&6)&&fa();var e=_e;_e|=1;var n=Yn.transition,r=Ae;try{if(Yn.transition=null,Ae=1,t)return t()}finally{Ae=r,Yn.transition=n,_e=e,!(_e&6)&&cs()}}function r_(){kn=ia.current,qe(ia)}function js(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fD(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(Lv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_h();break;case 3:Pa(),qe(Rn),qe(rn),Gv();break;case 5:qv(r);break;case 4:Pa();break;case 13:qe(et);break;case 19:qe(et);break;case 10:Bv(r.type._context);break;case 22:case 23:r_()}n=n.return}if(xt=t,It=t=ji(t.current,null),Wt=kn=e,Rt=0,Fu=null,e_=bf=eo=0,wn=ou=null,Vs!==null){for(e=0;e<Vs.length;e++)if(n=Vs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Vs=null}return t}function DR(t,e){do{var n=It;try{if(Uv(),Bd.current=Ph,Ah){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ah=!1}if(Zs=0,Ct=St=tt=null,iu=!1,Vu=0,Zv.current=null,n===null||n.return===null){Rt=1,Fu=e,It=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=EI(o);if(f!==null){f.flags&=-257,TI(f,o,a,s,e),f.mode&1&&II(s,u,e),e=f,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){II(s,u,e),i_();break e}l=Error(O(426))}}else if(Qe&&a.mode&1){var w=EI(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),TI(w,o,a,s,e),Fv(Ca(l,a));break e}}s=l=Ca(l,a),Rt!==4&&(Rt=2),ou===null?ou=[s]:ou.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=gR(s,l,e);pI(s,m);break e;case 1:a=l;var p=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Bi===null||!Bi.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=yR(s,a,e);pI(s,_);break e}}s=s.return}while(s!==null)}MR(n)}catch(E){e=E,It===n&&n!==null&&(It=n=n.return);continue}break}while(1)}function OR(){var t=Ch.current;return Ch.current=Ph,t===null?Ph:t}function i_(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),xt===null||!(eo&268435455)&&!(bf&268435455)||Ci(xt,Wt)}function Nh(t,e){var n=_e;_e|=2;var r=OR();(xt!==t||Wt!==e)&&(Gr=null,js(t,e));do try{FD();break}catch(i){DR(t,i)}while(1);if(Uv(),_e=n,Ch.current=r,It!==null)throw Error(O(261));return xt=null,Wt=0,Rt}function FD(){for(;It!==null;)VR(It)}function $D(){for(;It!==null&&!cN();)VR(It)}function VR(t){var e=FR(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?MR(t):It=e,Zv.current=null}function MR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ND(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,It=null;return}}else if(n=xD(n,e,kn),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Rt===0&&(Rt=5)}function Ts(t,e,n){var r=Ae,i=Yn.transition;try{Yn.transition=null,Ae=1,UD(t,e,n,r)}finally{Yn.transition=i,Ae=r}return null}function UD(t,e,n,r){do fa();while(Di!==null);if(_e&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wN(t,s),t===xt&&(It=xt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||md||(md=!0,$R(fh,function(){return fa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yn.transition,Yn.transition=null;var o=Ae;Ae=1;var a=_e;_e|=4,Zv.current=null,OD(t,n),kR(n,t),oD(zg),mh=!!Bg,zg=Bg=null,t.current=n,VD(n),dN(),_e=a,Ae=o,Yn.transition=s}else t.current=n;if(md&&(md=!1,Di=t,xh=i),s=t.pendingLanes,s===0&&(Bi=null),pN(n.stateNode),An(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kh)throw kh=!1,t=ly,ly=null,t;return xh&1&&t.tag!==0&&fa(),s=t.pendingLanes,s&1?t===uy?au++:(au=0,uy=t):au=0,cs(),null}function fa(){if(Di!==null){var t=mS(xh),e=Yn.transition,n=Ae;try{if(Yn.transition=null,Ae=16>t?16:t,Di===null)var r=!1;else{if(t=Di,Di=null,xh=0,_e&6)throw Error(O(331));var i=_e;for(_e|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(G=u;G!==null;){var c=G;switch(c.tag){case 0:case 11:case 15:su(8,c,s)}var d=c.child;if(d!==null)d.return=c,G=d;else for(;G!==null;){c=G;var h=c.sibling,f=c.return;if(AR(c),c===u){G=null;break}if(h!==null){h.return=f,G=h;break}G=f}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:su(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,G=m;break e}G=s.return}}var p=t.current;for(G=p;G!==null;){o=G;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,G=g;else e:for(o=p;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rf(9,a)}}catch(E){at(a,a.return,E)}if(a===o){G=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,G=_;break e}G=a.return}}if(_e=i,cs(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(yf,t)}catch{}r=!0}return r}finally{Ae=n,Yn.transition=e}}return!1}function MI(t,e,n){e=Ca(n,e),e=gR(t,e,1),t=Ui(t,e,1),e=un(),t!==null&&(_c(t,1,e),An(t,e))}function at(t,e,n){if(t.tag===3)MI(t,t,n);else for(;e!==null;){if(e.tag===3){MI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bi===null||!Bi.has(r))){t=Ca(n,t),t=yR(e,t,1),e=Ui(e,t,1),t=un(),e!==null&&(_c(e,1,t),An(e,t));break}}e=e.return}}function BD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=un(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Wt&n)===n&&(Rt===4||Rt===3&&(Wt&130023424)===Wt&&500>dt()-t_?js(t,0):e_|=n),An(t,e)}function LR(t,e){e===0&&(t.mode&1?(e=sd,sd<<=1,!(sd&130023424)&&(sd=4194304)):e=1);var n=un();t=ii(t,e),t!==null&&(_c(t,e,n),An(t,n))}function zD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LR(t,n)}function jD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),LR(t,n)}var FR;FR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rn.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,kD(t,e,n);In=!!(t.flags&131072)}else In=!1,Qe&&e.flags&1048576&&BS(e,Eh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jd(t,e),t=e.pendingProps;var i=Ra(e,rn.current);ha(e,n),i=Hv(null,e,r,t,i,n);var s=Qv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(s=!0,wh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jv(e),i.updater=Tf,e.stateNode=i,i._reactInternals=e,Xg(e,r,t,n),e=ey(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&Mv(e),sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=qD(r),t=ar(r,t),i){case 0:e=Zg(null,e,r,t,n);break e;case 1:e=bI(null,e,r,t,n);break e;case 11:e=SI(null,e,r,t,n);break e;case 14:e=RI(null,e,r,ar(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),Zg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),bI(t,e,r,i,n);case 3:e:{if(IR(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,qS(t,e),Rh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ca(Error(O(423)),e),e=AI(t,e,r,n,i);break e}else if(r!==i){i=Ca(Error(O(424)),e),e=AI(t,e,r,n,i);break e}else for(Dn=$i(e.stateNode.containerInfo.firstChild),Vn=e,Qe=!0,ur=null,n=QS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ba(),r===i){e=si(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return YS(e),t===null&&Hg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,jg(r,i)?o=null:s!==null&&jg(r,s)&&(e.flags|=32),wR(t,e),sn(t,e,o,n),e.child;case 6:return t===null&&Hg(e),null;case 13:return ER(t,e,n);case 4:return Wv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Aa(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),SI(t,e,r,i,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Fe(Th,r._currentValue),r._currentValue=o,s!==null)if(pr(s.value,o)){if(s.children===i.children&&!Rn.current){e=si(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Zr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Qg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ha(e,n),i=Jn(i),r=r(i),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,i=ar(r,e.pendingProps),i=ar(r.type,i),RI(t,e,r,i,n);case 15:return vR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),jd(t,e),e.tag=1,bn(r)?(t=!0,wh(e)):t=!1,ha(e,n),KS(e,r,i),Xg(e,r,i,n),ey(null,e,r,!0,t,n);case 19:return TR(t,e,n);case 22:return _R(t,e,n)}throw Error(O(156,e.tag))};function $R(t,e){return dS(t,e)}function WD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new WD(t,e,n,r)}function s_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qD(t){if(typeof t=="function")return s_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sv)return 11;if(t===Rv)return 14}return 2}function ji(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")s_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ho:return Ws(n.children,i,s,e);case Tv:o=8,i|=8;break;case Ig:return t=Hn(12,n,e,i|2),t.elementType=Ig,t.lanes=s,t;case Eg:return t=Hn(13,n,e,i),t.elementType=Eg,t.lanes=s,t;case Tg:return t=Hn(19,n,e,i),t.elementType=Tg,t.lanes=s,t;case H1:return Af(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G1:o=10;break e;case K1:o=9;break e;case Sv:o=11;break e;case Rv:o=14;break e;case bi:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ws(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function Af(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=H1,t.lanes=n,t.stateNode={isHidden:!1},t}function Lm(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function Fm(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vm(0),this.expirationTimes=vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o_(t,e,n,r,i,s,o,a,l){return t=new GD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jv(s),t}function KD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function UR(t){if(!t)return Ki;t=t._reactInternals;e:{if(Io(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(bn(n))return $S(t,n,e)}return e}function BR(t,e,n,r,i,s,o,a,l){return t=o_(n,r,!0,t,i,s,o,a,l),t.context=UR(null),n=t.current,r=un(),i=zi(n),s=Zr(r,i),s.callback=e??null,Ui(n,s,i),t.current.lanes=i,_c(t,i,r),An(t,r),t}function Pf(t,e,n,r){var i=e.current,s=un(),o=zi(i);return n=UR(n),e.context===null?e.context=n:e.pendingContext=n,e=Zr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ui(i,e,o),t!==null&&(fr(t,i,o,s),Ud(t,i,o)),o}function Dh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function LI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function a_(t,e){LI(t,e),(t=t.alternate)&&LI(t,e)}function HD(){return null}var zR=typeof reportError=="function"?reportError:function(t){console.error(t)};function l_(t){this._internalRoot=t}Cf.prototype.render=l_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Pf(t,e,null,null)};Cf.prototype.unmount=l_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;to(function(){Pf(null,t,null,null)}),e[ri]=null}};function Cf(t){this._internalRoot=t}Cf.prototype.unstable_scheduleHydration=function(t){if(t){var e=vS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pi.length&&e!==0&&e<Pi[n].priority;n++);Pi.splice(n,0,t),n===0&&wS(t)}};function u_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function FI(){}function QD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Dh(o);s.call(u)}}var o=BR(e,r,t,0,null,!1,!1,"",FI);return t._reactRootContainer=o,t[ri]=o.current,ku(t.nodeType===8?t.parentNode:t),to(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Dh(l);a.call(u)}}var l=o_(t,0,!1,null,null,!1,!1,"",FI);return t._reactRootContainer=l,t[ri]=l.current,ku(t.nodeType===8?t.parentNode:t),to(function(){Pf(e,l,n,r)}),l}function xf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Dh(o);a.call(l)}}Pf(e,o,t,i)}else o=QD(n,e,t,i,r);return Dh(o)}gS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zl(e.pendingLanes);n!==0&&(Pv(e,n|1),An(e,dt()),!(_e&6)&&(ka=dt()+500,cs()))}break;case 13:to(function(){var r=ii(t,1);if(r!==null){var i=un();fr(r,t,1,i)}}),a_(t,1)}};Cv=function(t){if(t.tag===13){var e=ii(t,134217728);if(e!==null){var n=un();fr(e,t,134217728,n)}a_(t,134217728)}};yS=function(t){if(t.tag===13){var e=zi(t),n=ii(t,e);if(n!==null){var r=un();fr(n,t,e,r)}a_(t,e)}};vS=function(){return Ae};_S=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Dg=function(t,e,n){switch(e){case"input":if(bg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=If(r);if(!i)throw Error(O(90));Y1(r),bg(r,i)}}}break;case"textarea":J1(t,n);break;case"select":e=n.value,e!=null&&la(t,!!n.multiple,e,!1)}};sS=n_;oS=to;var YD={usingClientEntryPoint:!1,Events:[Ic,Jo,If,rS,iS,n_]},El={findFiberByHostInstance:Os,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XD={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uS(t),t===null?null:t.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||HD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{yf=gd.inject(XD),Vr=gd}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YD;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u_(e))throw Error(O(200));return KD(t,e,null,n)};Bn.createRoot=function(t,e){if(!u_(t))throw Error(O(299));var n=!1,r="",i=zR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=o_(t,1,!1,null,null,n,!1,r,i),t[ri]=e.current,ku(t.nodeType===8?t.parentNode:t),new l_(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=uS(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return to(t)};Bn.hydrate=function(t,e,n){if(!kf(e))throw Error(O(200));return xf(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!u_(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=zR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=BR(e,null,t,1,n??null,i,!1,s,o),t[ri]=e.current,ku(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cf(e)};Bn.render=function(t,e,n){if(!kf(e))throw Error(O(200));return xf(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!kf(t))throw Error(O(40));return t._reactRootContainer?(to(function(){xf(null,null,t,!1,function(){t._reactRootContainer=null,t[ri]=null})}),!0):!1};Bn.unstable_batchedUpdates=n_;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kf(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return xf(t,e,n,!1,r)};Bn.version="18.2.0-next-9e3b772b8-20220608";function jR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jR)}catch(t){console.error(t)}}jR(),B1.exports=Bn;var Nf=B1.exports;const yd=k1(Nf);var $I=Nf;_g.createRoot=$I.createRoot,_g.hydrateRoot=$I.hydrateRoot;const JD={black:"#000",white:"#fff"},$u=JD,ZD={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},No=ZD,eO={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Do=eO,tO={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"},nO=tO,rO={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Oo=rO,iO={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Vo=iO,sO={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Mo=sO,oO={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Tl=oO,aO={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},lO=aO;function T(){return T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T.apply(this,arguments)}function Ps(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function WR(t){if(!Ps(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=WR(t[n])}),e}function Xn(t,e,n={clone:!0}){const r=n.clone?T({},t):t;return Ps(t)&&Ps(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Ps(e[i])&&i in t&&Ps(t[i])?r[i]=Xn(t[i],e[i],n):n.clone?r[i]=Ps(e[i])?WR(e[i]):e[i]:r[i]=e[i])}),r}function Hi(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_=Symbol.for("react.element"),d_=Symbol.for("react.portal"),Df=Symbol.for("react.fragment"),Of=Symbol.for("react.strict_mode"),Vf=Symbol.for("react.profiler"),Mf=Symbol.for("react.provider"),Lf=Symbol.for("react.context"),uO=Symbol.for("react.server_context"),Ff=Symbol.for("react.forward_ref"),$f=Symbol.for("react.suspense"),Uf=Symbol.for("react.suspense_list"),Bf=Symbol.for("react.memo"),zf=Symbol.for("react.lazy"),cO=Symbol.for("react.offscreen"),qR;qR=Symbol.for("react.module.reference");function tr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case c_:switch(t=t.type,t){case Df:case Vf:case Of:case $f:case Uf:return t;default:switch(t=t&&t.$$typeof,t){case uO:case Lf:case Ff:case zf:case Bf:case Mf:return t;default:return e}}case d_:return e}}}xe.ContextConsumer=Lf;xe.ContextProvider=Mf;xe.Element=c_;xe.ForwardRef=Ff;xe.Fragment=Df;xe.Lazy=zf;xe.Memo=Bf;xe.Portal=d_;xe.Profiler=Vf;xe.StrictMode=Of;xe.Suspense=$f;xe.SuspenseList=Uf;xe.isAsyncMode=function(){return!1};xe.isConcurrentMode=function(){return!1};xe.isContextConsumer=function(t){return tr(t)===Lf};xe.isContextProvider=function(t){return tr(t)===Mf};xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===c_};xe.isForwardRef=function(t){return tr(t)===Ff};xe.isFragment=function(t){return tr(t)===Df};xe.isLazy=function(t){return tr(t)===zf};xe.isMemo=function(t){return tr(t)===Bf};xe.isPortal=function(t){return tr(t)===d_};xe.isProfiler=function(t){return tr(t)===Vf};xe.isStrictMode=function(t){return tr(t)===Of};xe.isSuspense=function(t){return tr(t)===$f};xe.isSuspenseList=function(t){return tr(t)===Uf};xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Df||t===Vf||t===Of||t===$f||t===Uf||t===cO||typeof t=="object"&&t!==null&&(t.$$typeof===zf||t.$$typeof===Bf||t.$$typeof===Mf||t.$$typeof===Lf||t.$$typeof===Ff||t.$$typeof===qR||t.getModuleId!==void 0)};xe.typeOf=tr;function Ie(t){if(typeof t!="string")throw new Error(Hi(7));return t.charAt(0).toUpperCase()+t.slice(1)}function UI(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function GR(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function Kd(t,e){return I.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function Mn(t){return t&&t.ownerDocument||document}function no(t){return Mn(t).defaultView||window}function hy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const dO=typeof window<"u"?I.useLayoutEffect:I.useEffect,ro=dO;let BI=0;function hO(t){const[e,n]=I.useState(t),r=t||e;return I.useEffect(()=>{e==null&&(BI+=1,n(`mui-${BI}`))},[e]),r}const zI=vg["useId".toString()];function fO(t){if(zI!==void 0){const e=zI();return t??e}return hO(t)}function jI({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=I.useRef(t!==void 0),[s,o]=I.useState(e),a=i?t:s,l=I.useCallback(u=>{i||o(u)},[]);return[a,l]}function sa(t){const e=I.useRef(t);return ro(()=>{e.current=t}),I.useCallback((...n)=>(0,e.current)(...n),[])}function hn(...t){return I.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{hy(n,e)})},t)}let jf=!0,fy=!1,WI;const pO={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function mO(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&pO[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function gO(t){t.metaKey||t.altKey||t.ctrlKey||(jf=!0)}function $m(){jf=!1}function yO(){this.visibilityState==="hidden"&&fy&&(jf=!0)}function vO(t){t.addEventListener("keydown",gO,!0),t.addEventListener("mousedown",$m,!0),t.addEventListener("pointerdown",$m,!0),t.addEventListener("touchstart",$m,!0),t.addEventListener("visibilitychange",yO,!0)}function _O(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return jf||mO(e)}function wO(){const t=I.useCallback(i=>{i!=null&&vO(i.ownerDocument)},[]),e=I.useRef(!1);function n(){return e.current?(fy=!0,window.clearTimeout(WI),WI=window.setTimeout(()=>{fy=!1},100),e.current=!1,!0):!1}function r(i){return _O(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function KR(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function h_(t,e){const n=T({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=T({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=T({},s),Object.keys(i).forEach(o=>{n[r][o]=h_(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Ue(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const qI=t=>t,IO=()=>{let t=qI;return{configure(e){t=e},generate(e){return t(e)},reset(){t=qI}}},EO=IO(),HR=EO,TO={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Ve(t,e,n="Mui"){const r=TO[e];return r?`${n}-${r}`:`${HR.generate(t)}-${e}`}function Ne(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Ve(t,i,n)}),r}const Tc="$$material";function ne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QR(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var SO=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,RO=QR(function(t){return SO.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function bO(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function AO(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var PO=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AO(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=bO(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Zt="-ms-",Oh="-moz-",Ee="-webkit-",YR="comm",f_="rule",p_="decl",CO="@import",XR="@keyframes",kO="@layer",xO=Math.abs,Wf=String.fromCharCode,NO=Object.assign;function DO(t,e){return Bt(t,0)^45?(((e<<2^Bt(t,0))<<2^Bt(t,1))<<2^Bt(t,2))<<2^Bt(t,3):0}function JR(t){return t.trim()}function OO(t,e){return(t=e.exec(t))?t[0]:t}function Te(t,e,n){return t.replace(e,n)}function py(t,e){return t.indexOf(e)}function Bt(t,e){return t.charCodeAt(e)|0}function Uu(t,e,n){return t.slice(e,n)}function wr(t){return t.length}function m_(t){return t.length}function vd(t,e){return e.push(t),t}function VO(t,e){return t.map(e).join("")}var qf=1,xa=1,ZR=0,Pn=0,wt=0,Xa="";function Gf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:qf,column:xa,length:o,return:""}}function Sl(t,e){return NO(Gf("",null,null,"",null,null,0),t,{length:-t.length},e)}function MO(){return wt}function LO(){return wt=Pn>0?Bt(Xa,--Pn):0,xa--,wt===10&&(xa=1,qf--),wt}function Ln(){return wt=Pn<ZR?Bt(Xa,Pn++):0,xa++,wt===10&&(xa=1,qf++),wt}function Lr(){return Bt(Xa,Pn)}function Hd(){return Pn}function Sc(t,e){return Uu(Xa,t,e)}function Bu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eb(t){return qf=xa=1,ZR=wr(Xa=t),Pn=0,[]}function tb(t){return Xa="",t}function Qd(t){return JR(Sc(Pn-1,my(t===91?t+2:t===40?t+1:t)))}function FO(t){for(;(wt=Lr())&&wt<33;)Ln();return Bu(t)>2||Bu(wt)>3?"":" "}function $O(t,e){for(;--e&&Ln()&&!(wt<48||wt>102||wt>57&&wt<65||wt>70&&wt<97););return Sc(t,Hd()+(e<6&&Lr()==32&&Ln()==32))}function my(t){for(;Ln();)switch(wt){case t:return Pn;case 34:case 39:t!==34&&t!==39&&my(wt);break;case 40:t===41&&my(t);break;case 92:Ln();break}return Pn}function UO(t,e){for(;Ln()&&t+wt!==47+10;)if(t+wt===42+42&&Lr()===47)break;return"/*"+Sc(e,Pn-1)+"*"+Wf(t===47?t:Ln())}function BO(t){for(;!Bu(Lr());)Ln();return Sc(t,Pn)}function zO(t){return tb(Yd("",null,null,null,[""],t=eb(t),0,[0],t))}function Yd(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,y=0,v=1,w=1,m=1,p=0,g="",_=i,E=s,R=r,S=g;w;)switch(y=p,p=Ln()){case 40:if(y!=108&&Bt(S,d-1)==58){py(S+=Te(Qd(p),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:S+=Qd(p);break;case 9:case 10:case 13:case 32:S+=FO(y);break;case 92:S+=$O(Hd()-1,7);continue;case 47:switch(Lr()){case 42:case 47:vd(jO(UO(Ln(),Hd()),e,n),l);break;default:S+="/"}break;case 123*v:a[u++]=wr(S)*m;case 125*v:case 59:case 0:switch(p){case 0:case 125:w=0;case 59+c:m==-1&&(S=Te(S,/\f/g,"")),f>0&&wr(S)-d&&vd(f>32?KI(S+";",r,n,d-1):KI(Te(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(vd(R=GI(S,e,n,u,c,i,a,g,_=[],E=[],d),s),p===123)if(c===0)Yd(S,e,R,R,_,s,d,a,E);else switch(h===99&&Bt(S,3)===110?100:h){case 100:case 108:case 109:case 115:Yd(t,R,R,r&&vd(GI(t,R,R,0,0,i,a,g,i,_=[],d),E),i,E,d,a,r?_:E);break;default:Yd(S,R,R,R,[""],E,0,a,E)}}u=c=f=0,v=m=1,g=S="",d=o;break;case 58:d=1+wr(S),f=y;default:if(v<1){if(p==123)--v;else if(p==125&&v++==0&&LO()==125)continue}switch(S+=Wf(p),p*v){case 38:m=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(wr(S)-1)*m,m=1;break;case 64:Lr()===45&&(S+=Qd(Ln())),h=Lr(),c=d=wr(g=S+=BO(Hd())),p++;break;case 45:y===45&&wr(S)==2&&(v=0)}}return s}function GI(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=m_(h),y=0,v=0,w=0;y<r;++y)for(var m=0,p=Uu(t,d+1,d=xO(v=o[y])),g=t;m<f;++m)(g=JR(v>0?h[m]+" "+p:Te(p,/&\f/g,h[m])))&&(l[w++]=g);return Gf(t,e,n,i===0?f_:a,l,u,c)}function jO(t,e,n){return Gf(t,e,n,YR,Wf(MO()),Uu(t,2,-2),0)}function KI(t,e,n,r){return Gf(t,e,n,p_,Uu(t,0,r),Uu(t,r+1,-1),r)}function pa(t,e){for(var n="",r=m_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function WO(t,e,n,r){switch(t.type){case kO:if(t.children.length)break;case CO:case p_:return t.return=t.return||t.value;case YR:return"";case XR:return t.return=t.value+"{"+pa(t.children,r)+"}";case f_:t.value=t.props.join(",")}return wr(n=pa(t.children,r))?t.return=t.value+"{"+n+"}":""}function qO(t){var e=m_(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function GO(t){return function(e){e.root||(e=e.return)&&t(e)}}var KO=function(e,n,r){for(var i=0,s=0;i=s,s=Lr(),i===38&&s===12&&(n[r]=1),!Bu(s);)Ln();return Sc(e,Pn)},HO=function(e,n){var r=-1,i=44;do switch(Bu(i)){case 0:i===38&&Lr()===12&&(n[r]=1),e[r]+=KO(Pn-1,n,r);break;case 2:e[r]+=Qd(i);break;case 4:if(i===44){e[++r]=Lr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Wf(i)}while(i=Ln());return e},QO=function(e,n){return tb(HO(eb(e),n))},HI=new WeakMap,YO=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!HI.get(r))&&!i){HI.set(e,!0);for(var s=[],o=QO(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},XO=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function nb(t,e){switch(DO(t,e)){case 5103:return Ee+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ee+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ee+t+Oh+t+Zt+t+t;case 6828:case 4268:return Ee+t+Zt+t+t;case 6165:return Ee+t+Zt+"flex-"+t+t;case 5187:return Ee+t+Te(t,/(\w+).+(:[^]+)/,Ee+"box-$1$2"+Zt+"flex-$1$2")+t;case 5443:return Ee+t+Zt+"flex-item-"+Te(t,/flex-|-self/,"")+t;case 4675:return Ee+t+Zt+"flex-line-pack"+Te(t,/align-content|flex-|-self/,"")+t;case 5548:return Ee+t+Zt+Te(t,"shrink","negative")+t;case 5292:return Ee+t+Zt+Te(t,"basis","preferred-size")+t;case 6060:return Ee+"box-"+Te(t,"-grow","")+Ee+t+Zt+Te(t,"grow","positive")+t;case 4554:return Ee+Te(t,/([^-])(transform)/g,"$1"+Ee+"$2")+t;case 6187:return Te(Te(Te(t,/(zoom-|grab)/,Ee+"$1"),/(image-set)/,Ee+"$1"),t,"")+t;case 5495:case 3959:return Te(t,/(image-set\([^]*)/,Ee+"$1$`$1");case 4968:return Te(Te(t,/(.+:)(flex-)?(.*)/,Ee+"box-pack:$3"+Zt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ee+t+t;case 4095:case 3583:case 4068:case 2532:return Te(t,/(.+)-inline(.+)/,Ee+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wr(t)-1-e>6)switch(Bt(t,e+1)){case 109:if(Bt(t,e+4)!==45)break;case 102:return Te(t,/(.+:)(.+)-([^]+)/,"$1"+Ee+"$2-$3$1"+Oh+(Bt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~py(t,"stretch")?nb(Te(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Bt(t,e+1)!==115)break;case 6444:switch(Bt(t,wr(t)-3-(~py(t,"!important")&&10))){case 107:return Te(t,":",":"+Ee)+t;case 101:return Te(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ee+(Bt(t,14)===45?"inline-":"")+"box$3$1"+Ee+"$2$3$1"+Zt+"$2box$3")+t}break;case 5936:switch(Bt(t,e+11)){case 114:return Ee+t+Zt+Te(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ee+t+Zt+Te(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ee+t+Zt+Te(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ee+t+Zt+t+t}return t}var JO=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case p_:e.return=nb(e.value,e.length);break;case XR:return pa([Sl(e,{value:Te(e.value,"@","@"+Ee)})],i);case f_:if(e.length)return VO(e.props,function(s){switch(OO(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return pa([Sl(e,{props:[Te(s,/:(read-\w+)/,":"+Oh+"$1")]})],i);case"::placeholder":return pa([Sl(e,{props:[Te(s,/:(plac\w+)/,":"+Ee+"input-$1")]}),Sl(e,{props:[Te(s,/:(plac\w+)/,":"+Oh+"$1")]}),Sl(e,{props:[Te(s,/:(plac\w+)/,Zt+"input-$1")]})],i)}return""})}},ZO=[JO],eV=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var w=v.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||ZO,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var w=v.getAttribute("data-emotion").split(" "),m=1;m<w.length;m++)s[w[m]]=!0;a.push(v)});var l,u=[YO,XO];{var c,d=[WO,GO(function(v){c.insert(v)})],h=qO(u.concat(i,d)),f=function(w){return pa(zO(w),h)};l=function(w,m,p,g){c=p,f(w?w+"{"+m.styles+"}":m.styles),g&&(y.inserted[m.name]=!0)}}var y={key:n,sheet:new PO({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y},rb={exports:{}},Ce={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ot=typeof Symbol=="function"&&Symbol.for,g_=Ot?Symbol.for("react.element"):60103,y_=Ot?Symbol.for("react.portal"):60106,Kf=Ot?Symbol.for("react.fragment"):60107,Hf=Ot?Symbol.for("react.strict_mode"):60108,Qf=Ot?Symbol.for("react.profiler"):60114,Yf=Ot?Symbol.for("react.provider"):60109,Xf=Ot?Symbol.for("react.context"):60110,v_=Ot?Symbol.for("react.async_mode"):60111,Jf=Ot?Symbol.for("react.concurrent_mode"):60111,Zf=Ot?Symbol.for("react.forward_ref"):60112,ep=Ot?Symbol.for("react.suspense"):60113,tV=Ot?Symbol.for("react.suspense_list"):60120,tp=Ot?Symbol.for("react.memo"):60115,np=Ot?Symbol.for("react.lazy"):60116,nV=Ot?Symbol.for("react.block"):60121,rV=Ot?Symbol.for("react.fundamental"):60117,iV=Ot?Symbol.for("react.responder"):60118,sV=Ot?Symbol.for("react.scope"):60119;function jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case g_:switch(t=t.type,t){case v_:case Jf:case Kf:case Qf:case Hf:case ep:return t;default:switch(t=t&&t.$$typeof,t){case Xf:case Zf:case np:case tp:case Yf:return t;default:return e}}case y_:return e}}}function ib(t){return jn(t)===Jf}Ce.AsyncMode=v_;Ce.ConcurrentMode=Jf;Ce.ContextConsumer=Xf;Ce.ContextProvider=Yf;Ce.Element=g_;Ce.ForwardRef=Zf;Ce.Fragment=Kf;Ce.Lazy=np;Ce.Memo=tp;Ce.Portal=y_;Ce.Profiler=Qf;Ce.StrictMode=Hf;Ce.Suspense=ep;Ce.isAsyncMode=function(t){return ib(t)||jn(t)===v_};Ce.isConcurrentMode=ib;Ce.isContextConsumer=function(t){return jn(t)===Xf};Ce.isContextProvider=function(t){return jn(t)===Yf};Ce.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===g_};Ce.isForwardRef=function(t){return jn(t)===Zf};Ce.isFragment=function(t){return jn(t)===Kf};Ce.isLazy=function(t){return jn(t)===np};Ce.isMemo=function(t){return jn(t)===tp};Ce.isPortal=function(t){return jn(t)===y_};Ce.isProfiler=function(t){return jn(t)===Qf};Ce.isStrictMode=function(t){return jn(t)===Hf};Ce.isSuspense=function(t){return jn(t)===ep};Ce.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kf||t===Jf||t===Qf||t===Hf||t===ep||t===tV||typeof t=="object"&&t!==null&&(t.$$typeof===np||t.$$typeof===tp||t.$$typeof===Yf||t.$$typeof===Xf||t.$$typeof===Zf||t.$$typeof===rV||t.$$typeof===iV||t.$$typeof===sV||t.$$typeof===nV)};Ce.typeOf=jn;rb.exports=Ce;var oV=rb.exports,sb=oV,aV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ob={};ob[sb.ForwardRef]=aV;ob[sb.Memo]=lV;var uV=!0;function cV(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var ab=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||uV===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},lb=function(e,n,r){ab(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function dV(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var hV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fV=/[A-Z]|^ms/g,pV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ub=function(e){return e.charCodeAt(1)===45},QI=function(e){return e!=null&&typeof e!="boolean"},Um=QR(function(t){return ub(t)?t:t.replace(fV,"-$&").toLowerCase()}),YI=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(pV,function(r,i,s){return Ir={name:i,styles:s,next:Ir},i})}return hV[e]!==1&&!ub(e)&&typeof n=="number"&&n!==0?n+"px":n};function zu(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ir={name:n.name,styles:n.styles,next:Ir},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ir={name:r.name,styles:r.styles,next:Ir},r=r.next;var i=n.styles+";";return i}return mV(t,e,n)}case"function":{if(t!==void 0){var s=Ir,o=n(t);return Ir=s,zu(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function mV(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=zu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":QI(o)&&(r+=Um(s)+":"+YI(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)QI(o[a])&&(r+=Um(s)+":"+YI(s,o[a])+";");else{var l=zu(t,e,o);switch(s){case"animation":case"animationName":{r+=Um(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var XI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ir,__=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ir=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=zu(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=zu(r,n,e[a]),i&&(s+=o[a]);XI.lastIndex=0;for(var l="",u;(u=XI.exec(s))!==null;)l+="-"+u[1];var c=dV(s)+l;return{name:c,styles:s,next:Ir}},gV=function(e){return e()},cb=vg["useInsertionEffect"]?vg["useInsertionEffect"]:!1,yV=cb||gV,JI=cb||I.useLayoutEffect,db=I.createContext(typeof HTMLElement<"u"?eV({key:"css"}):null);db.Provider;var hb=function(e){return I.forwardRef(function(n,r){var i=I.useContext(db);return e(n,i,r)})},w_=I.createContext({}),vV=hb(function(t,e){var n=t.styles,r=__([n],void 0,I.useContext(w_)),i=I.useRef();return JI(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),JI(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&lb(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function _V(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return __(e)}var I_=function(){var e=_V.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},wV=RO,IV=function(e){return e!=="theme"},ZI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?wV:IV},eE=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},EV=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return ab(n,r,i),yV(function(){return lb(n,r,i)}),null},TV=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=eE(e,n,r),l=a||ZI(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var y=hb(function(v,w,m){var p=u&&v.as||i,g="",_=[],E=v;if(v.theme==null){E={};for(var R in v)E[R]=v[R];E.theme=I.useContext(w_)}typeof v.className=="string"?g=cV(w.registered,_,v.className):v.className!=null&&(g=v.className+" ");var S=__(d.concat(_),w.registered,E);g+=w.key+"-"+S.name,o!==void 0&&(g+=" "+o);var P=u&&a===void 0?ZI(p):l,M={};for(var C in v)u&&C==="as"||P(C)&&(M[C]=v[C]);return M.className=g,M.ref=m,I.createElement(I.Fragment,null,I.createElement(EV,{cache:w,serialized:S,isStringTag:typeof p=="string"}),I.createElement(p,M))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=d,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(v,w){return t(v,T({},n,w,{shouldForwardProp:eE(y,w,!0)})).apply(void 0,d)},y}},SV=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],gy=TV.bind();SV.forEach(function(t){gy[t]=gy(t)});function RV(t){return t==null||Object.keys(t).length===0}function bV(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(RV(i)?n:i):e;return k.jsx(vV,{styles:r})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function fb(t,e){return gy(t,e)}const AV=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},PV=["values","unit","step"],CV=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>T({},n,{[r.key]:r.val}),{})};function kV(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=ne(t,PV),s=CV(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const y=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(y!==-1&&typeof e[o[y]]=="number"?e[o[y]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return T({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const xV={borderRadius:4},NV=xV;function lu(t,e){return e?Xn(t,e,{clone:!1}):t}const E_={xs:0,sm:600,md:900,lg:1200,xl:1536},tE={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${E_[t]}px)`};function oi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||tE;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||tE;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||E_).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function DV(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function OV(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function rp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Vh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=rp(t,n)||r,e&&(i=e(i,r,t)),i}function Re(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=rp(l,r)||{};return oi(o,a,d=>{let h=Vh(u,i,d);return d===h&&typeof d=="string"&&(h=Vh(u,i,`${e}${d==="default"?"":Ie(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function VV(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const MV={m:"margin",p:"padding"},LV={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},nE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},FV=VV(t=>{if(t.length>2)if(nE[t])t=nE[t];else return[t];const[e,n]=t.split(""),r=MV[e],i=LV[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),T_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],S_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...T_,...S_];function Rc(t,e,n,r){var i;const s=(i=rp(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function pb(t){return Rc(t,"spacing",8)}function bc(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function $V(t,e){return n=>t.reduce((r,i)=>(r[i]=bc(e,n),r),{})}function UV(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=FV(n),s=$V(i,r),o=t[n];return oi(t,o,s)}function mb(t,e){const n=pb(t.theme);return Object.keys(t).map(r=>UV(t,e,r,n)).reduce(lu,{})}function st(t){return mb(t,T_)}st.propTypes={};st.filterProps=T_;function ot(t){return mb(t,S_)}ot.propTypes={};ot.filterProps=S_;function BV(t=8){if(t.mui)return t;const e=pb({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function ip(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?lu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Tr(t){return typeof t!="number"?t:`${t}px solid`}const zV=Re({prop:"border",themeKey:"borders",transform:Tr}),jV=Re({prop:"borderTop",themeKey:"borders",transform:Tr}),WV=Re({prop:"borderRight",themeKey:"borders",transform:Tr}),qV=Re({prop:"borderBottom",themeKey:"borders",transform:Tr}),GV=Re({prop:"borderLeft",themeKey:"borders",transform:Tr}),KV=Re({prop:"borderColor",themeKey:"palette"}),HV=Re({prop:"borderTopColor",themeKey:"palette"}),QV=Re({prop:"borderRightColor",themeKey:"palette"}),YV=Re({prop:"borderBottomColor",themeKey:"palette"}),XV=Re({prop:"borderLeftColor",themeKey:"palette"}),sp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Rc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:bc(e,r)});return oi(t,t.borderRadius,n)}return null};sp.propTypes={};sp.filterProps=["borderRadius"];ip(zV,jV,WV,qV,GV,KV,HV,QV,YV,XV,sp);const op=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Rc(t.theme,"spacing",8),n=r=>({gap:bc(e,r)});return oi(t,t.gap,n)}return null};op.propTypes={};op.filterProps=["gap"];const ap=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Rc(t.theme,"spacing",8),n=r=>({columnGap:bc(e,r)});return oi(t,t.columnGap,n)}return null};ap.propTypes={};ap.filterProps=["columnGap"];const lp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Rc(t.theme,"spacing",8),n=r=>({rowGap:bc(e,r)});return oi(t,t.rowGap,n)}return null};lp.propTypes={};lp.filterProps=["rowGap"];const JV=Re({prop:"gridColumn"}),ZV=Re({prop:"gridRow"}),e2=Re({prop:"gridAutoFlow"}),t2=Re({prop:"gridAutoColumns"}),n2=Re({prop:"gridAutoRows"}),r2=Re({prop:"gridTemplateColumns"}),i2=Re({prop:"gridTemplateRows"}),s2=Re({prop:"gridTemplateAreas"}),o2=Re({prop:"gridArea"});ip(op,ap,lp,JV,ZV,e2,t2,n2,r2,i2,s2,o2);function ma(t,e){return e==="grey"?e:t}const a2=Re({prop:"color",themeKey:"palette",transform:ma}),l2=Re({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ma}),u2=Re({prop:"backgroundColor",themeKey:"palette",transform:ma});ip(a2,l2,u2);function Nn(t){return t<=1&&t!==0?`${t*100}%`:t}const c2=Re({prop:"width",transform:Nn}),R_=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r;return{maxWidth:((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||E_[n]||Nn(n)}};return oi(t,t.maxWidth,e)}return null};R_.filterProps=["maxWidth"];const d2=Re({prop:"minWidth",transform:Nn}),h2=Re({prop:"height",transform:Nn}),f2=Re({prop:"maxHeight",transform:Nn}),p2=Re({prop:"minHeight",transform:Nn});Re({prop:"size",cssProperty:"width",transform:Nn});Re({prop:"size",cssProperty:"height",transform:Nn});const m2=Re({prop:"boxSizing"});ip(c2,R_,d2,h2,f2,p2,m2);const g2={border:{themeKey:"borders",transform:Tr},borderTop:{themeKey:"borders",transform:Tr},borderRight:{themeKey:"borders",transform:Tr},borderBottom:{themeKey:"borders",transform:Tr},borderLeft:{themeKey:"borders",transform:Tr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sp},color:{themeKey:"palette",transform:ma},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ma},backgroundColor:{themeKey:"palette",transform:ma},p:{style:ot},pt:{style:ot},pr:{style:ot},pb:{style:ot},pl:{style:ot},px:{style:ot},py:{style:ot},padding:{style:ot},paddingTop:{style:ot},paddingRight:{style:ot},paddingBottom:{style:ot},paddingLeft:{style:ot},paddingX:{style:ot},paddingY:{style:ot},paddingInline:{style:ot},paddingInlineStart:{style:ot},paddingInlineEnd:{style:ot},paddingBlock:{style:ot},paddingBlockStart:{style:ot},paddingBlockEnd:{style:ot},m:{style:st},mt:{style:st},mr:{style:st},mb:{style:st},ml:{style:st},mx:{style:st},my:{style:st},margin:{style:st},marginTop:{style:st},marginRight:{style:st},marginBottom:{style:st},marginLeft:{style:st},marginX:{style:st},marginY:{style:st},marginInline:{style:st},marginInlineStart:{style:st},marginInlineEnd:{style:st},marginBlock:{style:st},marginBlockStart:{style:st},marginBlockEnd:{style:st},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:op},rowGap:{style:lp},columnGap:{style:ap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Nn},maxWidth:{style:R_},minWidth:{transform:Nn},height:{transform:Nn},maxHeight:{transform:Nn},minHeight:{transform:Nn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},up=g2;function y2(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function v2(t,e){return typeof t=="function"?t(e):t}function _2(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=rp(i,u)||{};return d?d(o):oi(o,r,y=>{let v=Vh(h,c,y);return y===v&&typeof y=="string"&&(v=Vh(h,c,`${n}${y==="default"?"":Ie(y)}`,y)),l===!1?v:{[l]:v}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:up;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=DV(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const y=v2(u[f],s);if(y!=null)if(typeof y=="object")if(o[f])h=lu(h,t(f,y,s,o));else{const v=oi({theme:s},y,w=>({[f]:w}));y2(v,y)?h[f]=e({sx:y,theme:s}):h=lu(h,v)}else h=lu(h,t(f,y,s,o))}),OV(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const gb=_2();gb.filterProps=["sx"];const cp=gb,w2=["breakpoints","palette","spacing","shape"];function b_(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=ne(t,w2),a=kV(n),l=BV(i);let u=Xn({breakpoints:a,direction:"ltr",components:{},palette:T({mode:"light"},r),spacing:l,shape:T({},NV,s)},o);return u=e.reduce((c,d)=>Xn(c,d),u),u.unstable_sxConfig=T({},up,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return cp({sx:d,theme:this})},u}function I2(t){return Object.keys(t).length===0}function E2(t=null){const e=I.useContext(w_);return!e||I2(e)?t:e}const T2=b_();function dp(t=T2){return E2(t)}function S2({styles:t,themeId:e,defaultTheme:n={}}){const r=dp(n),i=typeof t=="function"?t(e&&r[e]||r):t;return k.jsx(bV,{styles:i})}const R2=["sx"],b2=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:up;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function yb(t){const{sx:e}=t,n=ne(t,R2),{systemProps:r,otherProps:i}=b2(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ps(a)?T({},r,a):r}:s=T({},r,e),T({},i,{sx:s})}function vb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=vb(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function ue(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=vb(t))&&(r&&(r+=" "),r+=e);return r}const A2=["className","component"];function P2(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=fb("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(cp);return I.forwardRef(function(l,u){const c=dp(n),d=yb(l),{className:h,component:f="div"}=d,y=ne(d,A2);return k.jsx(s,T({as:f,ref:u,className:ue(h,i?i(r):r),theme:e&&c[e]||c},y))})}const C2=["variant"];function rE(t){return t.length===0}function _b(t){const{variant:e}=t,n=ne(t,C2);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=rE(r)?t[i]:Ie(t[i]):r+=`${rE(r)?i:Ie(i)}${Ie(t[i].toString())}`}),r}const k2=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function x2(t){return Object.keys(t).length===0}function N2(t){return typeof t=="string"&&t.charCodeAt(0)>96}const D2=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,O2=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=_b(i.props);r[s]=i.style}),r},V2=(t,e,n,r)=>{var i;const{ownerState:s={}}=t,o=[],a=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return a&&a.forEach(l=>{let u=!0;Object.keys(l.props).forEach(c=>{s[c]!==l.props[c]&&t[c]!==l.props[c]&&(u=!1)}),u&&o.push(e[_b(l.props)])}),o};function uu(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const M2=b_();function Rl({defaultTheme:t,theme:e,themeId:n}){return x2(e)?t:e[n]||e}function L2(t={}){const{themeId:e,defaultTheme:n=M2,rootShouldForwardProp:r=uu,slotShouldForwardProp:i=uu}=t,s=o=>cp(T({},o,{theme:Rl(T({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{AV(o,_=>_.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h}=a,f=ne(a,k2),y=c!==void 0?c:u&&u!=="Root"||!1,v=d||!1;let w,m=uu;u==="Root"?m=r:u?m=i:N2(o)&&(m=void 0);const p=fb(o,T({shouldForwardProp:m,label:w},f)),g=(_,...E)=>{const R=E?E.map(C=>typeof C=="function"&&C.__emotion_real!==C?B=>C(T({},B,{theme:Rl(T({},B,{defaultTheme:n,themeId:e}))})):C):[];let S=_;l&&h&&R.push(C=>{const B=Rl(T({},C,{defaultTheme:n,themeId:e})),Z=D2(l,B);if(Z){const K={};return Object.entries(Z).forEach(([$,L])=>{K[$]=typeof L=="function"?L(T({},C,{theme:B})):L}),h(C,K)}return null}),l&&!y&&R.push(C=>{const B=Rl(T({},C,{defaultTheme:n,themeId:e}));return V2(C,O2(l,B),B,l)}),v||R.push(s);const P=R.length-E.length;if(Array.isArray(_)&&P>0){const C=new Array(P).fill("");S=[..._,...C],S.raw=[..._.raw,...C]}else typeof _=="function"&&_.__emotion_real!==_&&(S=C=>_(T({},C,{theme:Rl(T({},C,{defaultTheme:n,themeId:e}))})));const M=p(S,...R);return o.muiName&&(M.muiName=o.muiName),M};return p.withConfig&&(g.withConfig=p.withConfig),g}}function F2(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:h_(e.components[n].defaultProps,r)}function $2({props:t,name:e,defaultTheme:n,themeId:r}){let i=dp(n);return r&&(i=i[r]||i),F2({theme:i,name:e,props:t})}function A_(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function U2(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function io(t){if(t.type)return t;if(t.charAt(0)==="#")return io(U2(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Hi(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Hi(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function hp(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function B2(t){t=io(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),hp({type:a,values:l})}function iE(t){t=io(t);let e=t.type==="hsl"||t.type==="hsla"?io(B2(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function z2(t,e){const n=iE(t),r=iE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Cr(t,e){return t=io(t),e=A_(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,hp(t)}function j2(t,e){if(t=io(t),e=A_(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return hp(t)}function W2(t,e){if(t=io(t),e=A_(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return hp(t)}function q2(t,e){return T({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const G2=["mode","contrastThreshold","tonalOffset"],sE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:$u.white,default:$u.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Bm={text:{primary:$u.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:$u.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function oE(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=W2(t.main,i):e==="dark"&&(t.dark=j2(t.main,s)))}function K2(t="light"){return t==="dark"?{main:Oo[200],light:Oo[50],dark:Oo[400]}:{main:Oo[700],light:Oo[400],dark:Oo[800]}}function H2(t="light"){return t==="dark"?{main:Do[200],light:Do[50],dark:Do[400]}:{main:Do[500],light:Do[300],dark:Do[700]}}function Q2(t="light"){return t==="dark"?{main:No[500],light:No[300],dark:No[700]}:{main:No[700],light:No[400],dark:No[800]}}function Y2(t="light"){return t==="dark"?{main:Vo[400],light:Vo[300],dark:Vo[700]}:{main:Vo[700],light:Vo[500],dark:Vo[900]}}function X2(t="light"){return t==="dark"?{main:Mo[400],light:Mo[300],dark:Mo[700]}:{main:Mo[800],light:Mo[500],dark:Mo[900]}}function J2(t="light"){return t==="dark"?{main:Tl[400],light:Tl[300],dark:Tl[700]}:{main:"#ed6c02",light:Tl[500],dark:Tl[900]}}function Z2(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=ne(t,G2),s=t.primary||K2(e),o=t.secondary||H2(e),a=t.error||Q2(e),l=t.info||Y2(e),u=t.success||X2(e),c=t.warning||J2(e);function d(v){return z2(v,Bm.text.primary)>=n?Bm.text.primary:sE.text.primary}const h=({color:v,name:w,mainShade:m=500,lightShade:p=300,darkShade:g=700})=>{if(v=T({},v),!v.main&&v[m]&&(v.main=v[m]),!v.hasOwnProperty("main"))throw new Error(Hi(11,w?` (${w})`:"",m));if(typeof v.main!="string")throw new Error(Hi(12,w?` (${w})`:"",JSON.stringify(v.main)));return oE(v,"light",p,r),oE(v,"dark",g,r),v.contrastText||(v.contrastText=d(v.main)),v},f={dark:Bm,light:sE};return Xn(T({common:T({},$u),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:lO,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const eM=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function tM(t){return Math.round(t*1e5)/1e5}const aE={textTransform:"uppercase"},lE='"Roboto", "Helvetica", "Arial", sans-serif';function nM(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=lE,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=ne(n,eM),f=i/14,y=d||(m=>`${m/u*f}rem`),v=(m,p,g,_,E)=>T({fontFamily:r,fontWeight:m,fontSize:y(p),lineHeight:g},r===lE?{letterSpacing:`${tM(_/p)}em`}:{},E,c),w={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(a,14,1.75,.4,aE),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,aE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Xn(T({htmlFontSize:u,pxToRem:y,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},w),h,{clone:!1})}const rM=.2,iM=.14,sM=.12;function He(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${rM})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${iM})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${sM})`].join(",")}const oM=["none",He(0,2,1,-1,0,1,1,0,0,1,3,0),He(0,3,1,-2,0,2,2,0,0,1,5,0),He(0,3,3,-2,0,3,4,0,0,1,8,0),He(0,2,4,-1,0,4,5,0,0,1,10,0),He(0,3,5,-1,0,5,8,0,0,1,14,0),He(0,3,5,-1,0,6,10,0,0,1,18,0),He(0,4,5,-2,0,7,10,1,0,2,16,1),He(0,5,5,-3,0,8,10,1,0,3,14,2),He(0,5,6,-3,0,9,12,1,0,3,16,2),He(0,6,6,-3,0,10,14,1,0,4,18,3),He(0,6,7,-4,0,11,15,1,0,4,20,3),He(0,7,8,-4,0,12,17,2,0,5,22,4),He(0,7,8,-4,0,13,19,2,0,5,24,4),He(0,7,9,-4,0,14,21,2,0,5,26,4),He(0,8,9,-5,0,15,22,2,0,6,28,5),He(0,8,10,-5,0,16,24,2,0,6,30,5),He(0,8,11,-5,0,17,26,2,0,6,32,5),He(0,9,11,-5,0,18,28,2,0,7,34,6),He(0,9,12,-6,0,19,29,2,0,7,36,6),He(0,10,13,-6,0,20,31,3,0,8,38,7),He(0,10,13,-6,0,21,33,3,0,8,40,7),He(0,10,14,-6,0,22,35,3,0,8,42,7),He(0,11,14,-7,0,23,36,3,0,9,44,8),He(0,11,15,-7,0,24,38,3,0,9,46,8)],aM=oM,lM=["duration","easing","delay"],uM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},cM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function uE(t){return`${Math.round(t)}ms`}function dM(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function hM(t){const e=T({},uM,t.easing),n=T({},cM,t.duration);return T({getAutoHeightDuration:dM,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return ne(s,lM),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:uE(o)} ${a} ${typeof l=="string"?l:uE(l)}`).join(",")}},t,{easing:e,duration:n})}const fM={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},pM=fM,mM=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function wb(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=ne(t,mM);if(t.vars)throw new Error(Hi(18));const a=Z2(r),l=b_(t);let u=Xn(l,{mixins:q2(l.breakpoints,n),palette:a,shadows:aM.slice(),typography:nM(a,s),transitions:hM(i),zIndex:T({},pM)});return u=Xn(u,o),u=e.reduce((c,d)=>Xn(c,d),u),u.unstable_sxConfig=T({},up,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return cp({sx:d,theme:this})},u}const gM=wb(),fp=gM;function P_(){const t=dp(fp);return t[Tc]||t}function Be({props:t,name:e}){return $2({props:t,name:e,defaultTheme:fp,themeId:Tc})}const di=t=>uu(t)&&t!=="classes",yM=uu,vM=L2({themeId:Tc,defaultTheme:fp,rootShouldForwardProp:di}),re=vM,_M=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},cE=_M;function so(t){return typeof t=="string"}function wM(t,e,n){return t===void 0||so(t)?e:T({},e,{ownerState:T({},e.ownerState,n)})}const IM={disableDefaultClasses:!1},EM=I.createContext(IM);function TM(t){const{disableDefaultClasses:e}=I.useContext(EM);return n=>e?"":t(n)}function SM(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function yy(t,e,n){return typeof t=="function"?t(e,n):t}function dE(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function RM(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=ue(i==null?void 0:i.className,r==null?void 0:r.className,s,n==null?void 0:n.className),y=T({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),v=T({},n,i,r);return f.length>0&&(v.className=f),Object.keys(y).length>0&&(v.style=y),{props:v,internalRef:void 0}}const o=SM(T({},i,r)),a=dE(r),l=dE(i),u=e(o),c=ue(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=T({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=T({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const bM=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Mh(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=ne(t,bM),a=s?{}:yy(r,i),{props:l,internalRef:u}=RM(T({},o,{externalSlotProps:a})),c=hn(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return wM(n,T({},l,{ref:c}),i)}const AM=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function PM(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function CM(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function kM(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||CM(t))}function xM(t){const e=[],n=[];return Array.from(t.querySelectorAll(AM)).forEach((r,i)=>{const s=PM(r);s===-1||!kM(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function NM(){return!0}function DM(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=xM,isEnabled:o=NM,open:a}=t,l=I.useRef(!1),u=I.useRef(null),c=I.useRef(null),d=I.useRef(null),h=I.useRef(null),f=I.useRef(!1),y=I.useRef(null),v=hn(e.ref,y),w=I.useRef(null);I.useEffect(()=>{!a||!y.current||(f.current=!n)},[n,a]),I.useEffect(()=>{if(!a||!y.current)return;const g=Mn(y.current);return y.current.contains(g.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),f.current&&y.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),I.useEffect(()=>{if(!a||!y.current)return;const g=Mn(y.current),_=S=>{const{current:P}=y;if(P!==null){if(!g.hasFocus()||r||!o()||l.current){l.current=!1;return}if(!P.contains(g.activeElement)){if(S&&h.current!==S.target||g.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let B=[];if((g.activeElement===u.current||g.activeElement===c.current)&&(B=s(y.current)),B.length>0){var M,C;const Z=!!((M=w.current)!=null&&M.shiftKey&&((C=w.current)==null?void 0:C.key)==="Tab"),K=B[0],$=B[B.length-1];typeof K!="string"&&typeof $!="string"&&(Z?$.focus():K.focus())}else P.focus()}}},E=S=>{w.current=S,!(r||!o()||S.key!=="Tab")&&g.activeElement===y.current&&S.shiftKey&&(l.current=!0,c.current&&c.current.focus())};g.addEventListener("focusin",_),g.addEventListener("keydown",E,!0);const R=setInterval(()=>{g.activeElement&&g.activeElement.tagName==="BODY"&&_(null)},50);return()=>{clearInterval(R),g.removeEventListener("focusin",_),g.removeEventListener("keydown",E,!0)}},[n,r,i,o,a,s]);const m=g=>{d.current===null&&(d.current=g.relatedTarget),f.current=!0,h.current=g.target;const _=e.props.onFocus;_&&_(g)},p=g=>{d.current===null&&(d.current=g.relatedTarget),f.current=!0};return k.jsxs(I.Fragment,{children:[k.jsx("div",{tabIndex:a?0:-1,onFocus:p,ref:u,"data-testid":"sentinelStart"}),I.cloneElement(e,{ref:v,onFocus:m}),k.jsx("div",{tabIndex:a?0:-1,onFocus:p,ref:c,"data-testid":"sentinelEnd"})]})}function OM(t){return typeof t=="function"?t():t}const VM=I.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=I.useState(null),l=hn(I.isValidElement(r)?r.ref:null,n);if(ro(()=>{s||a(OM(i)||document.body)},[i,s]),ro(()=>{if(o&&!s)return hy(n,o),()=>{hy(n,null)}},[n,o,s]),s){if(I.isValidElement(r)){const u={ref:l};return I.cloneElement(r,u)}return k.jsx(I.Fragment,{children:r})}return k.jsx(I.Fragment,{children:o&&Nf.createPortal(r,o)})}),MM=VM;function LM(t){const e=Mn(t);return e.body===t?no(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function cu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function hE(t){return parseInt(no(t).getComputedStyle(t).paddingRight,10)||0}function FM(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function fE(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!FM(o);a&&l&&cu(o,i)})}function zm(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function $M(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(LM(r)){const o=KR(Mn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${hE(r)+o}px`;const a=Mn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${hE(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Mn(r).body;else{const o=r.parentElement,a=no(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function UM(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class BM{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&cu(e.modalRef,!1);const i=UM(n);fE(n,e.mount,e.modalRef,i,!0);const s=zm(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=zm(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=$M(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=zm(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&cu(e.modalRef,n),fE(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&cu(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function zM(t){return Ve("MuiModal",t)}Ne("MuiModal",["root","hidden","backdrop"]);const jM=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],WM=t=>{const{open:e,exited:n}=t;return Ue({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},TM(zM))};function qM(t){return typeof t=="function"?t():t}function GM(t){return t?t.props.hasOwnProperty("in"):!1}const KM=new BM,HM=I.forwardRef(function(e,n){var r,i;const{children:s,closeAfterTransition:o=!1,container:a,disableAutoFocus:l=!1,disableEnforceFocus:u=!1,disableEscapeKeyDown:c=!1,disablePortal:d=!1,disableRestoreFocus:h=!1,disableScrollLock:f=!1,hideBackdrop:y=!1,keepMounted:v=!1,manager:w=KM,onBackdropClick:m,onClose:p,onKeyDown:g,open:_,onTransitionEnter:E,onTransitionExited:R,slotProps:S={},slots:P={}}=e,M=ne(e,jM),C=w,[B,Z]=I.useState(!_),K=I.useRef({}),$=I.useRef(null),L=I.useRef(null),X=hn(L,n),H=GM(s),N=(r=e["aria-hidden"])!=null?r:!0,W=()=>Mn($.current),F=()=>(K.current.modalRef=L.current,K.current.mountNode=$.current,K.current),ee=()=>{C.mount(F(),{disableScrollLock:f}),L.current&&(L.current.scrollTop=0)},ae=sa(()=>{const De=qM(a)||W().body;C.add(F(),De),L.current&&ee()}),Me=I.useCallback(()=>C.isTopModal(F()),[C]),me=sa(De=>{$.current=De,!(!De||!L.current)&&(_&&Me()?ee():cu(L.current,N))}),de=I.useCallback(()=>{C.remove(F(),N)},[C,N]);I.useEffect(()=>()=>{de()},[de]),I.useEffect(()=>{_?ae():(!H||!o)&&de()},[_,de,H,o,ae]);const he=T({},e,{closeAfterTransition:o,disableAutoFocus:l,disableEnforceFocus:u,disableEscapeKeyDown:c,disablePortal:d,disableRestoreFocus:h,disableScrollLock:f,exited:B,hideBackdrop:y,keepMounted:v}),gt=WM(he),nr=()=>{Z(!1),E&&E()},Je=()=>{Z(!0),R&&R(),o&&de()},gn=De=>{De.target===De.currentTarget&&(m&&m(De),p&&p(De,"backdropClick"))},Se=De=>{g&&g(De),!(De.key!=="Escape"||!Me())&&(c||(De.stopPropagation(),p&&p(De,"escapeKeyDown")))},oe={};s.props.tabIndex===void 0&&(oe.tabIndex="-1"),H&&(oe.onEnter=UI(nr,s.props.onEnter),oe.onExited=UI(Je,s.props.onExited));const Le=(i=P.root)!=null?i:"div",Ke=Mh({elementType:Le,externalSlotProps:S.root,externalForwardedProps:M,additionalProps:{ref:X,role:"presentation",onKeyDown:Se},className:gt.root,ownerState:he}),Qt=P.backdrop,yn=Mh({elementType:Qt,externalSlotProps:S.backdrop,additionalProps:{"aria-hidden":!0,onClick:gn,open:_},className:gt.backdrop,ownerState:he});return!v&&!_&&(!H||B)?null:k.jsx(MM,{ref:me,container:a,disablePortal:d,children:k.jsxs(Le,T({},Ke,{children:[!y&&Qt?k.jsx(Qt,T({},yn)):null,k.jsx(DM,{disableEnforceFocus:u,disableAutoFocus:l,disableRestoreFocus:h,isEnabled:Me,open:_,children:I.cloneElement(s,oe)})]}))})}),QM=HM,YM=["onChange","maxRows","minRows","style","value"];function _d(t){return parseInt(t,10)||0}const XM={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function pE(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const JM=I.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=ne(e,YM),{current:u}=I.useRef(a!=null),c=I.useRef(null),d=hn(n,c),h=I.useRef(null),f=I.useRef(0),[y,v]=I.useState({outerHeightStyle:0}),w=I.useCallback(()=>{const E=c.current,S=no(E).getComputedStyle(E);if(S.width==="0px")return{outerHeightStyle:0};const P=h.current;P.style.width=S.width,P.value=E.value||e.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const M=S.boxSizing,C=_d(S.paddingBottom)+_d(S.paddingTop),B=_d(S.borderBottomWidth)+_d(S.borderTopWidth),Z=P.scrollHeight;P.value="x";const K=P.scrollHeight;let $=Z;s&&($=Math.max(Number(s)*K,$)),i&&($=Math.min(Number(i)*K,$)),$=Math.max($,K);const L=$+(M==="border-box"?C+B:0),X=Math.abs($-Z)<=1;return{outerHeightStyle:L,overflow:X}},[i,s,e.placeholder]),m=(E,R)=>{const{outerHeightStyle:S,overflow:P}=R;return f.current<20&&(S>0&&Math.abs((E.outerHeightStyle||0)-S)>1||E.overflow!==P)?(f.current+=1,{overflow:P,outerHeightStyle:S}):E},p=I.useCallback(()=>{const E=w();pE(E)||v(R=>m(R,E))},[w]),g=()=>{const E=w();pE(E)||Nf.flushSync(()=>{v(R=>m(R,E))})};I.useEffect(()=>{const E=GR(()=>{f.current=0,c.current&&g()});let R;const S=c.current,P=no(S);return P.addEventListener("resize",E),typeof ResizeObserver<"u"&&(R=new ResizeObserver(E),R.observe(S)),()=>{E.clear(),P.removeEventListener("resize",E),R&&R.disconnect()}}),ro(()=>{p()}),I.useEffect(()=>{f.current=0},[a]);const _=E=>{f.current=0,u||p(),r&&r(E)};return k.jsxs(I.Fragment,{children:[k.jsx("textarea",T({value:a,onChange:_,ref:d,rows:s,style:T({height:y.outerHeightStyle,overflow:y.overflow?"hidden":void 0},o)},l)),k.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:T({},XM.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),ZM=JM;function eL(t){return Ve("MuiSvgIcon",t)}Ne("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const tL=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],nL=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ie(e)}`,`fontSize${Ie(n)}`]};return Ue(i,eL,r)},rL=re("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ie(n.color)}`],e[`fontSize${Ie(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(y=(t.vars||t).palette)==null||(y=y.action)==null?void 0:y.disabled,inherit:void 0}[e.color]}}),Ib=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=ne(r,tL),y=I.isValidElement(i)&&i.type==="svg",v=T({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:y}),w={};c||(w.viewBox=h);const m=nL(v);return k.jsxs(rL,T({as:a,className:ue(m.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},w,f,y&&i.props,{ownerState:v,children:[y?i.props.children:i,d?k.jsx("title",{children:d}):null]}))});Ib.muiName="SvgIcon";const mE=Ib;function Eb(t,e){function n(r,i){return k.jsx(mE,T({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=mE.muiName,I.memo(I.forwardRef(n))}function vy(t,e){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vy(t,e)}function Tb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vy(t,e)}const gE={disabled:!1},Lh=cr.createContext(null);var iL=function(e){return e.scrollTop},Wl="unmounted",Ss="exited",Rs="entering",zo="entered",_y="exiting",hi=function(t){Tb(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Ss,s.appearStatus=Rs):l=zo:r.unmountOnExit||r.mountOnEnter?l=Wl:l=Ss,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Wl?{status:Ss}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Rs&&o!==zo&&(s=Rs):(o===Rs||o===zo)&&(s=_y)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Rs){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:yd.findDOMNode(this);o&&iL(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ss&&this.setState({status:Wl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[yd.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||gE.disabled){this.safeSetState({status:zo},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Rs},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:zo},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:yd.findDOMNode(this);if(!s||gE.disabled){this.safeSetState({status:Ss},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:_y},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ss},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:yd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Wl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=ne(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return cr.createElement(Lh.Provider,{value:null},typeof o=="function"?o(i,a):cr.cloneElement(cr.Children.only(o),a))},e}(cr.Component);hi.contextType=Lh;hi.propTypes={};function Lo(){}hi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Lo,onEntering:Lo,onEntered:Lo,onExit:Lo,onExiting:Lo,onExited:Lo};hi.UNMOUNTED=Wl;hi.EXITED=Ss;hi.ENTERING=Rs;hi.ENTERED=zo;hi.EXITING=_y;const Sb=hi;function sL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C_(t,e){var n=function(s){return e&&I.isValidElement(s)?e(s):s},r=Object.create(null);return t&&I.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function oL(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ls(t,e,n){return n[e]!=null?n[e]:t.props[e]}function aL(t,e){return C_(t.children,function(n){return I.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ls(n,"appear",t),enter:Ls(n,"enter",t),exit:Ls(n,"exit",t)})})}function lL(t,e,n){var r=C_(t.children),i=oL(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(I.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=I.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ls(o,"exit",t),enter:Ls(o,"enter",t)}):!l&&a&&!c?i[s]=I.cloneElement(o,{in:!1}):l&&a&&I.isValidElement(u)&&(i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Ls(o,"exit",t),enter:Ls(o,"enter",t)}))}}),i}var uL=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},cL={component:"div",childFactory:function(e){return e}},k_=function(t){Tb(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(sL(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?aL(i,a):lL(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=C_(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=T({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=ne(i,["component","childFactory"]),l=this.state.contextValue,u=uL(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?cr.createElement(Lh.Provider,{value:l},u):cr.createElement(Lh.Provider,{value:l},cr.createElement(s,a,u))},e}(cr.Component);k_.propTypes={};k_.defaultProps=cL;const dL=k_,Rb=t=>t.scrollTop;function Fh(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function hL(t){return Ve("MuiPaper",t)}Ne("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const fL=["className","component","elevation","square","variant"],pL=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Ue(s,hL,i)},mL=re("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return T({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&T({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Cr("#fff",cE(e.elevation))}, ${Cr("#fff",cE(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),gL=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=ne(r,fL),c=T({},r,{component:s,elevation:o,square:a,variant:l}),d=pL(c);return k.jsx(mL,T({as:s,ownerState:c,className:ue(d.root,i),ref:n},u))}),yL=gL;function vL(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=I.useState(!1),h=ue(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},y=ue(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),I.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,a,u]),k.jsx("span",{className:h,style:f,children:k.jsx("span",{className:y})})}const _L=Ne("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Wn=_L,wL=["center","classes","className"];let pp=t=>t,yE,vE,_E,wE;const wy=550,IL=80,EL=I_(yE||(yE=pp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),TL=I_(vE||(vE=pp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),SL=I_(_E||(_E=pp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),RL=re("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),bL=re(vL,{name:"MuiTouchRipple",slot:"Ripple"})(wE||(wE=pp`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Wn.rippleVisible,EL,wy,({theme:t})=>t.transitions.easing.easeInOut,Wn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Wn.child,Wn.childLeaving,TL,wy,({theme:t})=>t.transitions.easing.easeInOut,Wn.childPulsate,SL,({theme:t})=>t.transitions.easing.easeInOut),AL=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=ne(r,wL),[l,u]=I.useState([]),c=I.useRef(0),d=I.useRef(null);I.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=I.useRef(!1),f=I.useRef(0),y=I.useRef(null),v=I.useRef(null);I.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const w=I.useCallback(_=>{const{pulsate:E,rippleX:R,rippleY:S,rippleSize:P,cb:M}=_;u(C=>[...C,k.jsx(bL,{classes:{ripple:ue(s.ripple,Wn.ripple),rippleVisible:ue(s.rippleVisible,Wn.rippleVisible),ripplePulsate:ue(s.ripplePulsate,Wn.ripplePulsate),child:ue(s.child,Wn.child),childLeaving:ue(s.childLeaving,Wn.childLeaving),childPulsate:ue(s.childPulsate,Wn.childPulsate)},timeout:wy,pulsate:E,rippleX:R,rippleY:S,rippleSize:P},c.current)]),c.current+=1,d.current=M},[s]),m=I.useCallback((_={},E={},R=()=>{})=>{const{pulsate:S=!1,center:P=i||E.pulsate,fakeElement:M=!1}=E;if((_==null?void 0:_.type)==="mousedown"&&h.current){h.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(h.current=!0);const C=M?null:v.current,B=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Z,K,$;if(P||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)Z=Math.round(B.width/2),K=Math.round(B.height/2);else{const{clientX:L,clientY:X}=_.touches&&_.touches.length>0?_.touches[0]:_;Z=Math.round(L-B.left),K=Math.round(X-B.top)}if(P)$=Math.sqrt((2*B.width**2+B.height**2)/3),$%2===0&&($+=1);else{const L=Math.max(Math.abs((C?C.clientWidth:0)-Z),Z)*2+2,X=Math.max(Math.abs((C?C.clientHeight:0)-K),K)*2+2;$=Math.sqrt(L**2+X**2)}_!=null&&_.touches?y.current===null&&(y.current=()=>{w({pulsate:S,rippleX:Z,rippleY:K,rippleSize:$,cb:R})},f.current=setTimeout(()=>{y.current&&(y.current(),y.current=null)},IL)):w({pulsate:S,rippleX:Z,rippleY:K,rippleSize:$,cb:R})},[i,w]),p=I.useCallback(()=>{m({},{pulsate:!0})},[m]),g=I.useCallback((_,E)=>{if(clearTimeout(f.current),(_==null?void 0:_.type)==="touchend"&&y.current){y.current(),y.current=null,f.current=setTimeout(()=>{g(_,E)});return}y.current=null,u(R=>R.length>0?R.slice(1):R),d.current=E},[]);return I.useImperativeHandle(n,()=>({pulsate:p,start:m,stop:g}),[p,m,g]),k.jsx(RL,T({className:ue(Wn.root,s.root,o),ref:v},a,{children:k.jsx(dL,{component:null,exit:!0,children:l})}))}),PL=AL;function CL(t){return Ve("MuiButtonBase",t)}const kL=Ne("MuiButtonBase",["root","disabled","focusVisible"]),xL=kL,NL=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],DL=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Ue({root:["root",e&&"disabled",n&&"focusVisible"]},CL,i);return n&&r&&(o.root+=` ${r}`),o},OL=re("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${xL.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),VL=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:y,onClick:v,onContextMenu:w,onDragLeave:m,onFocus:p,onFocusVisible:g,onKeyDown:_,onKeyUp:E,onMouseDown:R,onMouseLeave:S,onMouseUp:P,onTouchEnd:M,onTouchMove:C,onTouchStart:B,tabIndex:Z=0,TouchRippleProps:K,touchRippleRef:$,type:L}=r,X=ne(r,NL),H=I.useRef(null),N=I.useRef(null),W=hn(N,$),{isFocusVisibleRef:F,onFocus:ee,onBlur:ae,ref:Me}=wO(),[me,de]=I.useState(!1);u&&me&&de(!1),I.useImperativeHandle(i,()=>({focusVisible:()=>{de(!0),H.current.focus()}}),[]);const[he,gt]=I.useState(!1);I.useEffect(()=>{gt(!0)},[]);const nr=he&&!c&&!u;I.useEffect(()=>{me&&h&&!c&&he&&N.current.pulsate()},[c,h,me,he]);function Je(ie,J,Oe=d){return sa(yt=>(J&&J(yt),!Oe&&N.current&&N.current[ie](yt),!0))}const gn=Je("start",R),Se=Je("stop",w),oe=Je("stop",m),Le=Je("stop",P),Ke=Je("stop",ie=>{me&&ie.preventDefault(),S&&S(ie)}),Qt=Je("start",B),yn=Je("stop",M),De=Je("stop",C),rr=Je("stop",ie=>{ae(ie),F.current===!1&&de(!1),y&&y(ie)},!1),vi=sa(ie=>{H.current||(H.current=ie.currentTarget),ee(ie),F.current===!0&&(de(!0),g&&g(ie)),p&&p(ie)}),Ft=()=>{const ie=H.current;return l&&l!=="button"&&!(ie.tagName==="A"&&ie.href)},Tt=I.useRef(!1),ir=sa(ie=>{h&&!Tt.current&&me&&N.current&&ie.key===" "&&(Tt.current=!0,N.current.stop(ie,()=>{N.current.start(ie)})),ie.target===ie.currentTarget&&Ft()&&ie.key===" "&&ie.preventDefault(),_&&_(ie),ie.target===ie.currentTarget&&Ft()&&ie.key==="Enter"&&!u&&(ie.preventDefault(),v&&v(ie))}),Ze=sa(ie=>{h&&ie.key===" "&&N.current&&me&&!ie.defaultPrevented&&(Tt.current=!1,N.current.stop(ie,()=>{N.current.pulsate(ie)})),E&&E(ie),v&&ie.target===ie.currentTarget&&Ft()&&ie.key===" "&&!ie.defaultPrevented&&v(ie)});let Wr=l;Wr==="button"&&(X.href||X.to)&&(Wr=f);const sr={};Wr==="button"?(sr.type=L===void 0?"button":L,sr.disabled=u):(!X.href&&!X.to&&(sr.role="button"),u&&(sr["aria-disabled"]=u));const qr=hn(n,Me,H),_i=T({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:Z,focusVisible:me}),ke=DL(_i);return k.jsxs(OL,T({as:Wr,className:ue(ke.root,a),ownerState:_i,onBlur:rr,onClick:v,onContextMenu:Se,onFocus:vi,onKeyDown:ir,onKeyUp:Ze,onMouseDown:gn,onMouseLeave:Ke,onMouseUp:Le,onDragLeave:oe,onTouchEnd:yn,onTouchMove:De,onTouchStart:Qt,ref:qr,tabIndex:u?-1:Z,type:L},sr,X,{children:[o,nr?k.jsx(PL,T({ref:W,center:s},K)):null]}))}),bb=VL;function ML(t){return Ve("MuiTypography",t)}Ne("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const LL=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],FL=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${Ie(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ue(a,ML,o)},$L=re("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ie(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>T({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),IE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},UL={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},BL=t=>UL[t]||t,zL=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiTypography"}),i=BL(r.color),s=yb(T({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=IE}=s,y=ne(s,LL),v=T({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:f}),w=l||(d?"p":f[h]||IE[h])||"span",m=FL(v);return k.jsx($L,T({as:w,ref:n,ownerState:v,className:ue(m.root,a)},y))}),wd=zL;function Ja({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const jL=I.createContext(void 0),x_=jL;function Za(){return I.useContext(x_)}function WL(t){return k.jsx(S2,T({},t,{defaultTheme:fp,themeId:Tc}))}function EE(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function $h(t,e=!1){return t&&(EE(t.value)&&t.value!==""||e&&EE(t.defaultValue)&&t.defaultValue!=="")}function qL(t){return t.startAdornment}function GL(t){return Ve("MuiInputBase",t)}const KL=Ne("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Na=KL,HL=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],mp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ie(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},gp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},QL=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:y}=t,v={root:["root",`color${Ie(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h==="small"&&"sizeSmall",c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",y==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return Ue(v,GL,e)},yp=re("div",{name:"MuiInputBase",slot:"Root",overridesResolver:mp})(({theme:t,ownerState:e})=>T({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Na.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&T({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),vp=re("input",{name:"MuiInputBase",slot:"Input",overridesResolver:gp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=T({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return T({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Na.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Na.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),YL=k.jsx(WL,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),XL=I.forwardRef(function(e,n){var r;const i=Be({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:y,fullWidth:v=!1,id:w,inputComponent:m="input",inputProps:p={},inputRef:g,maxRows:_,minRows:E,multiline:R=!1,name:S,onBlur:P,onChange:M,onClick:C,onFocus:B,onKeyDown:Z,onKeyUp:K,placeholder:$,readOnly:L,renderSuffix:X,rows:H,slotProps:N={},slots:W={},startAdornment:F,type:ee="text",value:ae}=i,Me=ne(i,HL),me=p.value!=null?p.value:ae,{current:de}=I.useRef(me!=null),he=I.useRef(),gt=I.useCallback(ke=>{},[]),nr=hn(he,g,p.ref,gt),[Je,gn]=I.useState(!1),Se=Za(),oe=Ja({props:i,muiFormControl:Se,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=Se?Se.focused:Je,I.useEffect(()=>{!Se&&h&&Je&&(gn(!1),P&&P())},[Se,h,Je,P]);const Le=Se&&Se.onFilled,Ke=Se&&Se.onEmpty,Qt=I.useCallback(ke=>{$h(ke)?Le&&Le():Ke&&Ke()},[Le,Ke]);ro(()=>{de&&Qt({value:me})},[me,Qt,de]);const yn=ke=>{if(oe.disabled){ke.stopPropagation();return}B&&B(ke),p.onFocus&&p.onFocus(ke),Se&&Se.onFocus?Se.onFocus(ke):gn(!0)},De=ke=>{P&&P(ke),p.onBlur&&p.onBlur(ke),Se&&Se.onBlur?Se.onBlur(ke):gn(!1)},rr=(ke,...ie)=>{if(!de){const J=ke.target||he.current;if(J==null)throw new Error(Hi(1));Qt({value:J.value})}p.onChange&&p.onChange(ke,...ie),M&&M(ke,...ie)};I.useEffect(()=>{Qt(he.current)},[]);const vi=ke=>{he.current&&ke.currentTarget===ke.target&&he.current.focus(),C&&!oe.disabled&&C(ke)};let Ft=m,Tt=p;R&&Ft==="input"&&(H?Tt=T({type:void 0,minRows:H,maxRows:H},Tt):Tt=T({type:void 0,maxRows:_,minRows:E},Tt),Ft=ZM);const ir=ke=>{Qt(ke.animationName==="mui-auto-fill-cancel"?he.current:{value:"x"})};I.useEffect(()=>{Se&&Se.setAdornedStart(!!F)},[Se,F]);const Ze=T({},i,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:y,error:oe.error,focused:oe.focused,formControl:Se,fullWidth:v,hiddenLabel:oe.hiddenLabel,multiline:R,size:oe.size,startAdornment:F,type:ee}),Wr=QL(Ze),sr=W.root||u.Root||yp,qr=N.root||c.root||{},_i=W.input||u.Input||vp;return Tt=T({},Tt,(r=N.input)!=null?r:c.input),k.jsxs(I.Fragment,{children:[!f&&YL,k.jsxs(sr,T({},qr,!so(sr)&&{ownerState:T({},Ze,qr.ownerState)},{ref:n,onClick:vi},Me,{className:ue(Wr.root,qr.className,l,L&&"MuiInputBase-readOnly"),children:[F,k.jsx(x_.Provider,{value:null,children:k.jsx(_i,T({ownerState:Ze,"aria-invalid":oe.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:oe.disabled,id:w,onAnimationStart:ir,name:S,placeholder:$,readOnly:L,required:oe.required,rows:H,value:me,onKeyDown:Z,onKeyUp:K,type:ee},Tt,!so(_i)&&{as:Ft,ownerState:T({},Ze,Tt.ownerState)},{ref:nr,className:ue(Wr.input,Tt.className,L&&"MuiInputBase-readOnly"),onBlur:De,onChange:rr,onFocus:yn}))}),y,X?X(T({},oe,{startAdornment:F})):null]}))]})}),N_=XL;function JL(t){return Ve("MuiInput",t)}const ZL=T({},Na,Ne("MuiInput",["root","underline","input"])),bl=ZL;function eF(t){return Ve("MuiOutlinedInput",t)}const tF=T({},Na,Ne("MuiOutlinedInput",["root","notchedOutline","input"])),Ii=tF;function nF(t){return Ve("MuiFilledInput",t)}const rF=T({},Na,Ne("MuiFilledInput",["root","underline","input"])),ws=rF,iF=Eb(k.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),sF=Eb(k.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function oF(t){return Ve("MuiAvatar",t)}Ne("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const aF=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],lF=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Ue({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},oF,e)},uF=re("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t,ownerState:e})=>T({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&T({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}))),cF=re("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),dF=re(sF,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function hF({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=I.useState(!1);return I.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const fF=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",imgProps:l,sizes:u,src:c,srcSet:d,variant:h="circular"}=r,f=ne(r,aF);let y=null;const v=hF(T({},l,{src:c,srcSet:d})),w=c||d,m=w&&v!=="error",p=T({},r,{colorDefault:!m,component:a,variant:h}),g=lF(p);return m?y=k.jsx(cF,T({alt:i,src:c,srcSet:d,sizes:u,ownerState:p,className:g.img},l)):s!=null?y=s:w&&i?y=i[0]:y=k.jsx(dF,{ownerState:p,className:g.fallback}),k.jsx(uF,T({as:a,ownerState:p,className:ue(g.root,o),ref:n},f,{children:y}))}),pF=fF,mF=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],gF={entering:{opacity:1},entered:{opacity:1}},yF=I.forwardRef(function(e,n){const r=P_(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:y,onExiting:v,style:w,timeout:m=i,TransitionComponent:p=Sb}=e,g=ne(e,mF),_=I.useRef(null),E=hn(_,a.ref,n),R=$=>L=>{if($){const X=_.current;L===void 0?$(X):$(X,L)}},S=R(h),P=R(($,L)=>{Rb($);const X=Fh({style:w,timeout:m,easing:l},{mode:"enter"});$.style.webkitTransition=r.transitions.create("opacity",X),$.style.transition=r.transitions.create("opacity",X),c&&c($,L)}),M=R(d),C=R(v),B=R($=>{const L=Fh({style:w,timeout:m,easing:l},{mode:"exit"});$.style.webkitTransition=r.transitions.create("opacity",L),$.style.transition=r.transitions.create("opacity",L),f&&f($)}),Z=R(y),K=$=>{s&&s(_.current,$)};return k.jsx(p,T({appear:o,in:u,nodeRef:_,onEnter:P,onEntered:M,onEntering:S,onExit:B,onExited:Z,onExiting:C,addEndListener:K,timeout:m},g,{children:($,L)=>I.cloneElement(a,T({style:T({opacity:0,visibility:$==="exited"&&!u?"hidden":void 0},gF[$],w,a.props.style),ref:E},L))}))}),vF=yF;function _F(t){return Ve("MuiBackdrop",t)}Ne("MuiBackdrop",["root","invisible"]);const wF=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],IF=t=>{const{classes:e,invisible:n}=t;return Ue({root:["root",n&&"invisible"]},_F,e)},EF=re("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>T({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),TF=I.forwardRef(function(e,n){var r,i,s;const o=Be({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:f,slotProps:y={},slots:v={},TransitionComponent:w=vF,transitionDuration:m}=o,p=ne(o,wF),g=T({},o,{component:u,invisible:h}),_=IF(g),E=(r=y.root)!=null?r:d.root;return k.jsx(w,T({in:f,timeout:m},p,{children:k.jsx(EF,T({"aria-hidden":!0},E,{as:(i=(s=v.root)!=null?s:c.Root)!=null?i:u,className:ue(_.root,l,E==null?void 0:E.className),ownerState:T({},g,E==null?void 0:E.ownerState),classes:_,ref:n,children:a}))}))}),SF=TF,RF=wb(),bF=P2({themeId:Tc,defaultTheme:RF,defaultClassName:"MuiBox-root",generateClassName:HR.generate}),AF=bF;function PF(t){return Ve("MuiButton",t)}const CF=Ne("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Id=CF,kF=I.createContext({}),xF=kF,NF=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],DF=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${Ie(e)}`,`size${Ie(i)}`,`${s}Size${Ie(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Ie(i)}`],endIcon:["endIcon",`iconSize${Ie(i)}`]},l=Ue(a,PF,o);return T({},o,l)},Ab=t=>T({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),OF=re(bb,{shouldForwardProp:t=>di(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ie(n.color)}`],e[`size${Ie(n.size)}`],e[`${n.variant}Size${Ie(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return T({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":T({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Cr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Cr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Cr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":T({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Id.focusVisible}`]:T({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Id.disabled}`]:T({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Cr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Id.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Id.disabled}`]:{boxShadow:"none"}}),VF=re("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Ie(n.size)}`]]}})(({ownerState:t})=>T({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},Ab(t))),MF=re("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Ie(n.size)}`]]}})(({ownerState:t})=>T({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},Ab(t))),LF=I.forwardRef(function(e,n){const r=I.useContext(xF),i=h_(r,e),s=Be({props:i,name:"MuiButton"}),{children:o,color:a="primary",component:l="button",className:u,disabled:c=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:f,focusVisibleClassName:y,fullWidth:v=!1,size:w="medium",startIcon:m,type:p,variant:g="text"}=s,_=ne(s,NF),E=T({},s,{color:a,component:l,disabled:c,disableElevation:d,disableFocusRipple:h,fullWidth:v,size:w,type:p,variant:g}),R=DF(E),S=m&&k.jsx(VF,{className:R.startIcon,ownerState:E,children:m}),P=f&&k.jsx(MF,{className:R.endIcon,ownerState:E,children:f});return k.jsxs(OF,T({ownerState:E,className:ue(r.className,R.root,u),component:l,disabled:c,focusRipple:!h,focusVisibleClassName:ue(R.focusVisible,y),ref:n,type:p},_,{classes:R,children:[S,o,P]}))}),Xd=LF,FF=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],$F=re("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>T({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),UF=re(SF,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),BF=I.forwardRef(function(e,n){var r,i,s,o,a,l;const u=Be({name:"MuiModal",props:e}),{BackdropComponent:c=UF,BackdropProps:d,classes:h,className:f,closeAfterTransition:y=!1,children:v,container:w,component:m,components:p={},componentsProps:g={},disableAutoFocus:_=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:R=!1,disablePortal:S=!1,disableRestoreFocus:P=!1,disableScrollLock:M=!1,hideBackdrop:C=!1,keepMounted:B=!1,onBackdropClick:Z,onClose:K,open:$,slotProps:L,slots:X,theme:H}=u,N=ne(u,FF),[W,F]=I.useState(!0),ee={container:w,closeAfterTransition:y,disableAutoFocus:_,disableEnforceFocus:E,disableEscapeKeyDown:R,disablePortal:S,disableRestoreFocus:P,disableScrollLock:M,hideBackdrop:C,keepMounted:B,onBackdropClick:Z,onClose:K,open:$},ae=T({},u,ee,{exited:W}),Me=(r=(i=X==null?void 0:X.root)!=null?i:p.Root)!=null?r:$F,me=(s=(o=X==null?void 0:X.backdrop)!=null?o:p.Backdrop)!=null?s:c,de=(a=L==null?void 0:L.root)!=null?a:g.root,he=(l=L==null?void 0:L.backdrop)!=null?l:g.backdrop;return k.jsx(QM,T({slots:{root:Me,backdrop:me},slotProps:{root:()=>T({},yy(de,ae),!so(Me)&&{as:m,theme:H},{className:ue(f,de==null?void 0:de.className,h==null?void 0:h.root,!ae.open&&ae.exited&&(h==null?void 0:h.hidden))}),backdrop:()=>T({},d,yy(he,ae),{className:ue(he==null?void 0:he.className,d==null?void 0:d.className,h==null?void 0:h.backdrop)})},onTransitionEnter:()=>F(!1),onTransitionExited:()=>F(!0),ref:n},N,ee,{children:v}))}),Pb=BF,zF=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],jF=t=>{const{classes:e,disableUnderline:n}=t,i=Ue({root:["root",!n&&"underline"],input:["input"]},nF,e);return T({},e,i)},WF=re(yp,{shouldForwardProp:t=>di(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...mp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return T({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${ws.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${ws.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ws.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ws.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ws.disabled}, .${ws.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ws.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&T({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),qF=re(vp,{name:"MuiFilledInput",slot:"Input",overridesResolver:gp})(({theme:t,ownerState:e})=>T({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),Cb=I.forwardRef(function(e,n){var r,i,s,o;const a=Be({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:y={},type:v="text"}=a,w=ne(a,zF),m=T({},a,{fullWidth:c,inputComponent:d,multiline:h,type:v}),p=jF(a),g={root:{ownerState:m},input:{ownerState:m}},_=f??u?Xn(f??u,g):g,E=(r=(i=y.root)!=null?i:l.Root)!=null?r:WF,R=(s=(o=y.input)!=null?o:l.Input)!=null?s:qF;return k.jsx(N_,T({slots:{root:E,input:R},componentsProps:_,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:v},w,{classes:p}))});Cb.muiName="Input";const kb=Cb;function GF(t){return Ve("MuiFormControl",t)}Ne("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const KF=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],HF=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Ie(n)}`,r&&"fullWidth"]};return Ue(i,GF,e)},QF=re("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>T({},e.root,e[`margin${Ie(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>T({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),YF=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:y=!1,size:v="medium",variant:w="outlined"}=r,m=ne(r,KF),p=T({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:y,size:v,variant:w}),g=HF(p),[_,E]=I.useState(()=>{let K=!1;return i&&I.Children.forEach(i,$=>{if(!Kd($,["Input","Select"]))return;const L=Kd($,["Select"])?$.props.input:$;L&&qL(L.props)&&(K=!0)}),K}),[R,S]=I.useState(()=>{let K=!1;return i&&I.Children.forEach(i,$=>{Kd($,["Input","Select"])&&($h($.props,!0)||$h($.props.inputProps,!0))&&(K=!0)}),K}),[P,M]=I.useState(!1);l&&P&&M(!1);const C=c!==void 0&&!l?c:P;let B;const Z=I.useMemo(()=>({adornedStart:_,setAdornedStart:E,color:o,disabled:l,error:u,filled:R,focused:C,fullWidth:d,hiddenLabel:h,size:v,onBlur:()=>{M(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{M(!0)},registerEffect:B,required:y,variant:w}),[_,o,l,u,R,C,d,h,B,y,v,w]);return k.jsx(x_.Provider,{value:Z,children:k.jsx(QF,T({as:a,ownerState:p,className:ue(g.root,s),ref:n},m,{children:i}))})}),xb=YF;function XF(t){return Ve("MuiFormHelperText",t)}const JF=Ne("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),TE=JF;var SE;const ZF=["children","className","component","disabled","error","filled","focused","margin","required","variant"],e$=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${Ie(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Ue(u,XF,e)},t$=re("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ie(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>T({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${TE.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${TE.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),n$=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=ne(r,ZF),l=Za(),u=Ja({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=T({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=e$(c);return k.jsx(t$,T({as:o,ownerState:c,className:ue(d.root,s),ref:n},a,{children:i===" "?SE||(SE=k.jsx("span",{className:"notranslate",children:""})):i}))}),r$=n$;function i$(t){return Ve("MuiFormLabel",t)}const s$=Ne("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),du=s$,o$=["children","className","color","component","disabled","error","filled","focused","required"],a$=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${Ie(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Ue(l,i$,e)},l$=re("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>T({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>T({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${du.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${du.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${du.error}`]:{color:(t.vars||t).palette.error.main}})),u$=re("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${du.error}`]:{color:(t.vars||t).palette.error.main}})),c$=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=ne(r,o$),l=Za(),u=Ja({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=T({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=a$(c);return k.jsxs(l$,T({as:o,ownerState:c,className:ue(d.root,s),ref:n},a,{children:[i,u.required&&k.jsxs(u$,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),d$=c$,h$=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Iy(t){return`scale(${t}, ${t**2})`}const f$={entering:{opacity:1,transform:Iy(1)},entered:{opacity:1,transform:"none"}},jm=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Nb=I.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:y,timeout:v="auto",TransitionComponent:w=Sb}=e,m=ne(e,h$),p=I.useRef(),g=I.useRef(),_=P_(),E=I.useRef(null),R=hn(E,s.ref,n),S=L=>X=>{if(L){const H=E.current;X===void 0?L(H):L(H,X)}},P=S(c),M=S((L,X)=>{Rb(L);const{duration:H,delay:N,easing:W}=Fh({style:y,timeout:v,easing:o},{mode:"enter"});let F;v==="auto"?(F=_.transitions.getAutoHeightDuration(L.clientHeight),g.current=F):F=H,L.style.transition=[_.transitions.create("opacity",{duration:F,delay:N}),_.transitions.create("transform",{duration:jm?F:F*.666,delay:N,easing:W})].join(","),l&&l(L,X)}),C=S(u),B=S(f),Z=S(L=>{const{duration:X,delay:H,easing:N}=Fh({style:y,timeout:v,easing:o},{mode:"exit"});let W;v==="auto"?(W=_.transitions.getAutoHeightDuration(L.clientHeight),g.current=W):W=X,L.style.transition=[_.transitions.create("opacity",{duration:W,delay:H}),_.transitions.create("transform",{duration:jm?W:W*.666,delay:jm?H:H||W*.333,easing:N})].join(","),L.style.opacity=0,L.style.transform=Iy(.75),d&&d(L)}),K=S(h),$=L=>{v==="auto"&&(p.current=setTimeout(L,g.current||0)),r&&r(E.current,L)};return I.useEffect(()=>()=>{clearTimeout(p.current)},[]),k.jsx(w,T({appear:i,in:a,nodeRef:E,onEnter:M,onEntered:C,onEntering:P,onExit:Z,onExited:K,onExiting:B,addEndListener:$,timeout:v==="auto"?null:v},m,{children:(L,X)=>I.cloneElement(s,T({style:T({opacity:0,transform:Iy(.75),visibility:L==="exited"&&!a?"hidden":void 0},f$[L],y,s.props.style),ref:R},X))}))});Nb.muiSupportAuto=!0;const p$=Nb,m$=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],g$=t=>{const{classes:e,disableUnderline:n}=t,i=Ue({root:["root",!n&&"underline"],input:["input"]},JL,e);return T({},e,i)},y$=re(yp,{shouldForwardProp:t=>di(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...mp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),T({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${bl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${bl.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${bl.disabled}, .${bl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${bl.disabled}:before`]:{borderBottomStyle:"dotted"}})}),v$=re(vp,{name:"MuiInput",slot:"Input",overridesResolver:gp})({}),Db=I.forwardRef(function(e,n){var r,i,s,o;const a=Be({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:y,slots:v={},type:w="text"}=a,m=ne(a,m$),p=g$(a),_={root:{ownerState:{disableUnderline:l}}},E=y??c?Xn(y??c,_):_,R=(r=(i=v.root)!=null?i:u.Root)!=null?r:y$,S=(s=(o=v.input)!=null?o:u.Input)!=null?s:v$;return k.jsx(N_,T({slots:{root:R,input:S},slotProps:E,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:w},m,{classes:p}))});Db.muiName="Input";const Ob=Db;function _$(t){return Ve("MuiInputLabel",t)}Ne("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const w$=["disableAnimation","margin","shrink","variant","className"],I$=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,u=Ue({root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r==="small"&&"sizeSmall",o],asterisk:[a&&"asterisk"]},_$,e);return T({},e,u)},E$=re(d$,{shouldForwardProp:t=>di(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${du.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})(({theme:t,ownerState:e})=>T({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&T({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&T({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&T({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),T$=I.forwardRef(function(e,n){const r=Be({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=ne(r,w$),l=Za();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=Ja({props:r,muiFormControl:l,states:["size","variant","required"]}),d=T({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required}),h=I$(d);return k.jsx(E$,T({"data-shrink":u,ownerState:d,ref:n,className:ue(h.root,o)},a,{classes:h}))}),S$=T$,R$=I.createContext({}),qs=R$;function b$(t){return Ve("MuiList",t)}Ne("MuiList",["root","padding","dense","subheader"]);const A$=["children","className","component","dense","disablePadding","subheader"],P$=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Ue({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},b$,e)},C$=re("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>T({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),k$=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=ne(r,A$),d=I.useMemo(()=>({dense:a}),[a]),h=T({},r,{component:o,dense:a,disablePadding:l}),f=P$(h);return k.jsx(qs.Provider,{value:d,children:k.jsxs(C$,T({as:o,className:ue(f.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),Vb=k$;function x$(t){return Ve("MuiListItem",t)}const N$=Ne("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),jo=N$,D$=Ne("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),O$=D$;function V$(t){return Ve("MuiListItemSecondaryAction",t)}Ne("MuiListItemSecondaryAction",["root","disableGutters"]);const M$=["className"],L$=t=>{const{disableGutters:e,classes:n}=t;return Ue({root:["root",e&&"disableGutters"]},V$,n)},F$=re("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>T({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),Mb=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,s=ne(r,M$),o=I.useContext(qs),a=T({},r,{disableGutters:o.disableGutters}),l=L$(a);return k.jsx(F$,T({className:ue(l.root,i),ownerState:a,ref:n},s))});Mb.muiName="ListItemSecondaryAction";const $$=Mb,U$=["className"],B$=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],z$=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},j$=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:s,disableGutters:o,disablePadding:a,divider:l,hasSecondaryAction:u,selected:c}=t;return Ue({root:["root",i&&"dense",!o&&"gutters",!a&&"padding",l&&"divider",s&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]},x$,r)},W$=re("div",{name:"MuiListItem",slot:"Root",overridesResolver:z$})(({theme:t,ownerState:e})=>T({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&T({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${O$.root}`]:{paddingRight:48}},{[`&.${jo.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${jo.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Cr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${jo.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Cr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${jo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${jo.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Cr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Cr(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),q$=re("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),G$=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:s=!1,button:o=!1,children:a,className:l,component:u,components:c={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:f}={},dense:y=!1,disabled:v=!1,disableGutters:w=!1,disablePadding:m=!1,divider:p=!1,focusVisibleClassName:g,secondaryAction:_,selected:E=!1,slotProps:R={},slots:S={}}=r,P=ne(r.ContainerProps,U$),M=ne(r,B$),C=I.useContext(qs),B=I.useMemo(()=>({dense:y||C.dense||!1,alignItems:i,disableGutters:w}),[i,C.dense,y,w]),Z=I.useRef(null);ro(()=>{s&&Z.current&&Z.current.focus()},[s]);const K=I.Children.toArray(a),$=K.length&&Kd(K[K.length-1],["ListItemSecondaryAction"]),L=T({},r,{alignItems:i,autoFocus:s,button:o,dense:B.dense,disabled:v,disableGutters:w,disablePadding:m,divider:p,hasSecondaryAction:$,selected:E}),X=j$(L),H=hn(Z,n),N=S.root||c.Root||W$,W=R.root||d.root||{},F=T({className:ue(X.root,W.className,l),disabled:v},M);let ee=u||"li";return o&&(F.component=u||"div",F.focusVisibleClassName=ue(jo.focusVisible,g),ee=bb),$?(ee=!F.component&&!u?"div":ee,h==="li"&&(ee==="li"?ee="div":F.component==="li"&&(F.component="div")),k.jsx(qs.Provider,{value:B,children:k.jsxs(q$,T({as:h,className:ue(X.container,f),ref:H,ownerState:L},P,{children:[k.jsx(N,T({},W,!so(N)&&{as:ee,ownerState:T({},L,W.ownerState)},F,{children:K})),K.pop()]}))})):k.jsx(qs.Provider,{value:B,children:k.jsxs(N,T({},W,{as:ee,ref:H},!so(N)&&{ownerState:T({},L,W.ownerState)},F,{children:[K,_&&k.jsx($$,{children:_})]}))})}),K$=G$;function H$(t){return Ve("MuiListItemAvatar",t)}Ne("MuiListItemAvatar",["root","alignItemsFlexStart"]);const Q$=["className"],Y$=t=>{const{alignItems:e,classes:n}=t;return Ue({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},H$,n)},X$=re("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>T({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),J$=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiListItemAvatar"}),{className:i}=r,s=ne(r,Q$),o=I.useContext(qs),a=T({},r,{alignItems:o.alignItems}),l=Y$(a);return k.jsx(X$,T({className:ue(l.root,i),ownerState:a,ref:n},s))}),Z$=J$;function e4(t){return Ve("MuiListItemText",t)}const t4=Ne("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),RE=t4,n4=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],r4=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:s}=t;return Ue({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},e4,e)},i4=re("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${RE.primary}`]:e.primary},{[`& .${RE.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>T({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),s4=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:d}=r,h=ne(r,n4),{dense:f}=I.useContext(qs);let y=l??i,v=c;const w=T({},r,{disableTypography:o,inset:a,primary:!!y,secondary:!!v,dense:f}),m=r4(w);return y!=null&&y.type!==wd&&!o&&(y=k.jsx(wd,T({variant:f?"body2":"body1",className:m.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:y}))),v!=null&&v.type!==wd&&!o&&(v=k.jsx(wd,T({variant:"body2",className:m.secondary,color:"text.secondary",display:"block"},d,{children:v}))),k.jsxs(i4,T({className:ue(m.root,s),ownerState:w,ref:n},h,{children:[y,v]}))}),o4=s4,a4=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Wm(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function bE(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Lb(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Al(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Lb(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const l4=I.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=ne(e,a4),f=I.useRef(null),y=I.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ro(()=>{i&&f.current.focus()},[i]),I.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(g,_)=>{const E=!f.current.style.width;if(g.clientHeight<f.current.clientHeight&&E){const R=`${KR(Mn(g))}px`;f.current.style[_.direction==="rtl"?"paddingLeft":"paddingRight"]=R,f.current.style.width=`calc(100% + ${R})`}return f.current}}),[]);const v=g=>{const _=f.current,E=g.key,R=Mn(_).activeElement;if(E==="ArrowDown")g.preventDefault(),Al(_,R,u,l,Wm);else if(E==="ArrowUp")g.preventDefault(),Al(_,R,u,l,bE);else if(E==="Home")g.preventDefault(),Al(_,null,u,l,Wm);else if(E==="End")g.preventDefault(),Al(_,null,u,l,bE);else if(E.length===1){const S=y.current,P=E.toLowerCase(),M=performance.now();S.keys.length>0&&(M-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&P!==S.keys[0]&&(S.repeating=!1)),S.lastTime=M,S.keys.push(P);const C=R&&!S.repeating&&Lb(R,S);S.previousKeyMatched&&(C||Al(_,R,!1,l,Wm,S))?g.preventDefault():S.previousKeyMatched=!1}c&&c(g)},w=hn(f,n);let m=-1;I.Children.forEach(o,(g,_)=>{if(!I.isValidElement(g)){m===_&&(m+=1,m>=o.length&&(m=-1));return}g.props.disabled||(d==="selectedMenu"&&g.props.selected||m===-1)&&(m=_),m===_&&(g.props.disabled||g.props.muiSkipListHighlight||g.type.muiSkipListHighlight)&&(m+=1,m>=o.length&&(m=-1))});const p=I.Children.map(o,(g,_)=>{if(_===m){const E={};return s&&(E.autoFocus=!0),g.props.tabIndex===void 0&&d==="selectedMenu"&&(E.tabIndex=0),I.cloneElement(g,E)}return g});return k.jsx(Vb,T({role:"menu",ref:w,className:a,onKeyDown:v,tabIndex:i?0:-1},h,{children:p}))}),u4=l4;function c4(t){return Ve("MuiPopover",t)}Ne("MuiPopover",["root","paper"]);const d4=["onEntering"],h4=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],f4=["slotProps"];function AE(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function PE(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function CE(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function qm(t){return typeof t=="function"?t():t}const p4=t=>{const{classes:e}=t;return Ue({root:["root"],paper:["paper"]},c4,e)},m4=re(Pb,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Fb=re(yL,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),g4=I.forwardRef(function(e,n){var r,i,s;const o=Be({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:f,container:y,elevation:v=8,marginThreshold:w=16,open:m,PaperProps:p={},slots:g,slotProps:_,transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:R=p$,transitionDuration:S="auto",TransitionProps:{onEntering:P}={}}=o,M=ne(o.TransitionProps,d4),C=ne(o,h4),B=(r=_==null?void 0:_.paper)!=null?r:p,Z=I.useRef(),K=hn(Z,B.ref),$=T({},o,{anchorOrigin:u,anchorReference:d,elevation:v,marginThreshold:w,externalPaperSlotProps:B,transformOrigin:E,TransitionComponent:R,transitionDuration:S,TransitionProps:M}),L=p4($),X=I.useCallback(()=>{if(d==="anchorPosition")return c;const oe=qm(l),Ke=(oe&&oe.nodeType===1?oe:Mn(Z.current).body).getBoundingClientRect();return{top:Ke.top+AE(Ke,u.vertical),left:Ke.left+PE(Ke,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),H=I.useCallback(oe=>({vertical:AE(oe,E.vertical),horizontal:PE(oe,E.horizontal)}),[E.horizontal,E.vertical]),N=I.useCallback(oe=>{const Le={width:oe.offsetWidth,height:oe.offsetHeight},Ke=H(Le);if(d==="none")return{top:null,left:null,transformOrigin:CE(Ke)};const Qt=X();let yn=Qt.top-Ke.vertical,De=Qt.left-Ke.horizontal;const rr=yn+Le.height,vi=De+Le.width,Ft=no(qm(l)),Tt=Ft.innerHeight-w,ir=Ft.innerWidth-w;if(yn<w){const Ze=yn-w;yn-=Ze,Ke.vertical+=Ze}else if(rr>Tt){const Ze=rr-Tt;yn-=Ze,Ke.vertical+=Ze}if(De<w){const Ze=De-w;De-=Ze,Ke.horizontal+=Ze}else if(vi>ir){const Ze=vi-ir;De-=Ze,Ke.horizontal+=Ze}return{top:`${Math.round(yn)}px`,left:`${Math.round(De)}px`,transformOrigin:CE(Ke)}},[l,d,X,H,w]),[W,F]=I.useState(m),ee=I.useCallback(()=>{const oe=Z.current;if(!oe)return;const Le=N(oe);Le.top!==null&&(oe.style.top=Le.top),Le.left!==null&&(oe.style.left=Le.left),oe.style.transformOrigin=Le.transformOrigin,F(!0)},[N]),ae=(oe,Le)=>{P&&P(oe,Le),ee()},Me=()=>{F(!1)};I.useEffect(()=>{m&&ee()}),I.useImperativeHandle(a,()=>m?{updatePosition:()=>{ee()}}:null,[m,ee]),I.useEffect(()=>{if(!m)return;const oe=GR(()=>{ee()}),Le=no(l);return Le.addEventListener("resize",oe),()=>{oe.clear(),Le.removeEventListener("resize",oe)}},[l,m,ee]);let me=S;S==="auto"&&!R.muiSupportAuto&&(me=void 0);const de=y||(l?Mn(qm(l)).body:void 0),he=(i=g==null?void 0:g.root)!=null?i:m4,gt=(s=g==null?void 0:g.paper)!=null?s:Fb,nr=Mh({elementType:gt,externalSlotProps:T({},B,{style:W?B.style:T({},B.style,{opacity:0})}),additionalProps:{elevation:v,ref:K},ownerState:$,className:ue(L.paper,B==null?void 0:B.className)}),Je=Mh({elementType:he,externalSlotProps:(_==null?void 0:_.root)||{},externalForwardedProps:C,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:de,open:m},ownerState:$,className:ue(L.root,f)}),{slotProps:gn}=Je,Se=ne(Je,f4);return k.jsx(he,T({},Se,!so(he)&&{slotProps:gn},{children:k.jsx(R,T({appear:!0,in:m,onEntering:ae,onExited:Me,timeout:me},M,{children:k.jsx(gt,T({},nr,{children:h}))}))}))}),y4=g4;function v4(t){return Ve("MuiMenu",t)}Ne("MuiMenu",["root","paper","list"]);const _4=["onEntering"],w4=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],I4={vertical:"top",horizontal:"right"},E4={vertical:"top",horizontal:"left"},T4=t=>{const{classes:e}=t;return Ue({root:["root"],paper:["paper"],list:["list"]},v4,e)},S4=re(y4,{shouldForwardProp:t=>di(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),R4=re(Fb,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),b4=re(u4,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),A4=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,disableAutoFocusItem:o=!1,MenuListProps:a={},onClose:l,open:u,PaperProps:c={},PopoverClasses:d,transitionDuration:h="auto",TransitionProps:{onEntering:f}={},variant:y="selectedMenu"}=r,v=ne(r.TransitionProps,_4),w=ne(r,w4),m=P_(),p=m.direction==="rtl",g=T({},r,{autoFocus:i,disableAutoFocusItem:o,MenuListProps:a,onEntering:f,PaperProps:c,transitionDuration:h,TransitionProps:v,variant:y}),_=T4(g),E=i&&!o&&u,R=I.useRef(null),S=(C,B)=>{R.current&&R.current.adjustStyleForScrollbar(C,m),f&&f(C,B)},P=C=>{C.key==="Tab"&&(C.preventDefault(),l&&l(C,"tabKeyDown"))};let M=-1;return I.Children.map(s,(C,B)=>{I.isValidElement(C)&&(C.props.disabled||(y==="selectedMenu"&&C.props.selected||M===-1)&&(M=B))}),k.jsx(S4,T({onClose:l,anchorOrigin:{vertical:"bottom",horizontal:p?"right":"left"},transformOrigin:p?I4:E4,slots:{paper:R4},slotProps:{paper:T({},c,{classes:T({},c.classes,{root:_.paper})})},className:_.root,open:u,ref:n,transitionDuration:h,TransitionProps:T({onEntering:S},v),ownerState:g},w,{classes:d,children:k.jsx(b4,T({onKeyDown:P,actions:R,autoFocus:i&&(M===-1||o),autoFocusItem:E,variant:y},a,{className:ue(_.list,a.className),children:s}))}))}),P4=A4;function C4(t){return Ve("MuiNativeSelect",t)}const k4=Ne("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),D_=k4,x4=["className","disabled","error","IconComponent","inputRef","variant"],N4=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ie(n)}`,s&&"iconOpen",r&&"disabled"]};return Ue(a,C4,e)},$b=({ownerState:t,theme:e})=>T({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":T({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${D_.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),D4=re("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:di,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${D_.multiple}`]:e.multiple}]}})($b),Ub=({ownerState:t,theme:e})=>T({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${D_.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),O4=re("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ie(n.variant)}`],n.open&&e.iconOpen]}})(Ub),V4=I.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=ne(e,x4),c=T({},e,{disabled:i,variant:l,error:s}),d=N4(c);return k.jsxs(I.Fragment,{children:[k.jsx(D4,T({ownerState:c,className:ue(d.select,r),disabled:i,ref:a||n},u)),e.multiple?null:k.jsx(O4,{as:o,ownerState:c,className:d.icon})]})}),M4=V4;var kE;const L4=["children","classes","className","label","notched"],F4=re("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),$4=re("legend")(({ownerState:t,theme:e})=>T({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&T({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function U4(t){const{className:e,label:n,notched:r}=t,i=ne(t,L4),s=n!=null&&n!=="",o=T({},t,{notched:r,withLabel:s});return k.jsx(F4,T({"aria-hidden":!0,className:e,ownerState:o},i,{children:k.jsx($4,{ownerState:o,children:s?k.jsx("span",{children:n}):kE||(kE=k.jsx("span",{className:"notranslate",children:""}))})}))}const B4=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],z4=t=>{const{classes:e}=t,r=Ue({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},eF,e);return T({},e,r)},j4=re(yp,{shouldForwardProp:t=>di(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:mp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return T({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ii.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ii.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Ii.focused} .${Ii.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Ii.error} .${Ii.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ii.disabled} .${Ii.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&T({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),W4=re(U4,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),q4=re(vp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:gp})(({theme:t,ownerState:e})=>T({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Bb=I.forwardRef(function(e,n){var r,i,s,o,a;const l=Be({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:y,slots:v={},type:w="text"}=l,m=ne(l,B4),p=z4(l),g=Za(),_=Ja({props:l,muiFormControl:g,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),E=T({},l,{color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:g,fullWidth:c,hiddenLabel:_.hiddenLabel,multiline:f,size:_.size,type:w}),R=(r=(i=v.root)!=null?i:u.Root)!=null?r:j4,S=(s=(o=v.input)!=null?o:u.Input)!=null?s:q4;return k.jsx(N_,T({slots:{root:R,input:S},renderSuffix:P=>k.jsx(W4,{ownerState:E,className:p.notchedOutline,label:h!=null&&h!==""&&_.required?a||(a=k.jsxs(I.Fragment,{children:[h,"","*"]})):h,notched:typeof y<"u"?y:!!(P.startAdornment||P.filled||P.focused)}),fullWidth:c,inputComponent:d,multiline:f,ref:n,type:w},m,{classes:T({},p,{notchedOutline:null})}))});Bb.muiName="Input";const zb=Bb;function G4(t){return Ve("MuiSelect",t)}const K4=Ne("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Pl=K4;var xE;const H4=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Q4=re("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Pl.select}`]:e.select},{[`&.${Pl.select}`]:e[n.variant]},{[`&.${Pl.error}`]:e.error},{[`&.${Pl.multiple}`]:e.multiple}]}})($b,{[`&.${Pl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Y4=re("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ie(n.variant)}`],n.open&&e.iconOpen]}})(Ub),X4=re("input",{shouldForwardProp:t=>yM(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function NE(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function J4(t){return t==null||typeof t=="string"&&!t.trim()}const Z4=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ie(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ue(a,G4,e)},eU=I.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:h,error:f=!1,IconComponent:y,inputRef:v,labelId:w,MenuProps:m={},multiple:p,name:g,onBlur:_,onChange:E,onClose:R,onFocus:S,onOpen:P,open:M,readOnly:C,renderValue:B,SelectDisplayProps:Z={},tabIndex:K,value:$,variant:L="standard"}=e,X=ne(e,H4),[H,N]=jI({controlled:$,default:c,name:"Select"}),[W,F]=jI({controlled:M,default:u,name:"Select"}),ee=I.useRef(null),ae=I.useRef(null),[Me,me]=I.useState(null),{current:de}=I.useRef(M!=null),[he,gt]=I.useState(),nr=hn(n,v),Je=I.useCallback(J=>{ae.current=J,J&&me(J)},[]),gn=Me==null?void 0:Me.parentNode;I.useImperativeHandle(nr,()=>({focus:()=>{ae.current.focus()},node:ee.current,value:H}),[H]),I.useEffect(()=>{u&&W&&Me&&!de&&(gt(o?null:gn.clientWidth),ae.current.focus())},[Me,o]),I.useEffect(()=>{s&&ae.current.focus()},[s]),I.useEffect(()=>{if(!w)return;const J=Mn(ae.current).getElementById(w);if(J){const Oe=()=>{getSelection().isCollapsed&&ae.current.focus()};return J.addEventListener("click",Oe),()=>{J.removeEventListener("click",Oe)}}},[w]);const Se=(J,Oe)=>{J?P&&P(Oe):R&&R(Oe),de||(gt(o?null:gn.clientWidth),F(J))},oe=J=>{J.button===0&&(J.preventDefault(),ae.current.focus(),Se(!0,J))},Le=J=>{Se(!1,J)},Ke=I.Children.toArray(a),Qt=J=>{const Oe=Ke.find(yt=>yt.props.value===J.target.value);Oe!==void 0&&(N(Oe.props.value),E&&E(J,Oe))},yn=J=>Oe=>{let yt;if(Oe.currentTarget.hasAttribute("tabindex")){if(p){yt=Array.isArray(H)?H.slice():[];const _s=H.indexOf(J.props.value);_s===-1?yt.push(J.props.value):yt.splice(_s,1)}else yt=J.props.value;if(J.props.onClick&&J.props.onClick(Oe),H!==yt&&(N(yt),E)){const _s=Oe.nativeEvent||Oe,kw=new _s.constructor(_s.type,_s);Object.defineProperty(kw,"target",{writable:!0,value:{value:yt,name:g}}),E(kw,J)}p||Se(!1,Oe)}},De=J=>{C||[" ","ArrowUp","ArrowDown","Enter"].indexOf(J.key)!==-1&&(J.preventDefault(),Se(!0,J))},rr=Me!==null&&W,vi=J=>{!rr&&_&&(Object.defineProperty(J,"target",{writable:!0,value:{value:H,name:g}}),_(J))};delete X["aria-invalid"];let Ft,Tt;const ir=[];let Ze=!1;($h({value:H})||h)&&(B?Ft=B(H):Ze=!0);const Wr=Ke.map(J=>{if(!I.isValidElement(J))return null;let Oe;if(p){if(!Array.isArray(H))throw new Error(Hi(2));Oe=H.some(yt=>NE(yt,J.props.value)),Oe&&Ze&&ir.push(J.props.children)}else Oe=NE(H,J.props.value),Oe&&Ze&&(Tt=J.props.children);return I.cloneElement(J,{"aria-selected":Oe?"true":"false",onClick:yn(J),onKeyUp:yt=>{yt.key===" "&&yt.preventDefault(),J.props.onKeyUp&&J.props.onKeyUp(yt)},role:"option",selected:Oe,value:void 0,"data-value":J.props.value})});Ze&&(p?ir.length===0?Ft=null:Ft=ir.reduce((J,Oe,yt)=>(J.push(Oe),yt<ir.length-1&&J.push(", "),J),[]):Ft=Tt);let sr=he;!o&&de&&Me&&(sr=gn.clientWidth);let qr;typeof K<"u"?qr=K:qr=d?null:0;const _i=Z.id||(g?`mui-component-select-${g}`:void 0),ke=T({},e,{variant:L,value:H,open:rr,error:f}),ie=Z4(ke);return k.jsxs(I.Fragment,{children:[k.jsx(Q4,T({ref:Je,tabIndex:qr,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":rr?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[w,_i].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:De,onMouseDown:d||C?null:oe,onBlur:vi,onFocus:S},Z,{ownerState:ke,className:ue(Z.className,ie.select,l),id:_i,children:J4(Ft)?xE||(xE=k.jsx("span",{className:"notranslate",children:""})):Ft})),k.jsx(X4,T({"aria-invalid":f,value:Array.isArray(H)?H.join(","):H,name:g,ref:ee,"aria-hidden":!0,onChange:Qt,tabIndex:-1,disabled:d,className:ie.nativeInput,autoFocus:s,ownerState:ke},X)),k.jsx(Y4,{as:y,className:ie.icon,ownerState:ke}),k.jsx(P4,T({id:`menu-${g||""}`,anchorEl:gn,open:rr,onClose:Le,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},m,{MenuListProps:T({"aria-labelledby":w,role:"listbox",disableListWrap:!0},m.MenuListProps),PaperProps:T({},m.PaperProps,{style:T({minWidth:sr},m.PaperProps!=null?m.PaperProps.style:null)}),children:Wr}))]})}),tU=eU,nU=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],rU=t=>{const{classes:e}=t;return e},O_={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>di(t)&&t!=="variant",slot:"Root"},iU=re(Ob,O_)(""),sU=re(zb,O_)(""),oU=re(kb,O_)(""),jb=I.forwardRef(function(e,n){const r=Be({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=iF,id:d,input:h,inputProps:f,label:y,labelId:v,MenuProps:w,multiple:m=!1,native:p=!1,onClose:g,onOpen:_,open:E,renderValue:R,SelectDisplayProps:S,variant:P="outlined"}=r,M=ne(r,nU),C=p?M4:tU,B=Za(),Z=Ja({props:r,muiFormControl:B,states:["variant","error"]}),K=Z.variant||P,$=T({},r,{variant:K,classes:o}),L=rU($),X=h||{standard:k.jsx(iU,{ownerState:$}),outlined:k.jsx(sU,{label:y,ownerState:$}),filled:k.jsx(oU,{ownerState:$})}[K],H=hn(n,X.ref);return k.jsx(I.Fragment,{children:I.cloneElement(X,T({inputComponent:C,inputProps:T({children:s,error:Z.error,IconComponent:c,variant:K,type:void 0,multiple:m},p?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:w,onClose:g,onOpen:_,open:E,renderValue:R,SelectDisplayProps:T({id:d},S)},f,{classes:f?Xn(L,f.classes):L},h?h.props.inputProps:{})},m&&p&&K==="outlined"?{notched:!0}:{},{ref:H,className:ue(X.props.className,a)},!h&&{variant:K},M))})});jb.muiName="Select";const aU=jb;function lU(t){return Ve("MuiTextField",t)}Ne("MuiTextField",["root"]);const uU=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],cU={standard:Ob,filled:kb,outlined:zb},dU=t=>{const{classes:e}=t;return Ue({root:["root"]},lU,e)},hU=re(xb,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),fU=I.forwardRef(function(e,n){const r=Be({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:y,id:v,InputLabelProps:w,inputProps:m,InputProps:p,inputRef:g,label:_,maxRows:E,minRows:R,multiline:S=!1,name:P,onBlur:M,onChange:C,onClick:B,onFocus:Z,placeholder:K,required:$=!1,rows:L,select:X=!1,SelectProps:H,type:N,value:W,variant:F="outlined"}=r,ee=ne(r,uU),ae=T({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:S,required:$,select:X,variant:F}),Me=dU(ae),me={};F==="outlined"&&(w&&typeof w.shrink<"u"&&(me.notched=w.shrink),me.label=_),X&&((!H||!H.native)&&(me.id=void 0),me["aria-describedby"]=void 0);const de=fO(v),he=y&&de?`${de}-helper-text`:void 0,gt=_&&de?`${de}-label`:void 0,nr=cU[F],Je=k.jsx(nr,T({"aria-describedby":he,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:f,multiline:S,name:P,rows:L,maxRows:E,minRows:R,type:N,value:W,id:de,inputRef:g,onBlur:M,onChange:C,onFocus:Z,onClick:B,placeholder:K,inputProps:m},me,p));return k.jsxs(hU,T({className:ue(Me.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:$,color:l,variant:F,ownerState:ae},ee,{children:[_!=null&&_!==""&&k.jsx(S$,T({htmlFor:de,id:gt},w,{children:_})),X?k.jsx(aU,T({"aria-describedby":he,id:de,labelId:gt,value:W,input:Je},H,{children:o})):Je,y&&k.jsx(r$,T({id:he},h,{children:y}))]}))}),pU=fU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Wb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new gU;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yU=function(t){const e=Wb(t);return qb.encodeByteArray(e,!0)},Uh=function(t){return yU(t).replace(/\./g,"")},Gb=function(t){try{return qb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Bh(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!vU(n)||(t[n]=Bh(t[n],e[n]));return t}function vU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=()=>_U().__FIREBASE_DEFAULTS__,IU=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gb(t[1]);return e&&JSON.parse(e)},V_=()=>{try{return wU()||IU()||EU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kb=()=>{var t;return(t=V_())===null||t===void 0?void 0:t.config},TU=t=>{var e;return(e=V_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Uh(JSON.stringify(n)),Uh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function M_(){var t;const e=(t=V_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AU(){return typeof self=="object"&&self.self===self}function Hb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function L_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qb(){const t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PU(){return!M_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ju(){try{return typeof indexedDB=="object"}catch{return!1}}function CU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="FirebaseError";class cn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kU,Object.setPrototypeOf(this,cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eo.prototype.create)}}class Eo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?xU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new cn(i,a,r)}}function xU(t,e){return t.replace(NU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function DU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ey(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(OE(s)&&OE(o)){if(!Ey(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function OE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ql(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Yb(t,e){const n=new OU(t,e);return n.subscribe.bind(n)}class OU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gm),i.error===void 0&&(i.error=Gm),i.complete===void 0&&(i.complete=Gm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t){return t&&t._delegate?t._delegate:t}class Ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FU(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LU(t){return t===bs?void 0:t}function FU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=[];var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const Xb={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},UU=ye.INFO,BU={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},zU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=UU,this._logHandler=zU,this._userLogHandler=null,F_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}function jU(t){F_.forEach(e=>{e.setLogLevel(t)})}function WU(t,e){for(const n of F_){let r=null;e&&e.level&&(r=Xb[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:ye[s].toLowerCase(),message:a,args:o,type:i.name})}}}const qU=(t,e)=>e.some(n=>t instanceof n);let VE,ME;function GU(){return VE||(VE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KU(){return ME||(ME=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jb=new WeakMap,Ty=new WeakMap,Zb=new WeakMap,Km=new WeakMap,$_=new WeakMap;function HU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Jb.set(n,t)}).catch(()=>{}),$_.set(e,t),e}function QU(t){if(Ty.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ty.set(t,e)}let Sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Zb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YU(t){Sy=t(Sy)}function XU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hm(this),e,...n);return Zb.set(r,e.sort?e.sort():[e]),Wi(r)}:KU().includes(t)?function(...e){return t.apply(Hm(this),e),Wi(Jb.get(this))}:function(...e){return Wi(t.apply(Hm(this),e))}}function JU(t){return typeof t=="function"?XU(t):(t instanceof IDBTransaction&&QU(t),qU(t,GU())?new Proxy(t,Sy):t)}function Wi(t){if(t instanceof IDBRequest)return HU(t);if(Km.has(t))return Km.get(t);const e=JU(t);return e!==t&&(Km.set(t,e),$_.set(e,t)),e}const Hm=t=>$_.get(t);function ZU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wi(o.result),l.oldVersion,l.newVersion,Wi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const eB=["get","getKey","getAll","getAllKeys","count"],tB=["put","add","delete","clear"],Qm=new Map;function LE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qm.get(e))return Qm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eB.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Qm.set(e,s),s}YU(t=>({...t,get:(e,n,r)=>LE(e,n)||t.get(e,n,r),has:(e,n)=>!!LE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ry="@firebase/app",FE="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new _p("@firebase/app"),iB="@firebase/app-compat",sB="@firebase/analytics-compat",oB="@firebase/analytics",aB="@firebase/app-check-compat",lB="@firebase/app-check",uB="@firebase/auth",cB="@firebase/auth-compat",dB="@firebase/database",hB="@firebase/database-compat",fB="@firebase/functions",pB="@firebase/functions-compat",mB="@firebase/installations",gB="@firebase/installations-compat",yB="@firebase/messaging",vB="@firebase/messaging-compat",_B="@firebase/performance",wB="@firebase/performance-compat",IB="@firebase/remote-config",EB="@firebase/remote-config-compat",TB="@firebase/storage",SB="@firebase/storage-compat",RB="@firebase/firestore",bB="@firebase/firestore-compat",AB="firebase",PB="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]",CB={[Ry]:"fire-core",[iB]:"fire-core-compat",[oB]:"fire-analytics",[sB]:"fire-analytics-compat",[lB]:"fire-app-check",[aB]:"fire-app-check-compat",[uB]:"fire-auth",[cB]:"fire-auth-compat",[dB]:"fire-rtdb",[hB]:"fire-rtdb-compat",[fB]:"fire-fn",[pB]:"fire-fn-compat",[mB]:"fire-iid",[gB]:"fire-iid-compat",[yB]:"fire-fcm",[vB]:"fire-fcm-compat",[_B]:"fire-perf",[wB]:"fire-perf-compat",[IB]:"fire-rc",[EB]:"fire-rc-compat",[TB]:"fire-gcs",[SB]:"fire-gcs-compat",[RB]:"fire-fst",[bB]:"fire-fst-compat","fire-js":"fire-js",[AB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new Map,Wu=new Map;function zh(t,e){try{t.container.addComponent(e)}catch(n){oo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eA(t,e){t.container.addOrOverwriteComponent(e)}function Xi(t){const e=t.name;if(Wu.has(e))return oo.debug(`There were multiple attempts to register component ${e}.`),!1;Wu.set(e,t);for(const n of Yi.values())zh(n,t);return!0}function tA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kB(t,e,n=Qi){tA(t,e).clearInstance(n)}function xB(){Wu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ei=new Eo("app","Firebase",NB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DB=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=PB;function U_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qi,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});if(n||(n=Kb()),!n)throw ei.create("no-options");const s=Yi.get(i);if(s){if(Ey(n,s.options)&&Ey(r,s.config))return s;throw ei.create("duplicate-app",{appName:i})}const o=new $U(i);for(const l of Wu.values())o.addComponent(l);const a=new DB(n,r,o);return Yi.set(i,a),a}function OB(t=Qi){const e=Yi.get(t);if(!e&&t===Qi&&Kb())return U_();if(!e)throw ei.create("no-app",{appName:t});return e}function VB(){return Array.from(Yi.values())}async function nA(t){const e=t.name;Yi.has(e)&&(Yi.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Fr(t,e,n){var r;let i=(r=CB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oo.warn(a.join(" "));return}Xi(new Ur(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function rA(t,e){if(t!==null&&typeof t!="function")throw ei.create("invalid-log-argument");WU(t,e)}function iA(t){jU(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB="firebase-heartbeat-database",LB=1,qu="firebase-heartbeat-store";let Ym=null;function sA(){return Ym||(Ym=ZU(MB,LB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qu)}}}).catch(t=>{throw ei.create("idb-open",{originalErrorMessage:t.message})})),Ym}async function FB(t){try{return await(await sA()).transaction(qu).objectStore(qu).get(oA(t))}catch(e){if(e instanceof cn)oo.warn(e.message);else{const n=ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oo.warn(n.message)}}}async function $E(t,e){try{const r=(await sA()).transaction(qu,"readwrite");await r.objectStore(qu).put(e,oA(t)),await r.done}catch(n){if(n instanceof cn)oo.warn(n.message);else{const r=ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oo.warn(r.message)}}}function oA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=1024,UB=30*24*60*60*1e3;class BB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=UE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=UB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=UE(),{heartbeatsToSend:n,unsentEntries:r}=zB(this._heartbeatsCache.heartbeats),i=Uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function UE(){return new Date().toISOString().substring(0,10)}function zB(t,e=$B){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),BE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ju()?CU().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await FB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $E(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $E(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function BE(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(t){Xi(new Ur("platform-logger",e=>new nB(e),"PRIVATE")),Xi(new Ur("heartbeat",e=>new BB(e),"PRIVATE")),Fr(Ry,FE,t),Fr(Ry,FE,"esm2017"),Fr("fire-js","")}WB("");const qB=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:cn,SDK_VERSION:ds,_DEFAULT_ENTRY_NAME:Qi,_addComponent:zh,_addOrOverwriteComponent:eA,_apps:Yi,_clearComponents:xB,_components:Wu,_getProvider:tA,_registerComponent:Xi,_removeServiceInstance:kB,deleteApp:nA,getApp:OB,getApps:VB,initializeApp:U_,onLog:rA,registerVersion:Fr,setLogLevel:iA},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n){this._delegate=e,this.firebase=n,zh(e,new Ur("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),nA(this._delegate)))}_getService(e,n=Qi){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Qi){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){zh(this._delegate,e)}_addOrOverwriteComponent(e){eA(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},zE=new Eo("app-compat","Firebase",KB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Fr,setLogLevel:iA,onLog:rA,apps:null,SDK_VERSION:ds,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:qB}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Qi,!DE(e,u))throw zE.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=U_(u,c);if(DE(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(Xi(u)&&u.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw zE.create("invalid-app-argument",{appName:c});return f[d]()};u.serviceProps!==void 0&&Bh(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){const t=HB(GB);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:aA,extendNamespace:e,createSubscribe:Yb,ErrorFactory:Eo,deepExtend:Bh});function e(n){Bh(t,n)}return t}const QB=aA();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new _p("@firebase/app-compat"),YB="@firebase/app-compat",XB="0.2.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t){Fr(YB,XB,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(AU()&&self.firebase!==void 0){jE.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&jE.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const To=QB;JB();var ZB="firebase",e5="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To.registerVersion(ZB,e5,"app-compat");function B_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Cl={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Fo={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}}function lA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n5=t5,r5=lA,uA=new Eo("auth","Firebase",lA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new _p("@firebase/auth");function i5(t,...e){jh.logLevel<=ye.WARN&&jh.warn(`Auth (${ds}): ${t}`,...e)}function Jd(t,...e){jh.logLevel<=ye.ERROR&&jh.error(`Auth (${ds}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,...e){throw z_(t,...e)}function qt(t,...e){return z_(t,...e)}function cA(t,e,n){const r=Object.assign(Object.assign({},r5()),{[e]:n});return new Eo("auth","Firebase",r).create(e,{appName:t.name})}function tl(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ht(t,"argument-error"),cA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function z_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uA.create(t,...e)}function V(t,e,...n){if(!t)throw z_(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jd(e),new Error(e)}function mr(t,e){t||kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function j_(){return WE()==="http:"||WE()==="https:"}function WE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j_()||Hb()||"connection"in navigator)?navigator.onLine:!0}function o5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=bU()||L_()}get(){return s5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t,e){mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=new Ac(3e4,6e4);function Et(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function At(t,e,n,r,i={}){return hA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=el(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),dA.fetch()(fA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function hA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},a5),e);try{const i=new u5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Gl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Gl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Gl(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw cA(t,c,u);Ht(t,c)}}catch(i){if(i instanceof cn)throw i;Ht(t,"network-request-failed",{message:String(i)})}}async function fi(t,e,n,r,i={}){const s=await At(t,e,n,r,i);return"mfaPendingCredential"in s&&Ht(t,"multi-factor-auth-required",{_serverResponse:s}),s}function fA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?W_(t.config,i):`${t.config.apiScheme}://${i}`}class u5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qt(this.auth,"network-request-failed")),l5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5(t,e){return At(t,"POST","/v1/accounts:delete",e)}async function d5(t,e){return At(t,"POST","/v1/accounts:update",e)}async function h5(t,e){return At(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function f5(t,e=!1){const n=te(t),r=await n.getIdToken(e),i=wp(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:hu(Xm(i.auth_time)),issuedAtTime:hu(Xm(i.iat)),expirationTime:hu(Xm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Xm(t){return Number(t)*1e3}function wp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gb(n);return i?JSON.parse(i):(Jd("Failed to decode base64 JWT payload"),null)}catch(i){return Jd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function p5(t){const e=wp(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ai(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cn&&m5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function m5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ai(t,h5(n,{idToken:r}));V(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_5(s.providerUserInfo):[],a=v5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pA(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function y5(t){const e=te(t);await Ku(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _5(t){return t.map(e=>{var{providerId:n}=e,r=B_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t,e){const n=await hA(t,{},async()=>{const r=el({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=fA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return V(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await w5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Hu;return r&&(V(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(V(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(V(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hu,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=B_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ai(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return f5(this,e)}reload(){return y5(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ku(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ai(this,c5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:g,emailVerified:_,isAnonymous:E,providerData:R,stsTokenManager:S}=n;V(g&&S,e,"internal-error");const P=Hu.fromJSON(this.name,S);V(typeof g=="string",e,"internal-error"),Ei(d,e.name),Ei(h,e.name),V(typeof _=="boolean",e,"internal-error"),V(typeof E=="boolean",e,"internal-error"),Ei(f,e.name),Ei(y,e.name),Ei(v,e.name),Ei(w,e.name),Ei(m,e.name),Ei(p,e.name);const M=new Gs({uid:g,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:E,photoURL:y,phoneNumber:f,tenantId:v,stsTokenManager:P,createdAt:m,lastLoginAt:p});return R&&Array.isArray(R)&&(M.providerData=R.map(C=>Object.assign({},C))),w&&(M._redirectEventId=w),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hu;i.updateFromServerResponse(n);const s=new Gs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ku(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;function On(t){mr(t instanceof Function,"Expected a class definition");let e=qE.get(t);return e?(mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mA.type="NONE";const Da=mA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,e,n){return`firebase:${t}:${e}:${n}`}class ga{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ks(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ks("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ga(On(Da),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||On(Da);const o=Ks(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Gs._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ga(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ga(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_A(e))return"Blackberry";if(wA(e))return"Webos";if(q_(e))return"Safari";if((e.includes("chrome/")||yA(e))&&!e.includes("edge/"))return"Chrome";if(Pc(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gA(t=it()){return/firefox\//i.test(t)}function q_(t=it()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yA(t=it()){return/crios\//i.test(t)}function vA(t=it()){return/iemobile/i.test(t)}function Pc(t=it()){return/android/i.test(t)}function _A(t=it()){return/blackberry/i.test(t)}function wA(t=it()){return/webos/i.test(t)}function nl(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function I5(t=it()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function E5(t=it()){var e;return nl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function T5(){return Qb()&&document.documentMode===10}function IA(t=it()){return nl(t)||Pc(t)||wA(t)||_A(t)||/windows phone/i.test(t)||vA(t)}function S5(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t,e=[]){let n;switch(t){case"Browser":n=GE(it());break;case"Worker":n=`${GE(it())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ds}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t){return(await At(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function TA(t,e){return At(t,"GET","/v2/recaptchaConfig",Et(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t){return t!==void 0&&t.getResponse!==void 0}function HE(t){return t!==void 0&&t.enterprise!==void 0}class SA{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function G_(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=qt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",b5().appendChild(r)})}function RA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const A5="https://www.google.com/recaptcha/enterprise.js?render=",P5="recaptcha-enterprise",C5="NO_RECAPTCHA";class bA{constructor(e){this.type=P5,this.auth=mt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{TA(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new SA(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;HE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(C5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&HE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}G_(A5+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Ji(t,e,n,r=!1){const i=new bA(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QE(this),this.idTokenSubscription=new QE(this),this.beforeStateQueue=new k5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=On(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ga.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ku(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?te(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(On(e))})}async initializeRecaptchaConfig(){const e=await TA(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new SA(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new bA(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Eo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&On(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=await ga.create(this,[On(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return V(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&i5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mt(t){return te(t)}class QE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yb(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function N5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(On);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function D5(t,e,n){const r=mt(t);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=AA(e),{host:o,port:a}=O5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||V5()}function AA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function O5(t){const e=AA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:YE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:YE(o)}}}function YE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t,e){return At(t,"POST","/v1/accounts:resetPassword",Et(t,e))}async function CA(t,e){return At(t,"POST","/v1/accounts:update",e)}async function M5(t,e){return At(t,"POST","/v1/accounts:update",Et(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jm(t,e){return fi(t,"POST","/v1/accounts:signInWithPassword",Et(t,e))}async function Ip(t,e){return At(t,"POST","/v1/accounts:sendOobCode",Et(t,e))}async function L5(t,e){return Ip(t,e)}async function Zm(t,e){return Ip(t,e)}async function eg(t,e){return Ip(t,e)}async function F5(t,e){return Ip(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e){return fi(t,"POST","/v1/accounts:signInWithEmailLink",Et(t,e))}async function U5(t,e){return fi(t,"POST","/v1/accounts:signInWithEmailLink",Et(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends rl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Qu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Ji(e,r,"signInWithPassword");return Jm(e,i)}else return Jm(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Ji(e,r,"signInWithPassword");return Jm(e,s)}else return Promise.reject(i)});case"emailLink":return $5(e,{email:this._email,oobCode:this._password});default:Ht(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return CA(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return U5(e,{idToken:n,email:this._email,oobCode:this._password});default:Ht(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ti(t,e){return fi(t,"POST","/v1/accounts:signInWithIdp",Et(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="http://localhost";class Br extends rl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Br(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ht("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=B_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Br(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ti(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ti(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ti(e,n)}buildRequest(){const e={requestUri:B5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=el(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(t,e){return At(t,"POST","/v1/accounts:sendVerificationCode",Et(t,e))}async function j5(t,e){return fi(t,"POST","/v1/accounts:signInWithPhoneNumber",Et(t,e))}async function W5(t,e){const n=await fi(t,"POST","/v1/accounts:signInWithPhoneNumber",Et(t,e));if(n.temporaryProof)throw Gl(t,"account-exists-with-different-credential",n);return n}const q5={USER_NOT_FOUND:"user-not-found"};async function G5(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return fi(t,"POST","/v1/accounts:signInWithPhoneNumber",Et(t,n),q5)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends rl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Hs({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Hs({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return j5(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return W5(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return G5(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Hs({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H5(t){const e=oa(ql(t)).link,n=e?oa(ql(e)).deep_link_id:null,r=oa(ql(t)).deep_link_id;return(r?oa(ql(r)).link:null)||r||n||e||t}class Ep{constructor(e){var n,r,i,s,o,a;const l=oa(ql(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=K5((i=l.mode)!==null&&i!==void 0?i:null);V(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=H5(e);try{return new Ep(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.providerId=hs.PROVIDER_ID}static credential(e,n){return Qu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ep.parseLink(n);return V(r,"argument-error"),Qu._fromEmailAndCode(e,r.code,r.tenantId)}}hs.PROVIDER_ID="password";hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends pi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ya extends il{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return V("providerId"in n&&"signInMethod"in n,"argument-error"),Br._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return V(e.idToken||e.accessToken,"argument-error"),Br._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ya.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ya.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new ya(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends il{constructor(){super("facebook.com")}static credential(e){return Br._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Br._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends il{constructor(){super("github.com")}static credential(e){return Br._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="http://localhost";class Oa extends rl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ti(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ti(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ti(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Oa(r,s)}static _create(e,n){return new Oa(e,n)}buildRequest(){return{requestUri:Q5,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="saml.";class Wh extends pi{constructor(e){V(e.startsWith(Y5),"argument-error"),super(e)}static credentialFromResult(e){return Wh.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Wh.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Oa.fromJSON(e);return V(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Oa._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends il{constructor(){super("twitter.com")}static credential(e,n){return Br._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t,e){return fi(t,"POST","/v1/accounts:signUp",Et(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Gs._fromIdTokenResponse(e,r,i),o=XE(r);return new er({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=XE(r);return new er({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function XE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t){var e;const n=mt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new er({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Zd(n,{returnSecureToken:!0}),i=await er._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends cn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qh(e,n,r,i)}}function kA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e){const n=te(t);await Tp(!0,n,e);const{providerUserInfo:r}=await d5(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=xA(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function K_(t,e,n=!1){const r=await ai(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return er._forOperation(t,"link",r)}async function Tp(t,e,n){await Ku(e);const r=xA(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";V(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ai(t,kA(r,i,e,t),n);V(s.idToken,r,"internal-error");const o=wp(s.idToken);V(o,r,"internal-error");const{sub:a}=o;return V(t.uid===a,r,"user-mismatch"),er._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ht(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(t,e,n=!1){const r="signIn",i=await kA(t,r,e),s=await er._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Sp(t,e){return DA(mt(t),e)}async function OA(t,e){const n=te(t);return await Tp(!1,n,e.providerId),K_(n,e)}async function VA(t,e){return NA(te(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(t,e){return fi(t,"POST","/v1/accounts:signInWithCustomToken",Et(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ez(t,e){const n=mt(t),r=await Z5(n,{token:e,returnSecureToken:!0}),i=await er._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?H_._fromServerResponse(e,n):"totpInfo"in n?Q_._fromServerResponse(e,n):Ht(e,"internal-error")}}class H_ extends Cc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new H_(n)}}class Q_ extends Cc{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new Q_(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t,e,n){var r;V(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),V(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(V(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(V(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(t,e,n){var r;const i=mt(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Ji(i,s,"getOobCode",!0);n&&va(i,o,n),await Zm(i,o)}else n&&va(i,s,n),await Zm(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Ji(i,s,"getOobCode",!0);n&&va(i,a,n),await Zm(i,a)}else return Promise.reject(o)})}async function nz(t,e,n){await PA(te(t),{oobCode:e,newPassword:n})}async function rz(t,e){await M5(te(t),{oobCode:e})}async function MA(t,e){const n=te(t),r=await PA(n,{oobCode:e}),i=r.requestType;switch(V(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(r.mfaInfo,n,"internal-error");default:V(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Cc._fromServerResponse(mt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function iz(t,e){const{data:n}=await MA(te(t),e);return n.email}async function sz(t,e,n){var r;const i=mt(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Ji(i,s,"signUpPassword");o=Zd(i,u)}else o=Zd(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Ji(i,s,"signUpPassword");return Zd(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await er._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function oz(t,e,n){return Sp(te(t),hs.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(t,e,n){var r;const i=mt(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){V(l.handleCodeInApp,i,"argument-error"),l&&va(i,a,l)}if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const a=await Ji(i,s,"getOobCode",!0);o(a,n),await eg(i,a)}else o(s,n),await eg(i,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const l=await Ji(i,s,"getOobCode",!0);o(l,n),await eg(i,l)}else return Promise.reject(a)})}function lz(t,e){const n=Ep.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function uz(t,e,n){const r=te(t),i=hs.credentialWithLink(e,n||Gu());return V(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Sp(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cz(t,e){return At(t,"POST","/v1/accounts:createAuthUri",Et(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,e){const n=j_()?Gu():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await cz(te(t),r);return i||[]}async function hz(t,e){const n=te(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&va(n.auth,i,e);const{email:s}=await L5(n.auth,i);s!==t.email&&await t.reload()}async function fz(t,e,n){const r=te(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&va(r.auth,s,n);const{email:o}=await F5(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e){return At(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=te(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ai(r,pz(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function gz(t,e){return LA(te(t),e,null)}function yz(t,e){return LA(te(t),null,e)}async function LA(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await ai(t,CA(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=wp(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new _a(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new _z(s,i);case"github.com":return new wz(s,i);case"google.com":return new Iz(s,i);case"twitter.com":return new Ez(s,i,t.screenName||null);case"custom":case"anonymous":return new _a(s,null);default:return new _a(s,r,i)}}class _a{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class FA extends _a{constructor(e,n,r,i){super(e,n,r),this.username=i}}class _z extends _a{constructor(e,n){super(e,"facebook.com",n)}}class wz extends FA{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Iz extends _a{constructor(e,n){super(e,"google.com",n)}}class Ez extends FA{constructor(e,n,r){super(e,"twitter.com",n,r)}}function Tz(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:vz(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Fs("enroll",e,n)}static _fromMfaPendingCredential(e){return new Fs("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Fs._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Fs._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=mt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Cc._fromServerResponse(r,a));V(i.mfaPendingCredential,r,"internal-error");const o=Fs._fromMfaPendingCredential(i.mfaPendingCredential);return new Y_(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await er._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return V(n.user,r,"internal-error"),er._forOperation(n.user,n.operationType,u);default:Ht(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Sz(t,e){var n;const r=te(t),i=e;return V(e.customData.operationType,r,"argument-error"),V((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),Y_._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(t,e){return At(t,"POST","/v2/accounts/mfaEnrollment:start",Et(t,e))}function bz(t,e){return At(t,"POST","/v2/accounts/mfaEnrollment:finalize",Et(t,e))}function Az(t,e){return At(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Et(t,e))}class X_{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Cc._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new X_(e)}async getSession(){return Fs._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await ai(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await ai(this.user,Az(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const tg=new WeakMap;function Pz(t){const e=te(t);return tg.has(e)||tg.set(e,X_._fromUser(e)),tg.get(e)}const Gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(){const t=it();return q_(t)||nl(t)}const kz=1e3,xz=10;class UA extends $A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Cz()&&S5(),this.fallbackToPolling=IA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);T5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UA.type="LOCAL";const J_=UA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA extends $A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BA.type="SESSION";const ao=BA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Nz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=kc("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return window}function Oz(t){_t().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(){return typeof _t().WorkerGlobalScope<"u"&&typeof _t().importScripts=="function"}async function Vz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Mz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Lz(){return Z_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firebaseLocalStorageDb",Fz=1,Kh="firebaseLocalStorage",jA="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bp(t,e){return t.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function $z(){const t=indexedDB.deleteDatabase(zA);return new xc(t).toPromise()}function by(){const t=indexedDB.open(zA,Fz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kh,{keyPath:jA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kh)?e(r):(r.close(),await $z(),e(await by()))})})}async function JE(t,e,n){const r=bp(t,!0).put({[jA]:e,value:n});return new xc(r).toPromise()}async function Uz(t,e){const n=bp(t,!1).get(e),r=await new xc(n).toPromise();return r===void 0?null:r.value}function ZE(t,e){const n=bp(t,!0).delete(e);return new xc(n).toPromise()}const Bz=800,zz=3;class WA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await by(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rp._getInstance(Lz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Vz(),!this.activeServiceWorker)return;this.sender=new Dz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Mz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await by();return await JE(e,Gh,"1"),await ZE(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Uz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bp(i,!1).getAll();return new xc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WA.type="LOCAL";const Yu=WA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t,e){return At(t,"POST","/v2/accounts/mfaSignIn:start",Et(t,e))}function Wz(t,e){return At(t,"POST","/v2/accounts/mfaSignIn:finalize",Et(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=500,Gz=6e4,Ed=1e12;class Kz{constructor(e){this.auth=e,this.counter=Ed,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Hz(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Ed;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Ed;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Ed;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class Hz{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;V(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Qz(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Gz)},qz))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Qz(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=RA("rcb"),Yz=new Ac(3e4,6e4),Xz="https://www.google.com/recaptcha/api.js?";class Jz{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=_t().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return V(Zz(n),e,"argument-error"),this.shouldResolveImmediately(n)&&KE(_t().grecaptcha)?Promise.resolve(_t().grecaptcha):new Promise((r,i)=>{const s=_t().setTimeout(()=>{i(qt(e,"network-request-failed"))},Yz.get());_t()[ng]=()=>{_t().clearTimeout(s),delete _t()[ng];const a=_t().grecaptcha;if(!a||!KE(a)){i(qt(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${Xz}?${el({onload:ng,render:"explicit",hl:n})}`;G_(o).catch(()=>{clearTimeout(s),i(qt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=_t().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Zz(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class e3{async load(e){return new Kz(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="recaptcha",t3={theme:"light",type:"image"};let n3=class{constructor(e,n,r=Object.assign({},t3)){this.parameters=r,this.type=qA,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mt(e),this.isInvisible=this.parameters.size==="invisible",V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;V(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new e3:new Jz,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=_t()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){V(j_()&&!Z_(),this.auth,"internal-error"),await r3(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await R5(this.auth);V(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function r3(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Hs._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function i3(t,e,n){const r=mt(t),i=await Ap(r,e,te(n));return new e0(i,s=>Sp(r,s))}async function s3(t,e,n){const r=te(t);await Tp(!1,r,"phone");const i=await Ap(r.auth,e,te(n));return new e0(i,s=>OA(r,s))}async function o3(t,e,n){const r=te(t),i=await Ap(r.auth,e,te(n));return new e0(i,s=>VA(r,s))}async function Ap(t,e,n){var r;const i=await n.verify();try{V(typeof i=="string",t,"argument-error"),V(n.type===qA,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return V(o.type==="enroll",t,"internal-error"),(await Rz(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{V(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return V(a,t,"missing-multi-factor-info"),(await jz(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await z5(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function a3(t,e){await K_(te(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo=class eh{constructor(e){this.providerId=eh.PROVIDER_ID,this.auth=mt(e)}verifyPhoneNumber(e,n){return Ap(this.auth,e,te(n))}static credential(e,n){return Hs._fromVerification(e,n)}static credentialFromResult(e){const n=e;return eh.credentialFromTaggedObject(n)}static credentialFromError(e){return eh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Hs._fromTokenResponse(n,r):null}};lo.PROVIDER_ID="phone";lo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){return e?On(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends rl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ti(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ti(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ti(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l3(t){return DA(t.auth,new t0(t),t.bypassAuthState)}function u3(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),NA(n,new t0(t),t.bypassAuthState)}async function c3(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),K_(n,new t0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l3;case"linkViaPopup":case"linkViaRedirect":return c3;case"reauthViaPopup":case"reauthViaRedirect":return u3;default:Ht(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new Ac(2e3,1e4);async function h3(t,e,n){const r=mt(t);tl(t,e,pi);const i=So(r,n);return new Yr(r,"signInViaPopup",e,i).executeNotNull()}async function f3(t,e,n){const r=te(t);tl(r.auth,e,pi);const i=So(r.auth,n);return new Yr(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function p3(t,e,n){const r=te(t);tl(r.auth,e,pi);const i=So(r.auth,n);return new Yr(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Yr extends GA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Yr.currentPopupAction&&Yr.currentPopupAction.cancel(),Yr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=kc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d3.get())};e()}}Yr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="pendingRedirect",fu=new Map;class g3 extends GA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fu.get(this.auth._key());if(!e){try{const r=await y3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fu.set(this.auth._key(),e)}return this.bypassAuthState||fu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y3(t,e){const n=HA(e),r=KA(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function n0(t,e){return KA(t)._set(HA(e),"true")}function v3(){fu.clear()}function r0(t,e){fu.set(t._key(),e)}function KA(t){return On(t._redirectPersistence)}function HA(t){return Ks(m3,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t,e,n){return w3(t,e,n)}async function w3(t,e,n){const r=mt(t);tl(t,e,pi),await r._initializationPromise;const i=So(r,n);return await n0(i,r),i._openRedirect(r,e,"signInViaRedirect")}function I3(t,e,n){return E3(t,e,n)}async function E3(t,e,n){const r=te(t);tl(r.auth,e,pi),await r.auth._initializationPromise;const i=So(r.auth,n);await n0(i,r.auth);const s=await QA(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function T3(t,e,n){return S3(t,e,n)}async function S3(t,e,n){const r=te(t);tl(r.auth,e,pi),await r.auth._initializationPromise;const i=So(r.auth,n);await Tp(!1,r,e.providerId),await n0(i,r.auth);const s=await QA(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function R3(t,e){return await mt(t)._initializationPromise,Pp(t,e,!1)}async function Pp(t,e,n=!1){const r=mt(t),i=So(r,e),o=await new g3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function QA(t){const e=kc(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=10*60*1e3;class YA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b3&&this.cachedEventUids.clear(),this.cachedEventUids.has(eT(e))}saveEventToCache(e){this.cachedEventUids.add(eT(e)),this.lastProcessedEventTime=Date.now()}}function eT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(t,e={}){return At(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C3=/^https?/;async function k3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JA(t);for(const n of e)try{if(x3(n))return}catch{}Ht(t,"unauthorized-domain")}function x3(t){const e=Gu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!C3.test(n))return!1;if(P3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new Ac(3e4,6e4);function tT(){const t=_t().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function D3(t){return new Promise((e,n)=>{var r,i,s;function o(){tT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tT(),n(qt(t,"network-request-failed"))},timeout:N3.get()})}if(!((i=(r=_t().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_t().gapi)===null||s===void 0)&&s.load)o();else{const a=RA("iframefcb");return _t()[a]=()=>{gapi.load?o():n(qt(t,"network-request-failed"))},G_(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw th=null,e})}let th=null;function O3(t){return th=th||D3(t),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=new Ac(5e3,15e3),M3="__/auth/iframe",L3="emulator/auth/iframe",F3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U3(t){const e=t.config;V(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?W_(e,L3):`https://${t.config.authDomain}/${M3}`,r={apiKey:e.apiKey,appName:t.name,v:ds},i=$3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${el(r).slice(1)}`}async function B3(t){const e=await O3(t),n=_t().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:U3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=qt(t,"network-request-failed"),a=_t().setTimeout(()=>{s(o)},V3.get());function l(){_t().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j3=500,W3=600,q3="_blank",G3="http://localhost";class nT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K3(t,e,n,r=j3,i=W3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},z3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=it().toLowerCase();n&&(a=yA(u)?q3:n),gA(u)&&(e=e||G3,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,y])=>`${h}${f}=${y},`,"");if(E5(u)&&a!=="_self")return H3(e||"",a),new nT(null);const d=window.open(e||"",a,c);V(d,t,"popup-blocked");try{d.focus()}catch{}return new nT(d)}function H3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="__/auth/handler",Y3="emulator/auth/handler",X3=encodeURIComponent("fac");async function Ay(t,e,n,r,i,s){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ds,eventId:i};if(e instanceof pi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof il){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${X3}=${encodeURIComponent(l)}`:"";return`${J3(t)}?${el(a).slice(1)}${u}`}function J3({config:t}){return t.emulator?W_(t,Y3):`https://${t.authDomain}/${Q3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="webStorageSupport";class Z3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ao,this._completeRedirectFn=Pp,this._overrideRedirectResult=r0}async _openPopup(e,n,r,i){var s;mr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ay(e,n,r,Gu(),i);return K3(e,o,kc())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ay(e,n,r,Gu(),i);return Oz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(mr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await B3(e),r=new YA(e);return n.register("authEvent",i=>(V(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rg,{type:rg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[rg];o!==void 0&&n(!!o),Ht(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=k3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IA()||q_()||nl()}}const e6=Z3;class t6{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return kr("unexpected MultiFactorSessionType")}}}class i0 extends t6{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new i0(e)}_finalizeEnroll(e,n,r){return bz(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Wz(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ZA{constructor(){}static assertion(e){return i0._fromCredential(e)}}ZA.FACTOR_ID="phone";var rT="@firebase/auth",iT="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function i6(t){Xi(new Ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EA(t)},u=new x5(r,i,s,l);return N5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xi(new Ur("auth-internal",e=>{const n=mt(e.getProvider("auth").getImmediate());return(r=>new n6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(rT,iT,r6(t)),Fr(rT,iT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=5*60;TU("authIdTokenMaxAge");i6("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=2e3;async function a6(t,e,n){var r;const{BuildInfo:i}=uo();mr(e.sessionId,"AuthEvent did not contain a session ID");const s=await h6(e.sessionId),o={};return nl()?o.ibi=i.packageName:Pc()?o.apn=i.packageName:Ht(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Ay(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function l6(t){const{BuildInfo:e}=uo(),n={};nl()?n.iosBundleId=e.packageName:Pc()?n.androidPackageName=e.packageName:Ht(t,"operation-not-supported-in-this-environment"),await JA(t,n)}function u6(t){const{cordova:e}=uo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,I5()?"_blank":"_system","location=yes"),n(i)})})}async function c6(t,e,n){const{cordova:r}=uo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(qt(t,"redirect-cancelled-by-user"))},o6))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),Pc()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function d6(t){var e,n,r,i,s,o,a,l,u,c;const d=uo();V(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function h6(t){const e=f6(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function f6(t){if(mr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=20;class m6 extends YA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function g6(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:_6(),postBody:null,tenantId:t.tenantId,error:qt(t,"no-auth-event")}}function y6(t,e){return Py()._set(Cy(t),e)}async function sT(t){const e=await Py()._get(Cy(t));return e&&await Py()._remove(Cy(t)),e}function v6(t,e){var n,r;const i=I6(e);if(i.includes("/__/auth/callback")){const s=nh(i),o=s.firebaseError?w6(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?qt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function _6(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<p6;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Py(){return On(J_)}function Cy(t){return Ks("authEvent",t.config.apiKey,t.name)}function w6(t){try{return JSON.parse(t)}catch{return null}}function I6(t){const e=nh(t),n=e.link?decodeURIComponent(e.link):void 0,r=nh(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return nh(i).link||i||r||n||t}function nh(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return oa(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=500;class T6{constructor(){this._redirectPersistence=ao,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pp,this._overrideRedirectResult=r0}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new m6(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Ht(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){d6(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),v3(),await this._originValidation(e);const o=g6(e,r,i);await y6(e,o);const a=await a6(e,o,n),l=await u6(a);return c6(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l6(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=uo(),o=setTimeout(async()=>{await sT(e),n.onEvent(oT())},E6),a=async c=>{clearTimeout(o);const d=await sT(e);let h=null;d&&(c!=null&&c.url)&&(h=v6(d,c.url)),n.onEvent(h||oT())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;uo().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const S6=T6;function oT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:qt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t,e){mt(t)._logFramework(e)}var b6="@firebase/auth-compat",A6="0.4.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=1e3;function pu(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function C6(){return pu()==="http:"||pu()==="https:"}function eP(t=it()){return!!((pu()==="file:"||pu()==="ionic:"||pu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function k6(){return L_()||M_()}function x6(){return Qb()&&(document==null?void 0:document.documentMode)===11}function N6(t=it()){return/Edge\/\d+/.test(t)}function D6(t=it()){return x6()||N6(t)}function tP(){try{const t=self.localStorage,e=kc();if(t)return t.setItem(e,"1"),t.removeItem(e),D6()?ju():!0}catch{return s0()&&ju()}return!1}function s0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ig(){return(C6()||Hb()||eP())&&!k6()&&tP()&&!s0()}function nP(){return eP()&&typeof document<"u"}async function O6(){return nP()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},P6);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function V6(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn={LOCAL:"local",NONE:"none",SESSION:"session"},kl=V,rP="persistence";function M6(t,e){if(kl(Object.values(xn).includes(e),t,"invalid-persistence-type"),L_()){kl(e!==xn.SESSION,t,"unsupported-persistence-type");return}if(M_()){kl(e===xn.NONE,t,"unsupported-persistence-type");return}if(s0()){kl(e===xn.NONE||e===xn.LOCAL&&ju(),t,"unsupported-persistence-type");return}kl(e===xn.NONE||tP(),t,"unsupported-persistence-type")}async function ky(t){await t._initializationPromise;const e=iP(),n=Ks(rP,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function L6(t,e){const n=iP();if(!n)return[];const r=Ks(rP,t,e);switch(n.getItem(r)){case xn.NONE:return[Da];case xn.LOCAL:return[Yu,ao];case xn.SESSION:return[ao];default:return[]}}function iP(){var t;try{return((t=V6())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=V;class Oi{constructor(){this.browserResolver=On(e6),this.cordovaResolver=On(S6),this.underlyingResolver=null,this._redirectPersistence=ao,this._completeRedirectFn=Pp,this._overrideRedirectResult=r0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return nP()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return F6(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await O6();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){return t.unwrap()}function $6(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){return oP(t)}function B6(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new z6(t,Sz(t,e))}else if(r){const i=oP(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function oP(t){const{_tokenResponse:e}=t instanceof cn?t.customData:t;if(!e)return null;if(!(t instanceof cn)&&"temporaryProof"in e&&"phoneNumber"in e)return lo.credentialFromResult(t);const n=e.providerId;if(!n||n===Cl.PASSWORD)return null;let r;switch(n){case Cl.GOOGLE:r=Rr;break;case Cl.FACEBOOK:r=Sr;break;case Cl.GITHUB:r=br;break;case Cl.TWITTER:r=Ar;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Oa._create(n,a):Br._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new ya(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof cn?r.credentialFromError(t):r.credentialFromResult(t)}function vn(t,e){return e.catch(n=>{throw n instanceof cn&&B6(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:U6(n),additionalUserInfo:Tz(n),user:Cp.getOrCreate(i)}})}async function xy(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>vn(t,n.confirm(r))}}class z6{constructor(e,n){this.resolver=n,this.auth=$6(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return vn(sP(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cp=class Kl{constructor(e){this._delegate=e,this.multiFactor=Pz(e)}static getOrCreate(e){return Kl.USER_MAP.has(e)||Kl.USER_MAP.set(e,new Kl(e)),Kl.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return vn(this.auth,OA(this._delegate,e))}async linkWithPhoneNumber(e,n){return xy(this.auth,s3(this._delegate,e,n))}async linkWithPopup(e){return vn(this.auth,p3(this._delegate,e,Oi))}async linkWithRedirect(e){return await ky(mt(this.auth)),T3(this._delegate,e,Oi)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return vn(this.auth,VA(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return xy(this.auth,o3(this._delegate,e,n))}reauthenticateWithPopup(e){return vn(this.auth,f3(this._delegate,e,Oi))}async reauthenticateWithRedirect(e){return await ky(mt(this.auth)),I3(this._delegate,e,Oi)}sendEmailVerification(e){return hz(this._delegate,e)}async unlink(e){return await J5(this._delegate,e),this}updateEmail(e){return gz(this._delegate,e)}updatePassword(e){return yz(this._delegate,e)}updatePhoneNumber(e){return a3(this._delegate,e)}updateProfile(e){return mz(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return fz(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Cp.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=V;class Ny{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;xl(r,"invalid-api-key",{appName:e.name}),xl(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Oi:void 0;this._delegate=n.initialize({options:{persistence:j6(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(n5),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Cp.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){D5(this._delegate,e,n)}applyActionCode(e){return rz(this._delegate,e)}checkActionCode(e){return MA(this._delegate,e)}confirmPasswordReset(e,n){return nz(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return vn(this._delegate,sz(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return dz(this._delegate,e)}isSignInWithEmailLink(e){return lz(this._delegate,e)}async getRedirectResult(){xl(ig(),this._delegate,"operation-not-supported-in-this-environment");const e=await R3(this._delegate,Oi);return e?vn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){R6(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=aT(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=aT(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return az(this._delegate,e,n)}sendPasswordResetEmail(e,n){return tz(this._delegate,e,n||void 0)}async setPersistence(e){M6(this._delegate,e);let n;switch(e){case xn.SESSION:n=ao;break;case xn.LOCAL:n=await On(Yu)._isAvailable()?Yu:J_;break;case xn.NONE:n=Da;break;default:return Ht("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return vn(this._delegate,X5(this._delegate))}signInWithCredential(e){return vn(this._delegate,Sp(this._delegate,e))}signInWithCustomToken(e){return vn(this._delegate,ez(this._delegate,e))}signInWithEmailAndPassword(e,n){return vn(this._delegate,oz(this._delegate,e,n))}signInWithEmailLink(e,n){return vn(this._delegate,uz(this._delegate,e,n))}signInWithPhoneNumber(e,n){return xy(this._delegate,i3(this._delegate,e,n))}async signInWithPopup(e){return xl(ig(),this._delegate,"operation-not-supported-in-this-environment"),vn(this._delegate,h3(this._delegate,e,Oi))}async signInWithRedirect(e){return xl(ig(),this._delegate,"operation-not-supported-in-this-environment"),await ky(this._delegate),_3(this._delegate,e,Oi)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return iz(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Ny.Persistence=xn;function aT(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Cp.getOrCreate(o)),error:e,complete:n}}function j6(t,e){const n=L6(t,e);if(typeof self<"u"&&!n.includes(Yu)&&n.push(Yu),typeof window<"u")for(const r of[J_,ao])n.includes(r)||n.push(r);return n.includes(Da)||n.push(Da),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.providerId="phone",this._delegate=new lo(sP(To.auth()))}static credential(e,n){return lo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}o0.PHONE_SIGN_IN_METHOD=lo.PHONE_SIGN_IN_METHOD;o0.PROVIDER_ID=lo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=V;class q6{constructor(e,n,r=To.app()){var i;W6((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new n3(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="auth-compat";function K6(t){t.INTERNAL.registerComponent(new Ur(G6,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Ny(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fo.EMAIL_SIGNIN,PASSWORD_RESET:Fo.PASSWORD_RESET,RECOVER_EMAIL:Fo.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Fo.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Fo.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Fo.VERIFY_EMAIL}},EmailAuthProvider:hs,FacebookAuthProvider:Sr,GithubAuthProvider:br,GoogleAuthProvider:Rr,OAuthProvider:ya,SAMLAuthProvider:Wh,PhoneAuthProvider:o0,PhoneMultiFactorGenerator:ZA,RecaptchaVerifier:q6,TwitterAuthProvider:Ar,Auth:Ny,AuthCredential:rl,Error:cn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(b6,A6)}K6(To);var H6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,a0=a0||{},se=H6||self;function kp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Nc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Q6(t){return Object.prototype.hasOwnProperty.call(t,sg)&&t[sg]||(t[sg]=++Y6)}var sg="closure_uid_"+(1e9*Math.random()>>>0),Y6=0;function X6(t,e,n){return t.call.apply(t.bind,arguments)}function J6(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?tn=X6:tn=J6,tn.apply(null,arguments)}function Td(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Vt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function fs(){this.s=this.s,this.o=this.o}var Z6=0;fs.prototype.s=!1;fs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Z6!=0)&&Q6(this)};fs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const aP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function l0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function lT(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(kp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nn.prototype.h=function(){this.defaultPrevented=!0};var e9=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{se.addEventListener("test",()=>{},e),se.removeEventListener("test",()=>{},e)}catch{}return t}();function Xu(t){return/^[\s\xa0]*$/.test(t)}function xp(){var t=se.navigator;return t&&(t=t.userAgent)?t:""}function Pr(t){return xp().indexOf(t)!=-1}function u0(t){return u0[" "](t),t}u0[" "]=function(){};function t9(t,e){var n=K9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var n9=Pr("Opera"),Va=Pr("Trident")||Pr("MSIE"),lP=Pr("Edge"),Dy=lP||Va,uP=Pr("Gecko")&&!(xp().toLowerCase().indexOf("webkit")!=-1&&!Pr("Edge"))&&!(Pr("Trident")||Pr("MSIE"))&&!Pr("Edge"),r9=xp().toLowerCase().indexOf("webkit")!=-1&&!Pr("Edge");function cP(){var t=se.document;return t?t.documentMode:void 0}var Oy;e:{var og="",ag=function(){var t=xp();if(uP)return/rv:([^\);]+)(\)|;)/.exec(t);if(lP)return/Edge\/([\d\.]+)/.exec(t);if(Va)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(r9)return/WebKit\/(\S+)/.exec(t);if(n9)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ag&&(og=ag?ag[1]:""),Va){var lg=cP();if(lg!=null&&lg>parseFloat(og)){Oy=String(lg);break e}}Oy=og}var Vy;if(se.document&&Va){var uT=cP();Vy=uT||parseInt(Oy,10)||void 0}else Vy=void 0;var i9=Vy;function Ju(t,e){if(nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(uP){e:{try{u0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:s9[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ju.$.h.call(this)}}Vt(Ju,nn);var s9={2:"touch",3:"pen",4:"mouse"};Ju.prototype.h=function(){Ju.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Dc="closure_listenable_"+(1e6*Math.random()|0),o9=0;function a9(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++o9,this.fa=this.ia=!1}function Np(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function c0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function l9(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function dP(t){const e={};for(const n in t)e[n]=t[n];return e}const cT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<cT.length;s++)n=cT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Dp(t){this.src=t,this.g={},this.h=0}Dp.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ly(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new a9(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function My(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=aP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Np(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ly(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var d0="closure_lm_"+(1e6*Math.random()|0),ug={};function fP(t,e,n,r,i){if(r&&r.once)return mP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fP(t,e[s],n,r,i);return null}return n=p0(n),t&&t[Dc]?t.O(e,n,Nc(r)?!!r.capture:!!r,i):pP(t,e,n,!1,r,i)}function pP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Nc(i)?!!i.capture:!!i,a=f0(t);if(a||(t[d0]=a=new Dp(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=u9(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)e9||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function u9(){function t(n){return e.call(t.src,t.listener,n)}const e=c9;return t}function mP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)mP(t,e[s],n,r,i);return null}return n=p0(n),t&&t[Dc]?t.P(e,n,Nc(r)?!!r.capture:!!r,i):pP(t,e,n,!0,r,i)}function gP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)gP(t,e[s],n,r,i);else r=Nc(r)?!!r.capture:!!r,n=p0(n),t&&t[Dc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ly(s,n,r,i),-1<n&&(Np(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=f0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ly(e,n,r,i)),(n=-1<t?e[t]:null)&&h0(n))}function h0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Dc])My(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=f0(e))?(My(n,t),n.h==0&&(n.src=null,e[d0]=null)):Np(t)}}}function yP(t){return t in ug?ug[t]:ug[t]="on"+t}function c9(t,e){if(t.fa)t=!0;else{e=new Ju(e,this);var n=t.listener,r=t.la||t.src;t.ia&&h0(t),t=n.call(r,e)}return t}function f0(t){return t=t[d0],t instanceof Dp?t:null}var cg="__closure_events_fn_"+(1e9*Math.random()>>>0);function p0(t){return typeof t=="function"?t:(t[cg]||(t[cg]=function(e){return t.handleEvent(e)}),t[cg])}function Dt(){fs.call(this),this.i=new Dp(this),this.S=this,this.J=null}Vt(Dt,fs);Dt.prototype[Dc]=!0;Dt.prototype.removeEventListener=function(t,e,n,r){gP(this,t,e,n,r)};function Gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new nn(e,t);else if(e instanceof nn)e.target=e.target||t;else{var i=e;e=new nn(r,t),hP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Sd(o,r,!0,e)&&i}if(o=e.g=t,i=Sd(o,r,!0,e)&&i,i=Sd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Sd(o,r,!1,e)&&i}Dt.prototype.N=function(){if(Dt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Np(n[r]);delete t.g[e],t.h--}}this.J=null};Dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Dt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Sd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&My(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var m0=se.JSON.stringify;class d9{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function h9(){var t=g0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class f9{constructor(){this.h=this.g=null}add(e,n){const r=vP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var vP=new d9(()=>new p9,t=>t.reset());class p9{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function m9(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function g9(t){se.setTimeout(()=>{throw t},0)}let Zu,ec=!1,g0=new f9,_P=()=>{const t=se.Promise.resolve(void 0);Zu=()=>{t.then(y9)}};var y9=()=>{for(var t;t=h9();){try{t.h.call(t.g)}catch(n){g9(n)}var e=vP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ec=!1};function Op(t,e){Dt.call(this),this.h=t||1,this.g=e||se,this.j=tn(this.qb,this),this.l=Date.now()}Vt(Op,Dt);j=Op.prototype;j.ga=!1;j.T=null;j.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(y0(this),this.start()))}};j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function y0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}j.N=function(){Op.$.N.call(this),y0(this),delete this.g};function v0(t,e,n){if(typeof t=="function")n&&(t=tn(t,n));else if(t&&typeof t.handleEvent=="function")t=tn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:se.setTimeout(t,e||0)}function wP(t){t.g=v0(()=>{t.g=null,t.i&&(t.i=!1,wP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class v9 extends fs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wP(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tc(t){fs.call(this),this.h=t,this.g={}}Vt(tc,fs);var dT=[];function IP(t,e,n,r){Array.isArray(n)||(n&&(dT[0]=n.toString()),n=dT);for(var i=0;i<n.length;i++){var s=fP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function EP(t){c0(t.g,function(e,n){this.g.hasOwnProperty(n)&&h0(e)},t),t.g={}}tc.prototype.N=function(){tc.$.N.call(this),EP(this)};tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Vp(){this.g=!0}Vp.prototype.Ea=function(){this.g=!1};function _9(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function w9(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function aa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+E9(t,n)+(r?" "+r:"")})}function I9(t,e){t.info(function(){return"TIMEOUT: "+e})}Vp.prototype.info=function(){};function E9(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return m0(n)}catch{return e}}var Ro={},hT=null;function Mp(){return hT=hT||new Dt}Ro.Ta="serverreachability";function TP(t){nn.call(this,Ro.Ta,t)}Vt(TP,nn);function nc(t){const e=Mp();Gt(e,new TP(e))}Ro.STAT_EVENT="statevent";function SP(t,e){nn.call(this,Ro.STAT_EVENT,t),this.stat=e}Vt(SP,nn);function ln(t){const e=Mp();Gt(e,new SP(e,t))}Ro.Ua="timingevent";function RP(t,e){nn.call(this,Ro.Ua,t),this.size=e}Vt(RP,nn);function Oc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){t()},e)}var Lp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _0(){}_0.prototype.h=null;function fT(t){return t.h||(t.h=t.i())}function AP(){}var Vc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function w0(){nn.call(this,"d")}Vt(w0,nn);function I0(){nn.call(this,"c")}Vt(I0,nn);var Fy;function Fp(){}Vt(Fp,_0);Fp.prototype.g=function(){return new XMLHttpRequest};Fp.prototype.i=function(){return{}};Fy=new Fp;function Mc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new tc(this),this.P=T9,t=Dy?125:void 0,this.V=new Op(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new PP}function PP(){this.i=null,this.g="",this.h=!1}var T9=45e3,$y={},Hh={};j=Mc.prototype;j.setTimeout=function(t){this.P=t};function Uy(t,e,n){t.L=1,t.v=Up(li(e)),t.s=n,t.S=!0,CP(t,null)}function CP(t,e){t.G=Date.now(),Lc(t),t.A=li(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),LP(n.i,"t",r),t.C=0,n=t.l.J,t.h=new PP,t.g=iC(t.l,n?e:null,!t.s),0<t.O&&(t.M=new v9(tn(t.Pa,t,t.g),t.O)),IP(t.U,t.g,"readystatechange",t.nb),e=t.I?dP(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),nc(),_9(t.j,t.u,t.A,t.m,t.W,t.s)}j.nb=function(t){t=t.target;const e=this.M;e&&xr(t)==3?e.l():this.Pa(t)};j.Pa=function(t){try{if(t==this.g)e:{const c=xr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Dy||this.g&&(this.h.h||this.g.ja()||yT(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?nc(3):nc(2)),$p(this);var n=this.g.da();this.ca=n;t:if(kP(this)){var r=yT(this.g);t="";var i=r.length,s=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$s(this),mu(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,w9(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xu(a)){var u=a;break t}}u=null}if(n=u)aa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,By(this,n);else{this.i=!1,this.o=3,ln(12),$s(this),mu(this);break e}}this.S?(xP(this,c,o),Dy&&this.i&&c==3&&(IP(this.U,this.V,"tick",this.mb),this.V.start())):(aa(this.j,this.m,o,null),By(this,o)),c==4&&$s(this),this.i&&!this.J&&(c==4?eC(this.l,this):(this.i=!1,Lc(this)))}else W9(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ln(12)):(this.o=0,ln(13)),$s(this),mu(this)}}}catch{}finally{}};function kP(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function xP(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=S9(t,n),i==Hh){e==4&&(t.o=4,ln(14),r=!1),aa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==$y){t.o=4,ln(15),aa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else aa(t.j,t.m,i,null),By(t,i);kP(t)&&i!=Hh&&i!=$y&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ln(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),A0(e),e.M=!0,ln(11))):(aa(t.j,t.m,n,"[Invalid Chunked Response]"),$s(t),mu(t))}j.mb=function(){if(this.g){var t=xr(this.g),e=this.g.ja();this.C<e.length&&($p(this),xP(this,t,e),this.i&&t!=4&&Lc(this))}};function S9(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Hh:(n=Number(e.substring(n,r)),isNaN(n)?$y:(r+=1,r+n>e.length?Hh:(e=e.slice(r,r+n),t.C=r+n,e)))}j.cancel=function(){this.J=!0,$s(this)};function Lc(t){t.Y=Date.now()+t.P,NP(t,t.P)}function NP(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Oc(tn(t.lb,t),e)}function $p(t){t.B&&(se.clearTimeout(t.B),t.B=null)}j.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(I9(this.j,this.A),this.L!=2&&(nc(),ln(17)),$s(this),this.o=2,mu(this)):NP(this,this.Y-t)};function mu(t){t.l.H==0||t.J||eC(t.l,t)}function $s(t){$p(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,y0(t.V),EP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function By(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||zy(n.i,t))){if(!t.K&&zy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Xh(n),jp(n);else break e;b0(n),ln(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Oc(tn(n.ib,n),6e3));if(1>=UP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Us(n,11)}else if((t.K||n.g==t)&&Xh(n),!Xu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const y=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(E0(s,s.h),s.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,je(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=rC(r,r.J?r.pa:null,r.Y),o.K){BP(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&($p(a),Lc(a)),r.g=o}else JP(r);0<n.j.length&&Wp(n)}else u[0]!="stop"&&u[0]!="close"||Us(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Us(n,7):R0(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}nc(4)}catch{}}function R9(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(kp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function b9(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(kp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function DP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(kp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=b9(t),r=R9(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var OP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function A9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qs){this.h=t.h,Qh(this,t.j),this.s=t.s,this.g=t.g,Yh(this,t.m),this.l=t.l;var e=t.i,n=new rc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pT(this,n),this.o=t.o}else t&&(e=String(t).match(OP))?(this.h=!1,Qh(this,e[1]||"",!0),this.s=Hl(e[2]||""),this.g=Hl(e[3]||"",!0),Yh(this,e[4]),this.l=Hl(e[5]||"",!0),pT(this,e[6]||"",!0),this.o=Hl(e[7]||"")):(this.h=!1,this.i=new rc(null,this.h))}Qs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ql(e,mT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ql(e,mT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ql(n,n.charAt(0)=="/"?k9:C9,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ql(n,N9)),t.join("")};function li(t){return new Qs(t)}function Qh(t,e,n){t.j=n?Hl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pT(t,e,n){e instanceof rc?(t.i=e,D9(t.i,t.h)):(n||(e=Ql(e,x9)),t.i=new rc(e,t.h))}function je(t,e,n){t.i.set(e,n)}function Up(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Hl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ql(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,P9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function P9(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var mT=/[#\/\?@]/g,C9=/[#\?:]/g,k9=/[#\?]/g,x9=/[#\?@]/g,N9=/#/g;function rc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ps(t){t.g||(t.g=new Map,t.h=0,t.i&&A9(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=rc.prototype;j.add=function(t,e){ps(this),this.i=null,t=sl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function VP(t,e){ps(t),e=sl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function MP(t,e){return ps(t),e=sl(t,e),t.g.has(e)}j.forEach=function(t,e){ps(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};j.ta=function(){ps(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};j.Z=function(t){ps(this);let e=[];if(typeof t=="string")MP(this,t)&&(e=e.concat(this.g.get(sl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};j.set=function(t,e){return ps(this),this.i=null,t=sl(this,t),MP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function LP(t,e,n){VP(t,e),0<n.length&&(t.i=null,t.g.set(sl(t,e),l0(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function sl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function D9(t,e){e&&!t.j&&(ps(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(VP(this,r),LP(this,i,n))},t)),t.j=e}var O9=class{constructor(t,e){this.g=t,this.map=e}};function FP(t){this.l=t||V9,se.PerformanceNavigationTiming?(t=se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var V9=10;function $P(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function UP(t){return t.h?1:t.g?t.g.size:0}function zy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function E0(t,e){t.g?t.g.add(e):t.h=e}function BP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}FP.prototype.cancel=function(){if(this.i=zP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function zP(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return l0(t.i)}var M9=class{stringify(t){return se.JSON.stringify(t,void 0)}parse(t){return se.JSON.parse(t,void 0)}};function L9(){this.g=new M9}function F9(t,e,n){const r=n||"";try{DP(t,function(i,s){let o=i;Nc(i)&&(o=m0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $9(t,e){const n=new Vp;if(se.Image){const r=new Image;r.onload=Td(Rd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Td(Rd,n,r,"TestLoadImage: error",!1,e),r.onabort=Td(Rd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Td(Rd,n,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Rd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Fc(t){this.l=t.fc||null,this.j=t.ob||!1}Vt(Fc,_0);Fc.prototype.g=function(){return new Bp(this.l,this.j)};Fc.prototype.i=function(t){return function(){return t}}({});function Bp(t,e){Dt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=T0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vt(Bp,Dt);var T0=0;j=Bp.prototype;j.open=function(t,e){if(this.readyState!=T0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ic(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$c(this)),this.readyState=T0};j.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ic(this)),this.g&&(this.readyState=3,ic(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function jP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}j.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$c(this):ic(this),this.readyState==3&&jP(this)}};j.Za=function(t){this.g&&(this.response=this.responseText=t,$c(this))};j.Ya=function(t){this.g&&(this.response=t,$c(this))};j.ka=function(){this.g&&$c(this)};function $c(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ic(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ic(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var U9=se.JSON.parse;function ut(t){Dt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=WP,this.L=this.M=!1}Vt(ut,Dt);var WP="",B9=/^https?$/i,z9=["POST","PUT"];j=ut.prototype;j.Oa=function(t){this.M=t};j.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fy.g(),this.C=this.u?fT(this.u):fT(Fy),this.g.onreadystatechange=tn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){gT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=se.FormData&&t instanceof se.FormData,!(0<=aP(z9,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KP(this),0<this.B&&((this.L=j9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.ua,this)):this.A=v0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){gT(this,s)}};function j9(t){return Va&&typeof t.timeout=="number"&&t.ontimeout!==void 0}j.ua=function(){typeof a0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))};function gT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qP(t),zp(t)}function qP(t){t.F||(t.F=!0,Gt(t,"complete"),Gt(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gt(this,"complete"),Gt(this,"abort"),zp(this))};j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zp(this,!0)),ut.$.N.call(this)};j.La=function(){this.s||(this.G||this.v||this.l?GP(this):this.kb())};j.kb=function(){GP(this)};function GP(t){if(t.h&&typeof a0<"u"&&(!t.C[1]||xr(t)!=4||t.da()!=2)){if(t.v&&xr(t)==4)v0(t.La,0,t);else if(Gt(t,"readystatechange"),xr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(OP)[1]||null;!i&&se.self&&se.self.location&&(i=se.self.location.protocol.slice(0,-1)),r=!B9.test(i?i.toLowerCase():"")}n=r}if(n)Gt(t,"complete"),Gt(t,"success");else{t.m=6;try{var s=2<xr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",qP(t)}}finally{zp(t)}}}}function zp(t,e){if(t.g){KP(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function KP(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(se.clearTimeout(t.A),t.A=null)}j.isActive=function(){return!!this.g};function xr(t){return t.g?t.g.readyState:0}j.da=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}};j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),U9(e)}};function yT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case WP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function W9(t){const e={};t=(t.g&&2<=xr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Xu(t[r]))continue;var n=m9(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}l9(e,function(r){return r.join(", ")})}j.Ia=function(){return this.m};j.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function HP(t){let e="";return c0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function S0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=HP(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):je(t,e,n))}function Nl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function QP(t){this.Ga=0,this.j=[],this.l=new Vp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Nl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Nl("baseRetryDelayMs",5e3,t),this.hb=Nl("retryDelaySeedMs",1e4,t),this.eb=Nl("forwardChannelMaxRetries",2,t),this.xa=Nl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new FP(t&&t.concurrentRequestLimit),this.Ja=new L9,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}j=QP.prototype;j.ra=8;j.H=1;function R0(t){if(YP(t),t.H==3){var e=t.W++,n=li(t.I);if(je(n,"SID",t.K),je(n,"RID",e),je(n,"TYPE","terminate"),Uc(t,n),e=new Mc(t,t.l,e),e.L=2,e.v=Up(li(n)),n=!1,se.navigator&&se.navigator.sendBeacon)try{n=se.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&se.Image&&(new Image().src=e.v,n=!0),n||(e.g=iC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Lc(e)}nC(t)}function jp(t){t.g&&(A0(t),t.g.cancel(),t.g=null)}function YP(t){jp(t),t.u&&(se.clearTimeout(t.u),t.u=null),Xh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&se.clearTimeout(t.m),t.m=null)}function Wp(t){if(!$P(t.i)&&!t.m){t.m=!0;var e=t.Na;Zu||_P(),ec||(Zu(),ec=!0),g0.add(e,t),t.C=0}}function q9(t,e){return UP(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Oc(tn(t.Na,t,e),tC(t,t.C)),t.C++,!0)}j.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Mc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=dP(s),hP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XP(this,i,e),n=li(this.I),je(n,"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),Uc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(HP(s)))+"&"+e:this.o&&S0(n,this.o,s)),E0(this.i,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.aa=!0,Uy(i,n,null)):Uy(i,n,e),this.H=2}}else this.H==3&&(t?vT(this,t):this.j.length==0||$P(this.i)||vT(this))};function vT(t,e){var n;e?n=e.m:n=t.W++;const r=li(t.I);je(r,"SID",t.K),je(r,"RID",n),je(r,"AID",t.V),Uc(t,r),t.o&&t.s&&S0(r,t.o,t.s),n=new Mc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=XP(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),E0(t.i,n),Uy(n,r,e)}function Uc(t,e){t.na&&c0(t.na,function(n,r){je(e,r,n)}),t.h&&DP({},function(n,r){je(e,r,n)})}function XP(t,e,n){n=Math.min(t.j.length,n);var r=t.h?tn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{F9(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function JP(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Zu||_P(),ec||(Zu(),ec=!0),g0.add(e,t),t.A=0}}function b0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Oc(tn(t.Ma,t),tC(t,t.A)),t.A++,!0)}j.Ma=function(){if(this.u=null,ZP(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Oc(tn(this.jb,this),t)}};j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ln(10),jp(this),ZP(this))};function A0(t){t.B!=null&&(se.clearTimeout(t.B),t.B=null)}function ZP(t){t.g=new Mc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=li(t.wa);je(e,"RID","rpc"),je(e,"SID",t.K),je(e,"AID",t.V),je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&je(e,"TO",t.qa),je(e,"TYPE","xmlhttp"),Uc(t,e),t.o&&t.s&&S0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Up(li(e)),n.s=null,n.S=!0,CP(n,t)}j.ib=function(){this.v!=null&&(this.v=null,jp(this),b0(this),ln(19))};function Xh(t){t.v!=null&&(se.clearTimeout(t.v),t.v=null)}function eC(t,e){var n=null;if(t.g==e){Xh(t),A0(t),t.g=null;var r=2}else if(zy(t.i,e))n=e.F,BP(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Mp(),Gt(r,new RP(r,n)),Wp(t)}else JP(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&q9(t,e)||r==2&&b0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Us(t,5);break;case 4:Us(t,10);break;case 3:Us(t,6);break;default:Us(t,2)}}}function tC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Us(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=tn(t.pb,t);n||(n=new Qs("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||Qh(n,"https"),Up(n)),$9(n.toString(),r)}else ln(2);t.H=0,t.h&&t.h.za(e),nC(t),YP(t)}j.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ln(2)):(this.l.info("Failed to ping google.com"),ln(1))};function nC(t){if(t.H=0,t.ma=[],t.h){const e=zP(t.i);(e.length!=0||t.j.length!=0)&&(lT(t.ma,e),lT(t.ma,t.j),t.i.i.length=0,l0(t.j),t.j.length=0),t.h.ya()}}function rC(t,e,n){var r=n instanceof Qs?li(n):new Qs(n);if(r.g!="")e&&(r.g=e+"."+r.g),Yh(r,r.m);else{var i=se.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Qs(null);r&&Qh(s,r),e&&(s.g=e),i&&Yh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&je(r,n,e),je(r,"VER",t.ra),Uc(t,r),r}function iC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ut(new Fc({ob:!0})):new ut(t.va),e.Oa(t.J),e}j.isActive=function(){return!!this.h&&this.h.isActive(this)};function sC(){}j=sC.prototype;j.Ba=function(){};j.Aa=function(){};j.za=function(){};j.ya=function(){};j.isActive=function(){return!0};j.Va=function(){};function Jh(){if(Va&&!(10<=Number(i9)))throw Error("Environmental error: no available transport.")}Jh.prototype.g=function(t,e){return new $n(t,e)};function $n(t,e){Dt.call(this),this.g=new QP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ol(this)}Vt($n,Dt);$n.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ln(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=rC(t,null,t.Y),Wp(t)};$n.prototype.close=function(){R0(this.g)};$n.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=m0(t),t=n);e.j.push(new O9(e.fb++,t)),e.H==3&&Wp(e)};$n.prototype.N=function(){this.g.h=null,delete this.j,R0(this.g),delete this.g,$n.$.N.call(this)};function oC(t){w0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Vt(oC,w0);function aC(){I0.call(this),this.status=1}Vt(aC,I0);function ol(t){this.g=t}Vt(ol,sC);ol.prototype.Ba=function(){Gt(this.g,"a")};ol.prototype.Aa=function(t){Gt(this.g,new oC(t))};ol.prototype.za=function(t){Gt(this.g,new aC)};ol.prototype.ya=function(){Gt(this.g,"b")};function G9(){this.blockSize=-1}function gr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Vt(gr,G9);gr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function dg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}gr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)dg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){dg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){dg(this,r),i=0;break}}this.h=i,this.i+=e};gr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var K9={};function P0(t){return-128<=t&&128>t?t9(t,function(e){return new Pe([e|0],0>e?-1:0)}):new Pe([t|0],0>t?-1:0)}function Nr(t){if(isNaN(t)||!isFinite(t))return wa;if(0>t)return zt(Nr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=jy;return new Pe(e,0)}function lC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return zt(lC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nr(Math.pow(e,8)),r=wa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Nr(Math.pow(e,s)),r=r.R(s).add(Nr(o))):(r=r.R(n),r=r.add(Nr(o)))}return r}var jy=4294967296,wa=P0(0),Wy=P0(1),_T=P0(16777216);j=Pe.prototype;j.ea=function(){if(Kn(this))return-zt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:jy+r)*e,e*=jy}return t};j.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Xr(this))return"0";if(Kn(this))return"-"+zt(this).toString(t);for(var e=Nr(Math.pow(t,6)),n=this,r="";;){var i=ef(n,e).g;n=Zh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Xr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};j.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Xr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Kn(t){return t.h==-1}j.X=function(t){return t=Zh(this,t),Kn(t)?-1:Xr(t)?0:1};function zt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Pe(n,~t.h).add(Wy)}j.abs=function(){return Kn(this)?zt(this):this};j.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Pe(n,n[n.length-1]&-2147483648?-1:0)};function Zh(t,e){return t.add(zt(e))}j.R=function(t){if(Xr(this)||Xr(t))return wa;if(Kn(this))return Kn(t)?zt(this).R(zt(t)):zt(zt(this).R(t));if(Kn(t))return zt(this.R(zt(t)));if(0>this.X(_T)&&0>t.X(_T))return Nr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,bd(n,2*r+2*i),n[2*r+2*i+1]+=s*l,bd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,bd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,bd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Pe(n,0)};function bd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Dl(t,e){this.g=t,this.h=e}function ef(t,e){if(Xr(e))throw Error("division by zero");if(Xr(t))return new Dl(wa,wa);if(Kn(t))return e=ef(zt(t),e),new Dl(zt(e.g),zt(e.h));if(Kn(e))return e=ef(t,zt(e)),new Dl(zt(e.g),e.h);if(30<t.g.length){if(Kn(t)||Kn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Wy,r=e;0>=r.X(t);)n=wT(n),r=wT(r);var i=$o(n,1),s=$o(r,1);for(r=$o(r,2),n=$o(n,2);!Xr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=$o(r,1),n=$o(n,1)}return e=Zh(t,i.R(e)),new Dl(i,e)}for(i=wa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Nr(n),o=s.R(e);Kn(o)||0<o.X(t);)n-=r,s=Nr(n),o=s.R(e);Xr(s)&&(s=Wy),i=i.add(s),t=Zh(t,o)}return new Dl(i,t)}j.gb=function(t){return ef(this,t).h};j.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Pe(n,this.h&t.h)};j.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Pe(n,this.h|t.h)};j.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Pe(n,this.h^t.h)};function wT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Pe(n,t.h)}function $o(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Pe(i,t.h)}Jh.prototype.createWebChannel=Jh.prototype.g;$n.prototype.send=$n.prototype.u;$n.prototype.open=$n.prototype.m;$n.prototype.close=$n.prototype.close;Lp.NO_ERROR=0;Lp.TIMEOUT=8;Lp.HTTP_ERROR=6;bP.COMPLETE="complete";AP.EventType=Vc;Vc.OPEN="a";Vc.CLOSE="b";Vc.ERROR="c";Vc.MESSAGE="d";Dt.prototype.listen=Dt.prototype.O;ut.prototype.listenOnce=ut.prototype.P;ut.prototype.getLastError=ut.prototype.Sa;ut.prototype.getLastErrorCode=ut.prototype.Ia;ut.prototype.getStatus=ut.prototype.da;ut.prototype.getResponseJson=ut.prototype.Wa;ut.prototype.getResponseText=ut.prototype.ja;ut.prototype.send=ut.prototype.ha;ut.prototype.setWithCredentials=ut.prototype.Oa;gr.prototype.digest=gr.prototype.l;gr.prototype.reset=gr.prototype.reset;gr.prototype.update=gr.prototype.j;Pe.prototype.add=Pe.prototype.add;Pe.prototype.multiply=Pe.prototype.R;Pe.prototype.modulo=Pe.prototype.gb;Pe.prototype.compare=Pe.prototype.X;Pe.prototype.toNumber=Pe.prototype.ea;Pe.prototype.toString=Pe.prototype.toString;Pe.prototype.getBits=Pe.prototype.D;Pe.fromNumber=Nr;Pe.fromString=lC;var H9=function(){return new Jh},Q9=function(){return Mp()},hg=Lp,Y9=bP,X9=Ro,IT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},J9=Fc,Ad=AP,Z9=ut,ej=gr,Ia=Pe;const ET="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new _p("@firebase/firestore");function qy(){return Zi.logLevel}function tj(t){Zi.setLogLevel(t)}function D(t,...e){if(Zi.logLevel<=ye.DEBUG){const n=e.map(C0);Zi.debug(`Firestore (${al}): ${t}`,...n)}}function ht(t,...e){if(Zi.logLevel<=ye.ERROR){const n=e.map(C0);Zi.error(`Firestore (${al}): ${t}`,...n)}}function yr(t,...e){if(Zi.logLevel<=ye.WARN){const n=e.map(C0);Zi.warn(`Firestore (${al}): ${t}`,...n)}}function C0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t="Unexpected state"){const e=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: `+t;throw ht(e),new Error(e)}function Y(t,e){t||q()}function nj(t,e){t||q()}function z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class ij{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sj{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y(typeof r.accessToken=="string"),new uC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(e===null||typeof e=="string"),new kt(e)}}class oj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class aj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new oj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Y(typeof n.token=="string"),this.R=n.token,new lj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=cj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function Ma(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function dC(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new x(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new x(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new Xe(0,0))}static max(){return new Q(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(),r===void 0?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ve extends sc{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new x(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const dj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends sc{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return dj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new x(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new x(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new x(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new x(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.path=e}static fromPath(e){return new U(ve.fromString(e))}static fromName(e){return new U(ve.fromString(e).popFirst(5))}static empty(){return new U(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new U(new ve(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Gy(t){return t.fields.find(e=>e.kind===2)}function As(t){return t.fields.filter(e=>e.kind!==2)}hC.UNKNOWN_ID=-1;class hj{constructor(e,n){this.fieldPath=e,this.kind=n}}class tf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new tf(0,Un.min())}}function fC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Un(i,U.empty(),e)}function pC(t){return new Un(t.readTime,t.key,-1)}class Un{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Un(Q.min(),U.empty(),-1)}static max(){return new Un(Q.max(),U.empty(),-1)}}function k0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ms(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==mC)throw t;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new b((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new b((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.m=new Nt,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{n.error?this.m.reject(new gu(e,n.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=x0(r.target.error);this.m.reject(new gu(e,i))}}static open(e,n,r,i){try{return new qp(n,e.transaction(i,r))}catch(s){throw new gu(n,s)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new pj(n)}}class dr{constructor(e,n,r){this.name=e,this.version=n,this.S=r,dr.D(it())===12.2&&ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),Cs(window.indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!ju())return!1;if(dr.C())return!0;const e=it(),n=dr.D(e),r=0<n&&n<10,i=dr.F(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.M)==="YES"}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static F(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async N(e){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new gu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new x(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new x(A.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new gu(e,o))},i.onupgradeneeded=s=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.B(o,i.transaction,s.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.N(e);const a=qp.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.p(),u)).catch(u=>(a.abort(u),b.reject(u))).toPromise();return l.catch(()=>{}),await a.g,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(D("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class fj{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return Cs(this.q.delete())}}class gu extends x{constructor(e,n){super(A.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function gs(t){return t.name==="IndexedDbTransactionError"}class pj{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Cs(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),Cs(this.store.add(e))}get(e){return Cs(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),Cs(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),Cs(this.store.count())}G(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.j(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new b((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new b((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){D("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.j(i,n)}X(e){const n=this.cursor({});return new b((r,i)=>{n.onerror=s=>{const o=x0(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}j(e,n){const r=[];return new b((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new fj(a),u=n(a.primaryKey,a.value,l);if(u instanceof b){const c=u.catch(d=>(l.done(),b.reject(d)));r.push(c)}l.isDone?i():l.U===null?a.continue():a.continue(l.U)}}).next(()=>b.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Cs(t){return new b((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=x0(r.target.error);n(i)}})}let TT=!1;function x0(t){const e=dr.D(it());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new x("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TT||(TT=!0,setTimeout(()=>{throw r},0)),r}}return t}class mj{constructor(e,n){this.asyncQueue=e,this.ee=n,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){D("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{D("IndexBackiller",`Documents written: ${await this.ee.ne()}`)}catch(n){gs(n)?D("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await ms(n)}await this.te(6e4)})}}class gj{constructor(e,n){this.localStore=e,this.persistence=n}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.re(n,e))}re(e,n){const r=new Set;let i=n,s=!0;return b.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return D("IndexBackiller",`Processing collection: ${o}`),this.ie(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ie(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.se(i,s)).next(a=>(D("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}se(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=pC(s);k0(o,r)>0&&(r=o)}),new Un(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}En.ae=-1;function Bc(t){return t==null}function oc(t){return t===0&&1/t==-1/0}function yC(t){return typeof t=="number"&&Number.isInteger(t)&&!oc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ST(e)),e=yj(t.get(n),e);return ST(e)}function yj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function ST(t){return t+""}function Dr(t){const e=t.length;if(Y(e>=2),e===2)return Y(t.charAt(0)===""&&t.charAt(1)===""),ve.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&q(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:q()}s=o+2}return new ve(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t,e){return[t,dn(e)]}function vC(t,e,n){return[t,dn(e),n]}const vj={},_j=["prefixPath","collectionGroup","readTime","documentId"],wj=["prefixPath","collectionGroup","documentId"],Ij=["collectionGroup","readTime","prefixPath","documentId"],Ej=["canonicalId","targetId"],Tj=["targetId","path"],Sj=["path","targetId"],Rj=["collectionId","parent"],bj=["indexId","uid"],Aj=["uid","sequenceNumber"],Pj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Cj=["indexId","uid","orderedDocumentKey"],kj=["userId","collectionPath","documentId"],xj=["userId","collectionPath","largestBatchId"],Nj=["userId","collectionGroup","largestBatchId"],_C=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Dj=[..._C,"documentOverlays"],wC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],IC=wC,Oj=[...IC,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends gC{constructor(e,n){super(),this.ue=e,this.currentSequenceNumber=n}}function Mt(t,e){const n=z(t);return dr.O(n.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pd(this.root,e,this.comparator,!0)}}class Pd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=s??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();const e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AT(this.data.getIterator())}getIteratorFrom(e){return new AT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ge(this.comparator);return n.data=e,n}}class AT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Uo(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Ge(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ma(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new TC("Invalid base64 string: "+s):s}}(e);return new bt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const Mj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(Y(!!t),typeof t=="string"){let e=0;const n=Mj.exec(t);if(Y(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ts(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function N0(t){const e=t.mapValue.fields.__previous_value__;return Gp(e)?N0(e):e}function ac(t){const e=es(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ns{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ns("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ns&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ih={nullValue:"NULL_VALUE"};function co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gp(t)?4:SC(t)?9007199254740991:10:q()}function zr(t,e){if(t===e)return!0;const n=co(t);if(n!==co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ac(t).isEqual(ac(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=es(i.timestampValue),a=es(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ts(i.bytesValue).isEqual(ts(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return lt(i.geoPointValue.latitude)===lt(s.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return lt(i.integerValue)===lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=lt(i.doubleValue),a=lt(s.doubleValue);return o===a?oc(o)===oc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ma(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(bT(o)!==bT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!zr(o[l],a[l])))return!1;return!0}(t,e);default:return q()}}function lc(t,e){return(t.values||[]).find(n=>zr(n,e))!==void 0}function rs(t,e){if(t===e)return 0;const n=co(t),r=co(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=lt(s.integerValue||s.doubleValue),l=lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return PT(t.timestampValue,e.timestampValue);case 4:return PT(ac(t),ac(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ts(s),l=ts(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=le(a[u],l[u]);if(c!==0)return c}return le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=le(lt(s.latitude),lt(o.latitude));return a!==0?a:le(lt(s.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=rs(a[u],l[u]);if(c)return c}return le(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Vi.mapValue&&o===Vi.mapValue)return 0;if(s===Vi.mapValue)return 1;if(o===Vi.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=le(l[d],c[d]);if(h!==0)return h;const f=rs(a[l[d]],u[c[d]]);if(f!==0)return f}return le(l.length,c.length)}(t.mapValue,e.mapValue);default:throw q()}}function PT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=es(t),r=es(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function La(t){return Hy(t)}function Hy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=es(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ts(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return U.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Hy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Hy(n.fields[o])}`;return i+"}"}(t.mapValue):q()}function ho(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qy(t){return!!t&&"integerValue"in t}function uc(t){return!!t&&"arrayValue"in t}function CT(t){return!!t&&"nullValue"in t}function kT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sh(t){return!!t&&"mapValue"in t}function yu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Fj(t){return"nullValue"in t?ih:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ho(ns.empty(),U.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:q()}function $j(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ho(ns.empty(),U.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Vi:q()}function xT(t,e){const n=rs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function NT(t,e){const n=rs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new jt(yu(this.value))}}function RC(t){const e=[];return bo(t.fields,(n,r)=>{const i=new ft([n]);if(sh(r)){const s=RC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new We(e,0,Q.min(),Q.min(),Q.min(),jt.empty(),0)}static newFoundDocument(e,n,r,i){return new We(e,1,n,Q.min(),r,i,0)}static newNoDocument(e,n){return new We(e,2,n,Q.min(),Q.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new We(e,3,n,Q.min(),Q.min(),jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){this.position=e,this.inclusive=n}}function DT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=U.comparator(U.fromName(o.referenceValue),n.key):r=rs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function OT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n="asc"){this.field=e,this.dir=n}}function Uj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{}class fe extends bC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Bj(e,n,r):n==="array-contains"?new Wj(e,r):n==="in"?new NC(e,r):n==="not-in"?new qj(e,r):n==="array-contains-any"?new Gj(e,r):new fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zj(e,r):new jj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rs(n,this.value)):n!==null&&co(this.value)===co(n)&&this.matchesComparison(rs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class be extends bC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new be(e,n)}matches(e){return Fa(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Fa(t){return t.op==="and"}function Yy(t){return t.op==="or"}function D0(t){return AC(t)&&Fa(t)}function AC(t){for(const e of t.filters)if(e instanceof be)return!1;return!0}function Xy(t){if(t instanceof fe)return t.field.canonicalString()+t.op.toString()+La(t.value);if(D0(t))return t.filters.map(e=>Xy(e)).join(",");{const e=t.filters.map(n=>Xy(n)).join(",");return`${t.op}(${e})`}}function PC(t,e){return t instanceof fe?function(r,i){return i instanceof fe&&r.op===i.op&&r.field.isEqual(i.field)&&zr(r.value,i.value)}(t,e):t instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&PC(o,i.filters[a]),!0):!1}(t,e):void q()}function CC(t,e){const n=t.filters.concat(e);return be.create(n,t.op)}function kC(t){return t instanceof fe?function(n){return`${n.field.canonicalString()} ${n.op} ${La(n.value)}`}(t):t instanceof be?function(n){return n.op.toString()+" {"+n.getFilters().map(kC).join(" ,")+"}"}(t):"Filter"}class Bj extends fe{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){const n=U.comparator(e.key,this.key);return this.matchesComparison(n)}}class zj extends fe{constructor(e,n){super(e,"in",n),this.keys=xC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jj extends fe{constructor(e,n){super(e,"not-in",n),this.keys=xC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}class Wj extends fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uc(n)&&lc(n.arrayValue,this.value)}}class NC extends fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}}class qj extends fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lc(this.value.arrayValue,n)}}class Gj extends fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function Jy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Kj(t,e,n,r,i,s,o)}function fo(t){const e=z(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>La(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>La(r)).join(",")),e.he=n}return e.he}function zc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Uj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OT(t.startAt,e.startAt)&&OT(t.endAt,e.endAt)}function nf(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function rf(t,e){return t.filters.filter(n=>n instanceof fe&&n.field.isEqual(e))}function VT(t,e,n){let r=ih,i=!0;for(const s of rf(t,e)){let o=ih,a=!0;switch(s.op){case"<":case"<=":o=Fj(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=ih}xT({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];xT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function MT(t,e,n){let r=Vi,i=!0;for(const s of rf(t,e)){let o=Vi,a=!0;switch(s.op){case">=":case">":o=$j(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Vi}NT({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];NT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function DC(t,e,n,r,i,s,o,a){return new mi(t,e,n,r,i,s,o,a)}function ll(t){return new mi(t)}function LT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function O0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Kp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function V0(t){return t.collectionGroup!==null}function Ys(t){const e=z(t);if(e.Pe===null){e.Pe=[];const n=Kp(e),r=O0(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Ea(n)),e.Pe.push(new Ea(ft.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Ea(ft.keyField(),s))}}}return e.Pe}function Cn(t){const e=z(t);if(!e.Ie)if(e.limitType==="F")e.Ie=Jy(e.path,e.collectionGroup,Ys(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ys(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ea(s.field,o))}const r=e.endAt?new is(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new is(e.startAt.position,e.startAt.inclusive):null;e.Ie=Jy(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function Zy(t,e){e.getFirstInequalityField(),Kp(t);const n=t.filters.concat([e]);return new mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sf(t,e,n){return new mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jc(t,e){return zc(Cn(t),Cn(e))&&t.limitType===e.limitType}function OC(t){return`${fo(Cn(t))}|lt:${t.limitType}`}function ev(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>kC(i)).join(", ")}]`),Bc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>La(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>La(i)).join(",")),`Target(${r})`}(Cn(t))}; limitType=${t.limitType})`}function Wc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):U.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ys(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=DT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ys(r),i)||r.endAt&&!function(o,a,l){const u=DT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ys(r),i))}(t,e)}function VC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MC(t){return(e,n)=>{let r=!1;for(const i of Ys(t)){const s=Hj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Hj(t,e,n){const r=t.field.isKeyField()?U.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?rs(l,u):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return EC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=new $e(U.comparator);function Sn(){return Qj}const LC=new $e(U.comparator);function Yl(...t){let e=LC;for(const n of t)e=e.insert(n.key,n);return e}function FC(t){let e=LC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Or(){return vu()}function $C(){return vu()}function vu(){return new ys(t=>t.toString(),(t,e)=>t.isEqual(e))}const Yj=new $e(U.comparator),Xj=new Ge(U.comparator);function ce(...t){let e=Xj;for(const n of t)e=e.add(n);return e}const Jj=new Ge(le);function M0(){return Jj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function BC(t){return{integerValue:""+t}}function zC(t,e){return yC(e)?BC(e):UC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this._=void 0}}function Zj(t,e,n){return t instanceof $a?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gp(s)&&(s=N0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof po?WC(t,e):t instanceof mo?qC(t,e):function(i,s){const o=jC(i,s),a=FT(o)+FT(i.Te);return Qy(o)&&Qy(i.Te)?BC(a):UC(i.serializer,a)}(t,e)}function eW(t,e,n){return t instanceof po?WC(t,e):t instanceof mo?qC(t,e):n}function jC(t,e){return t instanceof Ua?function(r){return Qy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class $a extends Hp{}class po extends Hp{constructor(e){super(),this.elements=e}}function WC(t,e){const n=GC(e);for(const r of t.elements)n.some(i=>zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class mo extends Hp{constructor(e){super(),this.elements=e}}function qC(t,e){let n=GC(e);for(const r of t.elements)n=n.filter(i=>!zr(i,r));return{arrayValue:{values:n}}}class Ua extends Hp{constructor(e,n){super(),this.serializer=e,this.Te=n}}function FT(t){return lt(t.integerValue||t.doubleValue)}function GC(t){return uc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.field=e,this.transform=n}}function tW(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof po&&i instanceof po||r instanceof mo&&i instanceof mo?Ma(r.elements,i.elements,zr):r instanceof Ua&&i instanceof Ua?zr(r.Te,i.Te):r instanceof $a&&i instanceof $a}(t.transform,e.transform)}class nW{constructor(e,n){this.version=e,this.transformResults=n}}class Ye{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ye}static exists(e){return new Ye(void 0,e)}static updateTime(e){return new Ye(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qp{}function KC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cl(t.key,Ye.none()):new ul(t.key,t.data,Ye.none());{const n=t.data,r=jt.empty();let i=new Ge(ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new gi(t.key,r,new Tn(i.toArray()),Ye.none())}}function rW(t,e,n){t instanceof ul?function(i,s,o){const a=i.value.clone(),l=UT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof gi?function(i,s,o){if(!oh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=UT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(HC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _u(t,e,n,r){return t instanceof ul?function(s,o,a,l){if(!oh(s.precondition,o))return a;const u=s.value.clone(),c=BT(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gi?function(s,o,a,l){if(!oh(s.precondition,o))return a;const u=BT(s.fieldTransforms,l,o),c=o.data;return c.setAll(HC(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return oh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=jC(r.transform,i||null);s!=null&&(n===null&&(n=jt.empty()),n.set(r.field,s))}return n||null}function $T(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ma(r,i,(s,o)=>tW(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ul extends Qp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gi extends Qp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function HC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function UT(t,e,n){const r=new Map;Y(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,eW(o,a,n[i]))}return r}function BT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Zj(s,o,e))}return r}class cl extends Qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L0 extends Qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rW(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$C();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=KC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Ma(this.mutations,e.mutations,(n,r)=>$T(n,r))&&Ma(this.baseMutations,e.baseMutations,(n,r)=>$T(n,r))}}class $0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Y(e.mutations.length===r.length);let i=function(){return Yj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new $0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,ge;function QC(t){switch(t){default:return q();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function YC(t){if(t===void 0)return ht("GRPC error has no .code"),A.UNKNOWN;switch(t){case vt.OK:return A.OK;case vt.CANCELLED:return A.CANCELLED;case vt.UNKNOWN:return A.UNKNOWN;case vt.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case vt.INTERNAL:return A.INTERNAL;case vt.UNAVAILABLE:return A.UNAVAILABLE;case vt.UNAUTHENTICATED:return A.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case vt.NOT_FOUND:return A.NOT_FOUND;case vt.ALREADY_EXISTS:return A.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return A.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case vt.ABORTED:return A.ABORTED;case vt.OUT_OF_RANGE:return A.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return A.UNIMPLEMENTED;case vt.DATA_LOSS:return A.DATA_LOSS;default:return q()}}(ge=vt||(vt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Cd}static getOrCreateInstance(){return Cd===null&&(Cd=new B0),Cd}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Cd=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW=new Ia([4294967295,4294967295],0);function zT(t){const e=XC().encode(t),n=new ej;return n.update(e),new Uint8Array(n.digest())}function jT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ia([n,r],0),new Ia([i,s],0)]}class z0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=Ia.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply(Ia.fromNumber(r)));return i.compare(oW)===1&&(i=new Ia([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=zT(e),[r,i]=jT(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);if(!this.Ve(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new z0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.de===0)return;const n=zT(e),[r,i]=jT(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);this.me(o)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gc(Q.min(),i,new $e(le),Sn(),ce())}}class Kc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kc(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class JC{constructor(e,n){this.targetId=e,this.pe=n}}class ZC{constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class WT{constructor(){this.ye=0,this.we=GT(),this.Se=bt.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=ce(),n=ce(),r=ce();return this.we.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q()}}),new Kc(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=GT()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class aW{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=Sn(),this.$e=qT(),this.Ue=new $e(le)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,s=e.pe.count,o=this.Xe(i);if(o){const a=o.target;if(nf(a))if(s===0){const l=new U(a.path);this.ze(i,l,We.newNoDocument(l,Q.min()))}else Y(s===1);else{const l=this.et(i);if(l!==s){const u=this.tt(e,l);if(u.status!==0){this.Ye(i);const c=u.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,c)}(n=B0.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(d,h,f,y){var v,w,m,p,g,_;const E={localCacheCount:f,existenceFilterCount:y.count},R=y.unchangedNames;return R&&(E.bloomFilter={applied:d===0,hashCount:(v=R==null?void 0:R.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(p=(m=(w=R==null?void 0:R.bits)===null||w===void 0?void 0:w.bitmap)===null||m===void 0?void 0:m.length)!==null&&p!==void 0?p:0,padding:(_=(g=R==null?void 0:R.bits)===null||g===void 0?void 0:g.padding)!==null&&_!==void 0?_:0},h&&(E.bloomFilter.mightContain=h)),E}(u.status,(r=u.nt)!==null&&r!==void 0?r:null,l,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=ts(s).toUint8Array()}catch(d){if(d instanceof TC)return yr("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw d}try{u=new z0(l,o,a)}catch(d){return yr(d instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",d),{status:1}}const c=d=>{const h=this.qe.rt();return u.mightContain(`projects/${h.projectId}/databases/${h.database}/documents/${d}`)};return u.de===0?{status:1}:{status:i===n-this.it(e.targetId,c)?0:2,nt:c}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{n(s.path.canonicalString())||(this.ze(e,s,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&nf(a.target)){const l=new U(a.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,We.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Me()),s.xe())}});let r=ce();this.$e.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ke.forEach((s,o)=>o.setReadTime(e));const i=new Gc(e,n,this.Ue,this.Ke,r);return this.Ke=Sn(),this.$e=qT(),this.Ue=new $e(le),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new WT,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ge(le),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new WT),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function qT(){return new $e(U.comparator)}function GT(){return new $e(U.comparator)}const lW=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),uW=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),cW=(()=>({and:"AND",or:"OR"}))();class dW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tv(t,e){return t.useProto3Json||Bc(e)?e:{value:e}}function Ba(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ek(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hW(t,e){return Ba(t,e.toTimestamp())}function pt(t){return Y(!!t),Q.fromTimestamp(function(n){const r=es(n);return new Xe(r.seconds,r.nanos)}(t))}function j0(t,e){return function(r){return new ve(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function tk(t){const e=ve.fromString(t);return Y(ck(e)),e}function cc(t,e){return j0(t.databaseId,e.path)}function $r(t,e){const n=tk(e);if(n.get(1)!==t.databaseId.projectId)throw new x(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new x(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(rk(n))}function nv(t,e){return j0(t.databaseId,e)}function nk(t){const e=tk(t);return e.length===4?ve.emptyPath():rk(e)}function dc(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rk(t){return Y(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function KT(t,e,n){return{name:cc(t,e),fields:n.value.mapValue.fields}}function ik(t,e,n){const r=$r(t,e.name),i=pt(e.updateTime),s=e.createTime?pt(e.createTime):Q.min(),o=new jt({mapValue:{fields:e.fields}}),a=We.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function fW(t,e){return"found"in e?function(r,i){Y(!!i.found),i.found.name,i.found.updateTime;const s=$r(r,i.found.name),o=pt(i.found.updateTime),a=i.found.createTime?pt(i.found.createTime):Q.min(),l=new jt({mapValue:{fields:i.found.fields}});return We.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){Y(!!i.missing),Y(!!i.readTime);const s=$r(r,i.missing),o=pt(i.readTime);return We.newNoDocument(s,o)}(t,e):q()}function pW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Y(c===void 0||typeof c=="string"),bt.fromBase64String(c||"")):(Y(c===void 0||c instanceof Uint8Array),bt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?A.UNKNOWN:YC(u.code);return new x(c,u.message||"")}(o);n=new ZC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=$r(t,r.document.name),s=pt(r.document.updateTime),o=r.document.createTime?pt(r.document.createTime):Q.min(),a=new jt({mapValue:{fields:r.document.fields}}),l=We.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ah(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=$r(t,r.document),s=r.readTime?pt(r.readTime):Q.min(),o=We.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ah([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=$r(t,r.document),s=r.removedTargetIds||[];n=new ah([],s,i,null)}else{if(!("filter"in e))return q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new sW(i,s),a=r.targetId;n=new JC(a,o)}}return n}function hc(t,e){let n;if(e instanceof ul)n={update:KT(t,e.key,e.value)};else if(e instanceof cl)n={delete:cc(t,e.key)};else if(e instanceof gi)n={update:KT(t,e.key,e.data),updateMask:wW(e.fieldMask)};else{if(!(e instanceof L0))return q();n={verify:cc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof $a)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof po)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ua)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:hW(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:q()}(t,e.precondition)),n}function rv(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Ye.updateTime(pt(s.updateTime)):s.exists!==void 0?Ye.exists(s.exists):Ye.none()}(e.currentDocument):Ye.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)Y(a.setToServerValue==="REQUEST_TIME"),l=new $a;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new po(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new mo(c)}else"increment"in a?l=new Ua(o,a.increment):q();const u=ft.fromServerFormat(a.fieldPath);return new qc(u,l)}(t,i)):[];if(e.update){e.update.name;const i=$r(t,e.update.name),s=new jt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new Tn(u.map(c=>ft.fromServerFormat(c)))}(e.updateMask);return new gi(i,s,o,n,r)}return new ul(i,s,n,r)}if(e.delete){const i=$r(t,e.delete);return new cl(i,n)}if(e.verify){const i=$r(t,e.verify);return new L0(i,n)}return q()}function mW(t,e){return t&&t.length>0?(Y(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?pt(i.updateTime):pt(s);return o.isEqual(Q.min())&&(o=pt(s)),new nW(o,i.transformResults||[])}(n,e))):[]}function sk(t,e){return{documents:[nv(t,e.path)]}}function ok(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=nv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=nv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return uk(be.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Wo(d.field),direction:yW(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=tv(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function ak(t){let e=nk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Y(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=lk(d);return h instanceof be&&D0(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(y){return new Ea(qo(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Bc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new is(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new is(f,h)}(n.endAt)),DC(e,i,o,s,a,"F",l,u)}function gW(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qo(n.unaryFilter.field);return fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qo(n.unaryFilter.field);return fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=qo(n.unaryFilter.field);return fe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qo(n.unaryFilter.field);return fe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(n){return fe.create(qo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return be.create(n.compositeFilter.filters.map(r=>lk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q()}}(n.compositeFilter.op))}(t):q()}function yW(t){return lW[t]}function vW(t){return uW[t]}function _W(t){return cW[t]}function Wo(t){return{fieldPath:t.canonicalString()}}function qo(t){return ft.fromServerFormat(t.fieldPath)}function uk(t){return t instanceof fe?function(n){if(n.op==="=="){if(kT(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NAN"}};if(CT(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kT(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NAN"}};if(CT(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(n.field),op:vW(n.op),value:n.value}}}(t):t instanceof be?function(n){const r=n.getFilters().map(i=>uk(i));return r.length===1?r[0]:{compositeFilter:{op:_W(n.op),filters:r}}}(t):q()}function wW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ck(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,i,s=Q.min(),o=Q.min(),a=bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.ct=e}}function IW(t,e){let n;if(e.document)n=ik(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=U.fromSegments(e.noDocument.path),i=yo(e.noDocument.readTime);n=We.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return q();{const r=U.fromSegments(e.unknownDocument.path),i=yo(e.unknownDocument.version);n=We.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Xe(i[0],i[1]);return Q.fromTimestamp(s)}(e.readTime)),n}function HT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:of(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:cc(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Ba(s,o.version.toTimestamp()),createTime:Ba(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:go(e.version)};else{if(!e.isUnknownDocument())return q();r.unknownDocument={path:n.path.toArray(),version:go(e.version)}}return r}function of(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function go(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yo(t){const e=new Xe(t.seconds,t.nanoseconds);return Q.fromTimestamp(e)}function ks(t,e){const n=(e.baseMutations||[]).map(s=>rv(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>rv(t.ct,s)),i=Xe.fromMillis(e.localWriteTimeMs);return new F0(e.batchId,i,n,r)}function Jl(t){const e=yo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?yo(t.lastLimboFreeSnapshotVersion):Q.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Y(s.documents.length===1),Cn(ll(nk(s.documents[0])))}(t.query):function(s){return Cn(ak(s))}(t.query),new Jr(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,bt.fromBase64String(t.resumeToken))}function hk(t,e){const n=go(e.snapshotVersion),r=go(e.lastLimboFreeSnapshotVersion);let i;i=nf(e.target)?sk(t.ct,e.target):ok(t.ct,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function W0(t){const e=ak({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sf(e,e.limit,"L"):e}function fg(t,e){return new U0(e.largestBatchId,rv(t.ct,e.overlayMutation))}function QT(t,e){const n=e.path.lastSegment();return[t,dn(e.path.popLast()),n]}function YT(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:go(r.readTime),documentKey:dn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{getBundleMetadata(e,n){return XT(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:yo(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return XT(e).put(function(i){return{bundleId:i.id,createTime:go(pt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return JT(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:W0(s.bundledQuery),readTime:yo(s.readTime)}}(r)})}saveNamedQuery(e,n){return JT(e).put(function(i){return{name:i.name,readTime:go(pt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function XT(t){return Mt(t,"bundles")}function JT(t){return Mt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Yp(e,r)}getOverlay(e,n){return Ol(e).get(QT(this.userId,n)).next(r=>r?fg(this.serializer,r):null)}getOverlays(e,n){const r=Or();return b.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new U0(n,o);i.push(this.ht(e,a))}),b.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(dn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Ol(e).J("collectionPathOverlayIndex",a))}),b.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Or(),s=dn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ol(e).G("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=fg(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Or();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ol(e).Z({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=fg(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}ht(e,n){return Ol(e).put(function(i,s,o){const[a,l,u]=QT(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:hc(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Ol(t){return Mt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),oc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ts(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?SC(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):q()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),U.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}xs.bt=new xs;function TW(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function ZT(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=TW(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class SW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.vt(r.value),r=n.next();this.Ct()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.vt(r);else if(r<2048)this.vt(960|r>>>6),this.vt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.vt(480|r>>>12),this.vt(128|63&r>>>6),this.vt(128|63&r);else{const i=n.codePointAt(0);this.vt(240|i>>>18),this.vt(128|63&i>>>12),this.vt(128|63&i>>>6),this.vt(128|63&i)}}this.Ct()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Bt(e){const n=this.Lt(e),r=ZT(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Lt(e),r=ZT(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}vt(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}Ct(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class RW{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class bW{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Vl{constructor(){this.Gt=new SW,this.zt=new RW(this.Gt),this.jt=new bW(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ns(this.indexId,this.documentKey,this.arrayValue,r)}}function Ti(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=e1(t.arrayValue,e.arrayValue),n!==0?n:(n=e1(t.directionalValue,e.directionalValue),n!==0?n:U.comparator(t.documentKey,e.documentKey)))}function e1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=r:this.Zt.push(r)}}en(e){Y(e.collectionGroup===this.collectionId);const n=Gy(e);if(n!==void 0&&!this.tn(n))return!1;const r=As(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt!==void 0){if(!i.has(this.Xt.field.canonicalString())){const a=r[s];if(!this.nn(this.Xt,a)||!this.rn(this.Yt[o++],a))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t){var e,n;if(Y(t instanceof fe||t instanceof be),t instanceof fe){if(t instanceof NC){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>fe.create(t.field,"==",s)))||[];return be.create(i,"or")}return t}const r=t.filters.map(i=>fk(i));return be.create(r,t.op)}function PW(t){if(t.getFilters().length===0)return[];const e=ov(fk(t));return Y(pk(e)),iv(e)||sv(e)?[e]:e.getFilters()}function iv(t){return t instanceof fe}function sv(t){return t instanceof be&&D0(t)}function pk(t){return iv(t)||sv(t)||function(n){if(n instanceof be&&Yy(n)){for(const r of n.getFilters())if(!iv(r)&&!sv(r))return!1;return!0}return!1}(t)}function ov(t){if(Y(t instanceof fe||t instanceof be),t instanceof fe)return t;if(t.filters.length===1)return ov(t.filters[0]);const e=t.filters.map(r=>ov(r));let n=be.create(e,t.op);return n=af(n),pk(n)?n:(Y(n instanceof be),Y(Fa(n)),Y(n.filters.length>1),n.filters.reduce((r,i)=>q0(r,i)))}function q0(t,e){let n;return Y(t instanceof fe||t instanceof be),Y(e instanceof fe||e instanceof be),n=t instanceof fe?e instanceof fe?function(i,s){return be.create([i,s],"and")}(t,e):t1(t,e):e instanceof fe?t1(e,t):function(i,s){if(Y(i.filters.length>0&&s.filters.length>0),Fa(i)&&Fa(s))return CC(i,s.getFilters());const o=Yy(i)?i:s,a=Yy(i)?s:i,l=o.filters.map(u=>q0(u,a));return be.create(l,"or")}(t,e),af(n)}function t1(t,e){if(Fa(e))return CC(e,t.getFilters());{const n=e.filters.map(r=>q0(t,r));return be.create(n,"or")}}function af(t){if(Y(t instanceof fe||t instanceof be),t instanceof fe)return t;const e=t.getFilters();if(e.length===1)return af(e[0]);if(AC(t))return t;const n=e.map(i=>af(i)),r=[];return n.forEach(i=>{i instanceof fe?r.push(i):i instanceof be&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:be.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(){this.sn=new G0}addToCollectionParentIndex(e,n){return this.sn.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Un.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Un.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class G0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ge(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Uint8Array(0);class kW{constructor(e,n){this.user=e,this.databaseId=n,this.on=new G0,this._n=new ys(r=>fo(r),(r,i)=>zc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const s={collectionId:r,parent:dn(i)};return n1(e).put(s)}return b.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[dC(n),""],!1,!0);return n1(e).G(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Dr(o.parent))}return r})}addFieldIndex(e,n){const r=xd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Ll(e);return s.next(a=>{o.put(YT(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=xd(e),i=Ll(e),s=Ml(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Ml(e);let i=!0;const s=new Map;return b.forEach(this.an(n),o=>this.un(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ce();const a=[];return b.forEach(s,(l,u)=>{D("IndexedDbIndexManager",`Using index ${function(g){return`id=${g.indexId}|cg=${g.collectionGroup}|f=${g.fields.map(_=>`${_.fieldPath}:${_.kind}`).join(",")}`}(l)} to execute ${fo(n)}`);const c=function(g,_){const E=Gy(_);if(E===void 0)return null;for(const R of rf(g,E.fieldPath))switch(R.op){case"array-contains-any":return R.value.arrayValue.values||[];case"array-contains":return[R.value]}return null}(u,l),d=function(g,_){const E=new Map;for(const R of As(_))for(const S of rf(g,R.fieldPath))switch(S.op){case"==":case"in":E.set(R.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return E.set(R.fieldPath.canonicalString(),S.value),Array.from(E.values())}return null}(u,l),h=function(g,_){const E=[];let R=!0;for(const S of As(_)){const P=S.kind===0?VT(g,S.fieldPath,g.startAt):MT(g,S.fieldPath,g.startAt);E.push(P.value),R&&(R=P.inclusive)}return new is(E,R)}(u,l),f=function(g,_){const E=[];let R=!0;for(const S of As(_)){const P=S.kind===0?MT(g,S.fieldPath,g.endAt):VT(g,S.fieldPath,g.endAt);E.push(P.value),R&&(R=P.inclusive)}return new is(E,R)}(u,l),y=this.cn(l,u,h),v=this.cn(l,u,f),w=this.ln(l,u,d),m=this.hn(l.indexId,c,y,h.inclusive,v,f.inclusive,w);return b.forEach(m,p=>r.H(p,n.limit).next(g=>{g.forEach(_=>{const E=U.fromSegments(_.documentKey);o.has(E)||(o=o.add(E),a.push(E))})}))}).next(()=>a)}return b.resolve(null)})}an(e){let n=this._n.get(e);return n||(e.filters.length===0?n=[e]:n=PW(be.create(e.filters,"and")).map(r=>Jy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this._n.set(e,n),n)}hn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.Pn(n[d/u]):kd,f=this.In(e,h,r[d%u],i),y=this.Tn(e,h,s[d%u],o),v=a.map(w=>this.In(e,h,w,!0));c.push(...this.createRange(f,y,v))}return c}In(e,n,r,i){const s=new Ns(e,U.empty(),n,r);return i?s:s.Jt()}Tn(e,n,r,i){const s=new Ns(e,U.empty(),n,r);return i?s.Jt():s}un(e,n){const r=new AW(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.an(n);return b.forEach(i,s=>this.un(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Ge(ft.comparator),c=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}En(e,n){const r=new Vl;for(const i of As(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);xs.bt.Pt(s,o)}return r.Wt()}Pn(e){const n=new Vl;return xs.bt.Pt(e,n.Ht(0)),n.Wt()}dn(e,n){const r=new Vl;return xs.bt.Pt(ho(this.databaseId,n),r.Ht(function(s){const o=As(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}ln(e,n,r){if(r===null)return[];let i=[];i.push(new Vl);let s=0;for(const o of As(e)){const a=r[s++];for(const l of i)if(this.An(n,o.fieldPath)&&uc(a))i=this.Rn(i,o,a);else{const u=l.Ht(o.kind);xs.bt.Pt(a,u)}}return this.Vn(i)}cn(e,n,r){return this.ln(e,n,r.position)}Vn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}Rn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Vl;l.seed(a.Wt()),xs.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}An(e,n){return!!e.filters.find(r=>r instanceof fe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=xd(e),i=Ll(e);return(n?r.G("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.G()).next(s=>{const o=[];return b.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,d){const h=d?new tf(d.sequenceNumber,new Un(yo(d.readTime),new U(Dr(d.documentKey)),d.largestBatchId)):tf.empty(),f=c.fields.map(([y,v])=>new hj(ft.fromServerFormat(y),v));return new hC(c.indexId,c.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:le(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=xd(e),s=Ll(e);return this.mn(e).next(o=>i.G("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>b.forEach(a,l=>s.put(YT(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return b.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?b.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),b.forEach(a,l=>this.fn(e,i,l).next(u=>{const c=this.gn(s,l);return u.isEqual(c)?b.resolve():this.pn(e,s,l,u,c)}))))})}yn(e,n,r,i){return Ml(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.dn(r,n.key),documentKey:n.key.path.toArray()})}wn(e,n,r,i){return Ml(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.dn(r,n.key),n.key.path.toArray()])}fn(e,n,r){const i=Ml(e);let s=new Ge(Ti);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.dn(r,n)])},(o,a)=>{s=s.add(new Ns(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}gn(e,n){let r=new Ge(Ti);const i=this.En(n,e);if(i==null)return r;const s=Gy(n);if(s!=null){const o=e.data.field(s.fieldPath);if(uc(o))for(const a of o.arrayValue.values||[])r=r.add(new Ns(n.indexId,e.key,this.Pn(a),i))}else r=r.add(new Ns(n.indexId,e.key,kd,i));return r}pn(e,n,r,i,s){D("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,h){const f=l.getIterator(),y=u.getIterator();let v=Uo(f),w=Uo(y);for(;v||w;){let m=!1,p=!1;if(v&&w){const g=c(v,w);g<0?p=!0:g>0&&(m=!0)}else v!=null?p=!0:m=!0;m?(d(w),w=Uo(y)):p?(h(v),v=Uo(f)):(v=Uo(f),w=Uo(y))}}(i,s,Ti,a=>{o.push(this.yn(e,n,r,a))},a=>{o.push(this.wn(e,n,r,a))}),b.waitFor(o)}mn(e){let n=1;return Ll(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ti(o,a)).filter((o,a,l)=>!a||Ti(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ti(o,e),l=Ti(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Sn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,kd,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,kd,[]];s.push(IDBKeyRange.bound(a,l))}return s}Sn(e,n){return Ti(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(r1)}getMinOffset(e,n){return b.mapArray(this.an(n),r=>this.un(e,r).next(i=>i||q())).next(r1)}}function n1(t){return Mt(t,"collectionParents")}function Ml(t){return Mt(t,"indexEntries")}function xd(t){return Mt(t,"indexConfiguration")}function Ll(t){return Mt(t,"indexState")}function r1(t){Y(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;k0(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Un(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _n{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{Y(a===1)}));const u=[];for(const c of n.mutations){const d=vC(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return b.waitFor(s).next(()=>u)}function lf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw q();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Xp{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}static lt(e,n,r,i){Y(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Xp(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Si(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Go(e),o=Si(e);return o.add({}).next(a=>{Y(typeof a=="number");const l=new F0(a,n,r,i),u=function(f,y,v){const w=v.baseMutations.map(p=>hc(f.ct,p)),m=v.mutations.map(p=>hc(f.ct,p));return{userId:y,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:w,mutations:m}}(this.serializer,this.userId,l),c=[];let d=new Ge((h,f)=>le(h.canonicalString(),f.canonicalString()));for(const h of i){const f=vC(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,vj))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.bn[a]=l.keys()}),b.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Si(e).get(n).next(r=>r?(Y(r.userId===this.userId),ks(this.serializer,r)):null)}Dn(e,n){return this.bn[n]?b.resolve(this.bn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.bn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Si(e).Z({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(Y(a.batchId>=r),s=ks(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Si(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Si(e).G("userMutationsIndex",n).next(r=>r.map(i=>ks(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=rh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Go(e).Z({range:i},(o,a,l)=>{const[u,c,d]=o,h=Dr(c);if(u===this.userId&&n.path.isEqual(h))return Si(e).get(d).next(f=>{if(!f)throw q();Y(f.userId===this.userId),s.push(ks(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(le);const i=[];return n.forEach(s=>{const o=rh(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Go(e).Z({range:a},(u,c,d)=>{const[h,f,y]=u,v=Dr(f);h===this.userId&&s.path.isEqual(v)?r=r.add(y):d.done()});i.push(l)}),b.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=rh(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ge(le);return Go(e).Z({range:o},(l,u,c)=>{const[d,h,f]=l,y=Dr(h);d===this.userId&&r.isPrefixOf(y)?y.length===i&&(a=a.add(f)):c.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Si(e).get(s).next(o=>{if(o===null)throw q();Y(o.userId===this.userId),r.push(ks(this.serializer,o))}))}),b.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return mk(e.ue,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),b.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return b.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Go(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Dr(s[1]);i.push(l)}else a.done()}).next(()=>{Y(i.length===0)})})}containsKey(e,n){return gk(e,this.userId,n)}Fn(e){return yk(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function gk(t,e,n){const r=rh(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Go(t).Z({range:s,Y:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Si(t){return Mt(t,"mutations")}function Go(t){return Mt(t,"documentMutations")}function yk(t){return Mt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new vo(0)}static On(){return new vo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Nn(e).next(n=>{const r=new vo(n.highestTargetId);return n.highestTargetId=r.next(),this.Bn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Nn(e).next(n=>Q.fromTimestamp(new Xe(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Nn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Nn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Bn(e,i)))}addTargetData(e,n){return this.Ln(e,n).next(()=>this.Nn(e).next(r=>(r.targetCount+=1,this.kn(n,r),this.Bn(e,r))))}updateTargetData(e,n){return this.Ln(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Bo(e).delete(n.targetId)).next(()=>this.Nn(e)).next(r=>(Y(r.targetCount>0),r.targetCount-=1,this.Bn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Bo(e).Z((o,a)=>{const l=Jl(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>b.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Bo(e).Z((r,i)=>{const s=Jl(i);n(s)})}Nn(e){return s1(e).get("targetGlobalKey").next(n=>(Y(n!==null),n))}Bn(e,n){return s1(e).put("targetGlobalKey",n)}Ln(e,n){return Bo(e).put(hk(this.serializer,n))}kn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Nn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=fo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Bo(e).Z({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Jl(a);zc(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=ki(e);return n.forEach(o=>{const a=dn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),b.waitFor(i)}removeMatchingKeys(e,n,r){const i=ki(e);return b.forEach(n,s=>{const o=dn(s.path);return b.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=ki(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ki(e);let s=ce();return i.Z({range:r,Y:!0},(o,a,l)=>{const u=Dr(o[1]),c=new U(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=dn(n.path),i=IDBKeyRange.bound([r],[dC(r)],!1,!0);let s=0;return ki(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ut(e,n){return Bo(e).get(n).next(r=>r?Jl(r):null)}}function Bo(t){return Mt(t,"targets")}function s1(t){return Mt(t,"targetGlobal")}function ki(t){return Mt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1([t,e],[n,r]){const i=le(t,n);return i===0?le(e,r):i}class NW{constructor(e){this.qn=e,this.buffer=new Ge(o1),this.Qn=0}Kn(){return++this.Qn}$n(e){const n=[e,this.Kn()];if(this.buffer.size<this.qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();o1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Un=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Wn(6e4)}stop(){this.Un&&(this.Un.cancel(),this.Un=null)}get started(){return this.Un!==null}Wn(e){D("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Un=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Un=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gs(n)?D("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ms(n)}await this.Wn(3e5)})}}class OW{constructor(e,n){this.Gn=e,this.params=n}calculateTargetCount(e,n){return this.Gn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return b.resolve(En.ae);const r=new NW(n);return this.Gn.forEachTarget(e,i=>r.$n(i.sequenceNumber)).next(()=>this.Gn.jn(e,i=>r.$n(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Gn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Gn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(D("LruGarbageCollector","Garbage collection skipped; disabled"),b.resolve(i1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i1):this.Hn(e,n))}getCacheSize(e){return this.Gn.getCacheSize(e)}Hn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(D("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),qy()<=ye.DEBUG&&D("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),b.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function VW(t,e){return new OW(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e,n){this.db=e,this.garbageCollector=VW(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Jn(e){let n=0;return this.jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}jn(e,n){return this.Yn(e,(r,i)=>n(i))}addReference(e,n,r){return Nd(e,r)}removeReference(e,n,r){return Nd(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Nd(e,n)}Zn(e,n){return function(i,s){let o=!1;return yk(i).X(a=>gk(i,a,s).next(l=>(l&&(o=!0),b.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Yn(e,(o,a)=>{if(a<=n){const l=this.Zn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Q.min()),ki(e).delete(function(d){return[0,dn(d.path)]}(o))))});i.push(l)}}).next(()=>b.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Nd(e,n)}Yn(e,n){const r=ki(e);let i,s=En.ae;return r.Z({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==En.ae&&n(new U(Dr(i)),s),s=u,i=l):s=En.ae}).next(()=>{s!==En.ae&&n(new U(Dr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nd(t,e){return ki(t).put(function(r,i){return{targetId:0,path:dn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.changes=new ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Is(e).put(r)}removeEntry(e,n,r){return Is(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],of(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Xn(e,r)))}getEntry(e,n){let r=We.newInvalidDocument(n);return Is(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fl(n))},(i,s)=>{r=this.er(n,s)}).next(()=>r)}tr(e,n){let r={size:0,document:We.newInvalidDocument(n)};return Is(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fl(n))},(i,s)=>{r={document:this.er(n,s),size:lf(s)}}).next(()=>r)}getEntries(e,n){let r=Sn();return this.nr(e,n,(i,s)=>{const o=this.er(i,s);r=r.insert(i,o)}).next(()=>r)}rr(e,n){let r=Sn(),i=new $e(U.comparator);return this.nr(e,n,(s,o)=>{const a=this.er(s,o);r=r.insert(s,a),i=i.insert(s,lf(o))}).next(()=>({documents:r,ir:i}))}nr(e,n,r){if(n.isEmpty())return b.resolve();let i=new Ge(u1);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Fl(i.first()),Fl(i.last())),o=i.getIterator();let a=o.getNext();return Is(e).Z({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=U.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&u1(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.W(Fl(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),of(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Is(e).G(IDBKeyRange.bound(o,a,!0)).next(l=>{let u=Sn();for(const c of l){const d=this.er(U.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);d.isFoundDocument()&&(Wc(n,d)||i.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Sn();const o=l1(n,r),a=l1(n,Un.max());return Is(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.er(U.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new FW(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return a1(e).get("remoteDocumentGlobalKey").next(n=>(Y(!!n),n))}Xn(e,n){return a1(e).put("remoteDocumentGlobalKey",n)}er(e,n){if(n){const r=IW(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Q.min())))return r}return We.newInvalidDocument(e)}}function _k(t){return new LW(t)}class FW extends vk{constructor(e,n){super(),this.sr=e,this.trackRemovals=n,this._r=new ys(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ge((s,o)=>le(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this._r.get(s);if(n.push(this.sr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=HT(this.sr.serializer,o);i=i.add(s.path.popLast());const u=lf(l);r+=u-a.size,n.push(this.sr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=HT(this.sr.serializer,o.convertToNoDocument(Q.min()));n.push(this.sr.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.sr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.sr.updateMetadata(e,r)),b.waitFor(n)}getFromCache(e,n){return this.sr.tr(e,n).next(r=>(this._r.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.sr.rr(e,n).next(({documents:r,ir:i})=>(i.forEach((s,o)=>{this._r.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function a1(t){return Mt(t,"remoteDocumentGlobal")}function Is(t){return Mt(t,"remoteDocumentsV14")}function Fl(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function l1(t,e){const n=e.documentKey.path.toArray();return[t,of(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function u1(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=le(n[s],r[s]),i)return i;return i=le(n.length,r.length),i||(i=le(n[n.length-2],r[r.length-2]),i||le(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_u(r.mutation,i,Tn.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=Or();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Yl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Sn();const o=vu(),a=function(){return vu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof gi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),_u(c.mutation,u,c.mutation.getFieldMask(),Xe.now())):o.set(u.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new $W(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vu();let i=new $e((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Tn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=$C();c.forEach(h=>{if(!s.has(h)){const f=KC(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return U.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):V0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):b.resolve(Or());let a=-1,l=s;return o.next(u=>b.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?b.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ce())).next(c=>({batchId:a,changes:FC(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=Yl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Yl();return this.indexManager.getCollectionParents(e,i).next(o=>b.forEach(o,a=>{const l=function(c,d){return new mi(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,We.newInvalidDocument(u)))});let o=Yl();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&_u(u.mutation,l,Tn.empty(),Xe.now()),Wc(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return b.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pt(i.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:W0(i.bundledQuery),readTime:pt(i.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(){this.overlays=new $e(U.comparator),this.cr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Or();return b.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.cr.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=Or(),s=n.length+1,o=new U(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $e((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Or(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Or(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return b.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new U0(n,r));let s=this.cr.get(n);s===void 0&&(s=ce(),this.cr.set(n,s)),this.cr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.lr=new Ge(Pt.hr),this.Pr=new Ge(Pt.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new Pt(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new U(new ve([])),r=new Pt(n,e),i=new Pt(n,e+1),s=[];return this.Pr.forEachInRange([r,i],o=>{this.Er(o),s.push(o.key)}),s}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new U(new ve([])),r=new Pt(n,e),i=new Pt(n,e+1);let s=ce();return this.Pr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Pt(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return U.comparator(e.key,n.key)||le(e.mr,n.mr)}static Ir(e,n){return le(e.mr,n.mr)||U.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Ge(Pt.hr)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new F0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.pr=this.pr.add(new Pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,n){return b.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),s=[];return this.pr.forEachInRange([r,i],o=>{const a=this.yr(o.mr);s.push(a)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(le);return n.forEach(i=>{const s=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([s,o],a=>{r=r.add(a.mr)})}),b.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;U.isDocumentKey(s)||(s=s.child(""));const o=new Pt(new U(s),0);let a=new Ge(le);return this.pr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.mr)),!0)},o),b.resolve(this.Sr(a))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Y(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return b.forEach(n.mutations,i=>{const s=new Pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new Pt(n,0),i=this.pr.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e){this.Dr=e,this.docs=function(){return new $e(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():We.newInvalidDocument(n))}getEntries(e,n){let r=Sn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():We.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Sn();const o=n.path,a=new U(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||k0(pC(c),r)<=0||(i.has(c.key)||Wc(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return b.resolve(s)}getAllFromCollectionGroup(e,n,r,i){q()}vr(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WW(this)}getSize(e){return b.resolve(this.size)}}class WW extends vk{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e){this.persistence=e,this.Cr=new ys(n=>fo(n),zc),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new K0,this.targetCount=0,this.Or=vo.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),b.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.Ln(n),b.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n){this.Nr={},this.overlays={},this.Br=new En(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new qW(this),this.indexManager=new CW,this.remoteDocumentCache=function(i){return new jW(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new dk(n),this.Qr=new UW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new zW(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new GW(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(s=>this.referenceDelegate.$r(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ur(e,n){return b.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class GW extends gC{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Wr=new K0,this.Gr=null}static zr(e){return new Jp(e)}get jr(){if(this.Gr)return this.Gr;throw q()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),b.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.jr,r=>{const i=U.fromPath(r);return this.Hr(e,i).next(s=>{s||n.removeEntry(i,Q.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return b.or([()=>b.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.serializer=e}B(e,n,r,i){const s=new qp("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RT,{unique:!0}),l.createObjectStore("documentMutations")}(e),c1(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=b.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),c1(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Q.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").G().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RT,{unique:!0});const d=u.store("mutations"),h=c.map(f=>d.put(f));return b.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Yr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Zr(s)))),r<7&&i>=7&&(o=o.next(()=>this.Xr(s))),r<8&&i>=8&&(o=o.next(()=>this.ei(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ti(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:kj});u.createIndex("collectionPathOverlayIndex",xj,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Nj,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:_j});u.createIndex("documentKeyIndex",wj),u.createIndex("collectionGroupIndex",Ij)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ri(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:bj}).createIndex("sequenceNumberIndex",Aj,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Pj}).createIndex("documentKeyIndex",Cj,{unique:!1})}(e))),o}Zr(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=lf(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Yr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next(i=>b.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",o).next(a=>b.forEach(a,l=>{Y(l.userId===s.userId);const u=ks(this.serializer,l);return mk(e,s.userId,u).next(()=>{})}))}))}Xr(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const l=new ve(o),u=function(d){return[0,dn(d)]}(l);s.push(n.get(u).next(c=>c?b.resolve():(d=>n.put({targetId:0,path:dn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>b.waitFor(s))})}ei(e,n){e.createObjectStore("collectionParents",{keyPath:Rj});const r=n.store("collectionParents"),i=new G0,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:dn(l)})}};return n.store("remoteDocuments").Z({Y:!0},(o,a)=>{const l=new ve(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,a,l],u)=>{const c=Dr(a);return s(c.popLast())}))}ti(e){const n=e.store("targets");return n.Z((r,i)=>{const s=Jl(i),o=hk(this.serializer,s);return n.put(o)})}ni(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new U(ve.fromString(d.document.name).popFirst(5)):d.noDocument?U.fromSegments(d.noDocument.path):d.unknownDocument?U.fromSegments(d.unknownDocument.path):q()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>b.waitFor(i))}ri(e,n){const r=n.store("mutations"),i=_k(this.serializer),s=new Ik(Jp.zr,this.serializer.ct);return r.G().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:ce();ks(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),b.forEach(a,(l,u)=>{const c=new kt(u),d=Yp.lt(this.serializer,c),h=s.getIndexManager(c),f=Xp.lt(c,this.serializer,h,s.referenceDelegate);return new wk(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new Ky(n,En.ae),l).next()})})}}function c1(t){t.createObjectStore("targetDocuments",{keyPath:Tj}).createIndex("documentTargetsIndex",Sj,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ej,{unique:!0}),t.createObjectStore("targetGlobal")}const pg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class H0{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=s,this.window=o,this.document=a,this.si=u,this.oi=c,this._i=d,this.Br=null,this.Lr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ai=null,this.inForeground=!1,this.ui=null,this.ci=null,this.li=Number.NEGATIVE_INFINITY,this.hi=h=>Promise.resolve(),!H0.v())throw new x(A.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MW(this,i),this.Pi=n+"main",this.serializer=new dk(l),this.Ii=new dr(this.Pi,this._i,new KW(this.serializer)),this.kr=new xW(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_k(this.serializer),this.Qr=new EW,this.window&&this.window.localStorage?this.Ti=this.window.localStorage:(this.Ti=null,c===!1&&ht("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ei().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new x(A.FAILED_PRECONDITION,pg);return this.di(),this.Ai(),this.Ri(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.kr.getHighestSequenceNumber(e))}).then(e=>{this.Br=new En(e,this.si)}).then(()=>{this.Lr=!0}).catch(e=>(this.Ii&&this.Ii.close(),Promise.reject(e)))}Vi(e){return this.hi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ii.k(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.Ei()}))}Ei(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Dd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.mi(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.hi(!1)))})}).next(()=>this.fi(e)).next(n=>this.isPrimary&&!n?this.gi(e).next(()=>!1):!!n&&this.pi(e).next(()=>!0))).catch(e=>{if(gs(e))return D("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return D("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.hi(e)),this.isPrimary=e})}mi(e){return $l(e).get("owner").next(n=>b.resolve(this.yi(n)))}wi(e){return Dd(e).delete(this.clientId)}async Si(){if(this.isPrimary&&!this.bi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Mt(n,"clientMetadata");return r.G().next(i=>{const s=this.Di(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return b.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ti)for(const n of e)this.Ti.removeItem(this.vi(n.clientId))}}Ri(){this.ci=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ei().then(()=>this.Si()).then(()=>this.Ri()))}yi(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.oi?b.resolve(!0):$l(e).get("owner").next(n=>{if(n!==null&&this.bi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.yi(n)&&this.networkEnabled)return!0;if(!this.yi(n)){if(!n.allowTabSynchronization)throw new x(A.FAILED_PRECONDITION,pg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dd(e).G().next(r=>this.Di(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&D("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Lr=!1,this.Fi(),this.ci&&(this.ci.cancel(),this.ci=null),this.Mi(),this.xi(),await this.Ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Ky(e,En.ae);return this.gi(n).next(()=>this.wi(n))}),this.Ii.close(),this.Oi()}Di(e,n){return e.filter(r=>this.bi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}Ni(){return this.runTransaction("getActiveClients","readonly",e=>Dd(e).G().next(n=>this.Di(n,18e5).map(r=>r.clientId)))}get started(){return this.Lr}getMutationQueue(e,n){return Xp.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new kW(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Yp.lt(this.serializer,e)}getBundleCache(){return this.Qr}runTransaction(e,n,r){D("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?Oj:l===14?IC:l===13?wC:l===12?Dj:l===11?_C:void q()}(this._i);let o;return this.Ii.runTransaction(e,i,s,a=>(o=new Ky(a,this.Br?this.Br.next():En.ae),n==="readwrite-primary"?this.mi(o).next(l=>!!l||this.fi(o)).next(l=>{if(!l)throw ht(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.hi(!1)),new x(A.FAILED_PRECONDITION,mC);return r(o)}).next(l=>this.pi(o).next(()=>l)):this.Bi(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Bi(e){return $l(e).get("owner").next(n=>{if(n!==null&&this.bi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.yi(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new x(A.FAILED_PRECONDITION,pg)})}pi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $l(e).put("owner",n)}static v(){return dr.v()}gi(e){const n=$l(e);return n.get("owner").next(r=>this.yi(r)?(D("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):b.resolve())}bi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ht(`Detected an update time that is in the future: ${e} > ${r}`),!1))}di(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ui=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ei()))},this.document.addEventListener("visibilitychange",this.ui),this.inForeground=this.document.visibilityState==="visible")}Mi(){this.ui&&(this.document.removeEventListener("visibilitychange",this.ui),this.ui=null)}Ai(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ai=()=>{this.Fi();const n=/(?:Version|Mobile)\/1[456]/;PU()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ai))}xi(){this.ai&&(this.window.removeEventListener("pagehide",this.ai),this.ai=null)}Ci(e){var n;try{const r=((n=this.Ti)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return D("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ht("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Fi(){if(this.Ti)try{this.Ti.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ht("Failed to set zombie client id.",e)}}Oi(){if(this.Ti)try{this.Ti.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $l(t){return Mt(t,"owner")}function Dd(t){return Mt(t,"clientMetadata")}function Q0(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Y0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(s=>s||this.Ui(e,n,i,r)).next(s=>s||this.Wi(e,n))}$i(e,n){if(LT(n))return b.resolve(null);let r=Cn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sf(n,null,"F"),r=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.Ki.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Gi(n,a);return this.zi(n,u,o,l.readTime)?this.$i(e,sf(n,null,"F")):this.ji(e,u,n,l)}))})))}Ui(e,n,r,i){return LT(n)||i.isEqual(Q.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(s=>{const o=this.Gi(n,s);return this.zi(n,o,r,i)?this.Wi(e,n):(qy()<=ye.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ev(n)),this.ji(e,o,n,fC(i,-1)))})}Gi(e,n){let r=new Ge(MC(e));return n.forEach((i,s)=>{Wc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Wi(e,n){return qy()<=ye.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",ev(n)),this.Ki.getDocumentsMatchingQuery(e,n,Un.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new $e(le),this.Yi=new ys(s=>fo(s),zc),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wk(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Tk(t,e,n,r){return new HW(t,e,n,r)}async function Sk(t,e){const n=z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ce();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ts:u,removedBatchIds:o,addedBatchIds:a}))})})}function QW(t,e){const n=z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=b.resolve();return h.forEach(y=>{f=f.next(()=>c.getEntry(l,y)).next(v=>{const w=u.docVersions.get(y);Y(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Rk(t){const e=z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function YW(t,e){const n=z(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.kr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.kr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(bt.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(v,w,m){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.kr.updateTargetData(s,f))});let l=Sn(),u=ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(bk(s,o,e.documentUpdates).next(c=>{l=c.ns,u=c.rs})),!r.isEqual(Q.min())){const c=n.kr.getLastRemoteSnapshotVersion(s).next(d=>n.kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return b.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function bk(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Sn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ns:o,rs:i}})}function XW(t,e){const n=z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function za(t,e){const n=z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):n.kr.allocateTargetId(r).next(o=>(i=new Jr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function ja(t,e,n){const r=z(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!gs(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function uf(t,e,n){const r=z(t);let i=Q.min(),s=ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,u,c){const d=z(l),h=d.Yi.get(c);return h!==void 0?b.resolve(d.Ji.get(h)):d.kr.getTargetData(u,c)}(r,o,Cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:Q.min(),n?s:ce())).next(a=>(Ck(r,VC(e),a),{documents:a,ss:s})))}function Ak(t,e){const n=z(t),r=z(n.kr),i=n.Ji.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ut(s,e).next(o=>o?o.target:null))}function Pk(t,e){const n=z(t),r=n.Zi.get(e)||Q.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Xi.getAllFromCollectionGroup(i,e,fC(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Ck(n,e,i),i))}function Ck(t,e,n){let r=t.Zi.get(e)||Q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Zi.set(e,r)}async function JW(t,e,n,r){const i=z(t);let s=ce(),o=Sn();for(const u of n){const c=e.os(u.metadata.name);u.document&&(s=s.add(c));const d=e._s(u);d.setReadTime(e.us(u.metadata.readTime)),o=o.insert(c,d)}const a=i.Xi.newChangeBuffer({trackRemovals:!0}),l=await za(i,function(c){return Cn(ll(ve.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>bk(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.kr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.kr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.ns,c.rs)).next(()=>c.ns)))}async function ZW(t,e,n=ce()){const r=await za(t,Cn(W0(e.bundledQuery))),i=z(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=pt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qr.saveNamedQuery(s,e);const a=r.withResumeToken(bt.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(a.targetId,a),i.kr.updateTargetData(s,a).next(()=>i.kr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.kr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Qr.saveNamedQuery(s,e))})}function d1(t,e){return`firestore_clients_${t}_${e}`}function h1(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function mg(t,e){return`firestore_targets_${t}_${e}`}class cf{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static cs(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new x(i.error.code,i.error.message))),o?new cf(e,n,i.state,s):(ht("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ls(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wu{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static cs(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new x(r.error.code,r.error.message))),s?new wu(e,r.state,i):(ht("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ls(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class df{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static cs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=M0();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=yC(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new df(e,s):(ht("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class X0{constructor(e,n){this.clientId=e,this.onlineState=n}static cs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new X0(n.clientId,n.onlineState):(ht("SharedClientState",`Failed to parse online state: ${e}`),null)}}class av{constructor(){this.activeTargetIds=M0()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gg{constructor(e,n,r,i,s){this.window=e,this.ii=n,this.persistenceKey=r,this.Is=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ts=this.Es.bind(this),this.ds=new $e(le),this.started=!1,this.As=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Rs=d1(this.persistenceKey,this.Is),this.Vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ds=this.ds.insert(this.Is,new av),this.fs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.gs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.ps=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.ys=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.ws=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ts)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ni();for(const r of e){if(r===this.Is)continue;const i=this.getItem(d1(this.persistenceKey,r));if(i){const s=df.cs(r,i);s&&(this.ds=this.ds.insert(s.clientId,s))}}this.Ss();const n=this.storage.getItem(this.ys);if(n){const r=this.bs(n);r&&this.Ds(r)}for(const r of this.As)this.Es(r);this.As=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.vs(this.ds)}isActiveQueryTarget(e){let n=!1;return this.ds.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Cs(e,"pending")}updateMutationState(e,n,r){this.Cs(e,n,r),this.Fs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(mg(this.persistenceKey,e));if(r){const i=wu.cs(e,r);i&&(n=i.state)}}return this.Ms.hs(e),this.Ss(),n}removeLocalQueryTarget(e){this.Ms.Ps(e),this.Ss()}isLocalQueryTarget(e){return this.Ms.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mg(this.persistenceKey,e))}updateQueryState(e,n,r){this.xs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Fs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Os(e)}notifyBundleLoaded(e){this.Ns(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ts),this.removeItem(this.Rs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return D("SharedClientState","READ",e,n),n}setItem(e,n){D("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){D("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Es(e){const n=e;if(n.storageArea===this.storage){if(D("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Rs)return void ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.fs.test(n.key)){if(n.newValue==null){const r=this.Bs(n.key);return this.Ls(r,null)}{const r=this.ks(n.key,n.newValue);if(r)return this.Ls(r.clientId,r)}}else if(this.gs.test(n.key)){if(n.newValue!==null){const r=this.qs(n.key,n.newValue);if(r)return this.Qs(r)}}else if(this.ps.test(n.key)){if(n.newValue!==null){const r=this.Ks(n.key,n.newValue);if(r)return this.$s(r)}}else if(n.key===this.ys){if(n.newValue!==null){const r=this.bs(n.newValue);if(r)return this.Ds(r)}}else if(n.key===this.Vs){const r=function(s){let o=En.ae;if(s!=null)try{const a=JSON.parse(s);Y(typeof a=="number"),o=a}catch(a){ht("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==En.ae&&this.sequenceNumberHandler(r)}else if(n.key===this.ws){const r=this.Us(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Ws(i)))}}}else this.As.push(n)})}}get Ms(){return this.ds.get(this.Is)}Ss(){this.setItem(this.Rs,this.Ms.ls())}Cs(e,n,r){const i=new cf(this.currentUser,e,n,r),s=h1(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ls())}Fs(e){const n=h1(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Os(e){const n={clientId:this.Is,onlineState:e};this.storage.setItem(this.ys,JSON.stringify(n))}xs(e,n,r){const i=mg(this.persistenceKey,e),s=new wu(e,n,r);this.setItem(i,s.ls())}Ns(e){const n=JSON.stringify(Array.from(e));this.setItem(this.ws,n)}Bs(e){const n=this.fs.exec(e);return n?n[1]:null}ks(e,n){const r=this.Bs(e);return df.cs(r,n)}qs(e,n){const r=this.gs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return cf.cs(new kt(s),i,n)}Ks(e,n){const r=this.ps.exec(e),i=Number(r[1]);return wu.cs(i,n)}bs(e){return X0.cs(e)}Us(e){return JSON.parse(e)}async Qs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Gs(e.batchId,e.state,e.error);D("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}$s(e){return this.syncEngine.zs(e.targetId,e.state,e.error)}Ls(e,n){const r=n?this.ds.insert(e,n):this.ds.remove(e),i=this.vs(this.ds),s=this.vs(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.js(o,a).then(()=>{this.ds=r})}Ds(e){this.ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}vs(e){let n=M0();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class kk{constructor(){this.Hs=new av,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new av,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od=null;function yg(){return Od===null?Od=function(){return 268435456+Math.round(2147483648*Math.random())}():Od++,"0x"+Od.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class rq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${i}/databases/${s}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Ro(){return!1}Vo(n,r,i,s,o){const a=yg(),l=this.mo(n,r);D("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(u,s,o),this.po(n,l,u,i).then(c=>(D("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw yr("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}yo(n,r,i,s,o,a){return this.Vo(n,r,i,s,o)}fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}mo(n,r){const i=tq[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}po(e,n,r,i){const s=yg();return new Promise((o,a)=>{const l=new Z9;l.setWithCredentials(!0),l.listenOnce(Y9.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hg.NO_ERROR:const c=l.getResponseJson();D(Jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case hg.TIMEOUT:D(Jt,`RPC '${e}' ${s} timed out`),a(new x(A.DEADLINE_EXCEEDED,"Request time out"));break;case hg.HTTP_ERROR:const d=l.getStatus();if(D(Jt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const y=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(m)>=0?m:A.UNKNOWN}(f.status);a(new x(y,f.message))}else a(new x(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new x(A.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{D(Jt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);D(Jt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=yg(),s=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=H9(),a=Q9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new J9({})),this.fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");D(Jt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const y=new nq({so:w=>{f?D(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(D(Jt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),D(Jt,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},oo:()=>d.close()}),v=(w,m,p)=>{w.listen(m,g=>{try{p(g)}catch(_){setTimeout(()=>{throw _},0)}})};return v(d,Ad.EventType.OPEN,()=>{f||D(Jt,`RPC '${e}' stream ${i} transport opened.`)}),v(d,Ad.EventType.CLOSE,()=>{f||(f=!0,D(Jt,`RPC '${e}' stream ${i} transport closed`),y.Po())}),v(d,Ad.EventType.ERROR,w=>{f||(f=!0,yr(Jt,`RPC '${e}' stream ${i} transport errored:`,w),y.Po(new x(A.UNAVAILABLE,"The operation could not be completed")))}),v(d,Ad.EventType.MESSAGE,w=>{var m;if(!f){const p=w.data[0];Y(!!p);const g=p,_=g.error||((m=g[0])===null||m===void 0?void 0:m.error);if(_){D(Jt,`RPC '${e}' stream ${i} received error:`,_);const E=_.status;let R=function(M){const C=vt[M];if(C!==void 0)return YC(C)}(E),S=_.message;R===void 0&&(R=A.INTERNAL,S="Unknown error status: "+E+" with message "+_.message),f=!0,y.Po(new x(R,S)),d.close()}else D(Jt,`RPC '${e}' stream ${i} received:`,p),y.Io(p)}}),v(a,X9.STAT_EVENT,w=>{w.stat===IT.PROXY?D(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===IT.NOPROXY&&D(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.ho()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(){return typeof window<"u"?window:null}function lh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){return new dW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.So=r,this.bo=i,this.Do=s,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(e){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Fo=Date.now(),e())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.Bo=r,this.Lo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new J0(e,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(e){this.Jo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(e,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,e!==4?this.Ko.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(ht(n.toString()),ht("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const e=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.ko===n&&this.e_(r,i)},r=>{e(()=>{const i=new x(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(i)})})}e_(e,n){const r=this.Xo(this.ko);this.stream=this.n_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.t_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.ko===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iq extends Nk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}n_(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Ko.reset();const n=pW(this.serializer,e),r=function(s){if(!("targetChange"in s))return Q.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?pt(o.readTime):Q.min()}(e);return this.listener.r_(n,r)}i_(e){const n={};n.database=dc(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=nf(l)?{documents:sk(s,l)}:{query:ok(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ek(s,o.resumeToken);const u=tv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Q.min())>0){a.readTime=Ba(s,o.snapshotVersion.toTimestamp());const u=tv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=gW(this.serializer,e);r&&(n.labels=r),this.Ho(n)}s_(e){const n={};n.database=dc(this.serializer),n.removeTarget=e,this.Ho(n)}}class sq extends Nk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();const n=mW(e.writeResults,e.commitTime),r=pt(e.commitTime);return this.listener.u_(r,n)}return Y(!e.writeResults||e.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const e={};e.database=dc(this.serializer),this.Ho(e)}a_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>hc(this.serializer,r))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.h_=!1}P_(){if(this.h_)throw new x(A.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(e,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Vo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(A.UNKNOWN,i.toString())})}yo(e,n,r,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.yo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new x(A.UNKNOWN,s.toString())})}terminate(){this.h_=!0}}class aq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(e){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.R_("Offline")))}set(e){this.f_(),this.T_=0,e==="Online"&&(this.d_=!1),this.R_(e)}R_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}V_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(ht(n),this.d_=!1):D("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=s,this.S_.Ys(o=>{r.enqueueAndForget(async()=>{vs(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=z(l);u.y_.add(4),await dl(u),u.b_.set("Unknown"),u.y_.delete(4),await Qc(u)}(this))})}),this.b_=new aq(r,i)}}async function Qc(t){if(vs(t))for(const e of t.w_)await e(!0)}async function dl(t){for(const e of t.w_)await e(!1)}function Zp(t,e){const n=z(t);n.p_.has(e.targetId)||(n.p_.set(e.targetId,e),tw(n)?ew(n):fl(n).Uo()&&Z0(n,e))}function fc(t,e){const n=z(t),r=fl(n);n.p_.delete(e),r.Uo()&&Dk(n,e),n.p_.size===0&&(r.Uo()?r.zo():vs(n)&&n.b_.set("Unknown"))}function Z0(t,e){if(t.D_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).i_(e)}function Dk(t,e){t.D_.Be(e),fl(t).s_(e)}function ew(t){t.D_=new aW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.p_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.b_.A_()}function tw(t){return vs(t)&&!fl(t).$o()&&t.p_.size>0}function vs(t){return z(t).y_.size===0}function Ok(t){t.D_=void 0}async function uq(t){t.p_.forEach((e,n)=>{Z0(t,e)})}async function cq(t,e){Ok(t),tw(t)?(t.b_.m_(e),ew(t)):t.b_.set("Unknown")}async function dq(t,e,n){if(t.b_.set("Online"),e instanceof ZC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.p_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.p_.delete(a),i.D_.removeTarget(a))}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hf(t,r)}else if(e instanceof ah?t.D_.We(e):e instanceof JC?t.D_.Ze(e):t.D_.je(e),!n.isEqual(Q.min()))try{const r=await Rk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.D_.st(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.p_.get(u);c&&s.p_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.p_.get(l);if(!c)return;s.p_.set(l,c.withResumeToken(bt.EMPTY_BYTE_STRING,c.snapshotVersion)),Dk(s,l);const d=new Jr(c.target,l,u,c.sequenceNumber);Z0(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){D("RemoteStore","Failed to raise snapshot:",r),await hf(t,r)}}async function hf(t,e,n){if(!gs(e))throw e;t.y_.add(1),await dl(t),t.b_.set("Offline"),n||(n=()=>Rk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await n(),t.y_.delete(1),await Qc(t)})}function Vk(t,e){return e().catch(n=>hf(t,n,e))}async function hl(t){const e=z(t),n=ss(e);let r=e.g_.length>0?e.g_[e.g_.length-1].batchId:-1;for(;hq(e);)try{const i=await XW(e.localStore,r);if(i===null){e.g_.length===0&&n.zo();break}r=i.batchId,fq(e,i)}catch(i){await hf(e,i)}Mk(e)&&Lk(e)}function hq(t){return vs(t)&&t.g_.length<10}function fq(t,e){t.g_.push(e);const n=ss(t);n.Uo()&&n.__&&n.a_(e.mutations)}function Mk(t){return vs(t)&&!ss(t).$o()&&t.g_.length>0}function Lk(t){ss(t).start()}async function pq(t){ss(t).l_()}async function mq(t){const e=ss(t);for(const n of t.g_)e.a_(n.mutations)}async function gq(t,e,n){const r=t.g_.shift(),i=$0.from(r,e,n);await Vk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hl(t)}async function yq(t,e){e&&ss(t).__&&await async function(r,i){if(function(o){return QC(o)&&o!==A.ABORTED}(i.code)){const s=r.g_.shift();ss(r).Go(),await Vk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await hl(r)}}(t,e),Mk(t)&&Lk(t)}async function p1(t,e){const n=z(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=vs(n);n.y_.add(3),await dl(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.y_.delete(3),await Qc(n)}async function lv(t,e){const n=z(t);e?(n.y_.delete(2),await Qc(n)):e||(n.y_.add(2),await dl(n),n.b_.set("Unknown"))}function fl(t){return t.v_||(t.v_=function(n,r,i){const s=z(n);return s.P_(),new iq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:uq.bind(null,t),uo:cq.bind(null,t),r_:dq.bind(null,t)}),t.w_.push(async e=>{e?(t.v_.Go(),tw(t)?ew(t):t.b_.set("Unknown")):(await t.v_.stop(),Ok(t))})),t.v_}function ss(t){return t.C_||(t.C_=function(n,r,i){const s=z(n);return s.P_(),new sq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:pq.bind(null,t),uo:yq.bind(null,t),c_:mq.bind(null,t),u_:gq.bind(null,t)}),t.w_.push(async e=>{e?(t.C_.Go(),await hl(t)):(await t.C_.stop(),t.g_.length>0&&(D("RemoteStore",`Stopping write stream with ${t.g_.length} pending writes`),t.g_=[]))})),t.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new nw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pl(t,e){if(ht("AsyncQueue",`${e}: ${t}`),gs(t))return new x(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=Yl(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new Ta(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.F_=new $e(U.comparator)}track(e){const n=e.doc.key,r=this.F_.get(n);r?e.type!==0&&r.type===3?this.F_=this.F_.insert(n,e):e.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.F_=this.F_.remove(n):e.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):q():this.F_=this.F_.insert(n,e)}M_(){const e=[];return this.F_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wa{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wa(e,n,Ta.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(){this.x_=void 0,this.listeners=[]}}class _q{constructor(){this.queries=new ys(e=>OC(e),jc),this.onlineState="Unknown",this.O_=new Set}}async function rw(t,e){const n=z(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new vq),i)try{s.x_=await n.onListen(r)}catch(o){const a=pl(o,`Initialization of query '${ev(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.N_(n.onlineState),s.x_&&e.B_(s.x_)&&sw(n)}async function iw(t,e){const n=z(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function wq(t,e){const n=z(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.B_(i)&&(r=!0);o.x_=i}}r&&sw(n)}function Iq(t,e,n){const r=z(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function sw(t){t.O_.forEach(e=>{e.next()})}class ow{constructor(e,n,r){this.query=e,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),n=!0):this.K_(e,this.onlineState)&&(this.U_(e),n=!0),this.q_=e,n}onError(e){this.L_.error(e)}N_(e){this.onlineState=e;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),n=!0),n}K_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Q_(e){if(e.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e,n){this.G_=e,this.byteLength=n}z_(){return"metadata"in this.G_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.serializer=e}os(e){return $r(this.serializer,e)}_s(e){return e.metadata.exists?ik(this.serializer,e.document,!1):We.newNoDocument(this.os(e.metadata.name),this.us(e.metadata.readTime))}us(e){return pt(e)}}class Tq{constructor(e,n,r){this.j_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Fk(e)}H_(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.G_.namedQuery)this.queries.push(e.G_.namedQuery);else if(e.G_.documentMetadata){this.documents.push({metadata:e.G_.documentMetadata}),e.G_.documentMetadata.exists||++n;const r=ve.fromString(e.G_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.G_.document&&(this.documents[this.documents.length-1].document=e.G_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}J_(e){const n=new Map,r=new g1(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.os(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ce()).add(s);n.set(o,a)}}return n}async complete(){const e=await JW(this.localStore,new g1(this.serializer),this.documents,this.j_.id),n=this.J_(this.documents);for(const r of this.queries)await ZW(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Y_:this.collectionGroups,Z_:e}}}function Fk(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.key=e}}class Uk{constructor(e){this.key=e}}class Bk{constructor(e,n){this.query=e,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=ce(),this.mutatedKeys=ce(),this.na=MC(e),this.ra=new Ta(this.na)}get ia(){return this.X_}sa(e,n){const r=n?n.oa:new m1,i=n?n.ra:this.ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Wc(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;h&&f?h.data.isEqual(f.data)?y!==v&&(r.track({type:3,doc:f}),w=!0):this._a(h,f)||(r.track({type:2,doc:f}),w=!0,(l&&this.na(f,l)>0||u&&this.na(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),w=!0):h&&!f&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(f?(o=o.add(f),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ra:o,oa:r,zi:a,mutatedKeys:s}}_a(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;const s=e.oa.M_();s.sort((u,c)=>function(h,f){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return y(h)-y(f)}(u.type,c.type)||this.na(u.doc,c.doc)),this.aa(r);const o=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,s.length!==0||l?{snapshot:new Wa(this.query,e.ra,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new m1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}aa(e){e&&(e.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=e.current)}ua(){if(!this.current)return[];const e=this.ta;this.ta=ce(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return e.forEach(r=>{this.ta.has(r)||n.push(new Uk(r))}),this.ta.forEach(r=>{e.has(r)||n.push(new $k(r))}),n}ha(e){this.X_=e.ss,this.ta=ce();const n=this.sa(e.documents);return this.applyChanges(n,!0)}Pa(){return Wa.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class Sq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Rq{constructor(e){this.key=e,this.Ia=!1}}class bq{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new ys(a=>OC(a),jc),this.da=new Map,this.Aa=new Set,this.Ra=new $e(U.comparator),this.Va=new Map,this.ma=new K0,this.fa={},this.ga=new Map,this.pa=vo.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function Aq(t,e){const n=dw(t);let r,i;const s=n.Ea.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Pa();else{const o=await za(n.localStore,Cn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await aw(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Zp(n.remoteStore,o)}return i}async function aw(t,e,n,r,i){t.wa=(d,h,f)=>async function(v,w,m,p){let g=w.view.sa(m);g.zi&&(g=await uf(v.localStore,w.query,!1).then(({documents:R})=>w.view.sa(R,g)));const _=p&&p.targetChanges.get(w.targetId),E=w.view.applyChanges(g,v.isPrimaryClient,_);return uv(v,w.targetId,E.ca),E.snapshot}(t,d,h,f);const s=await uf(t.localStore,e,!0),o=new Bk(e,s.ss),a=o.sa(s.documents),l=Kc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);uv(t,n,u.ca);const c=new Sq(e,n,o);return t.Ea.set(e,c),t.da.has(n)?t.da.get(n).push(e):t.da.set(n,[e]),u.snapshot}async function Pq(t,e){const n=z(t),r=n.Ea.get(e),i=n.da.get(r.targetId);if(i.length>1)return n.da.set(r.targetId,i.filter(s=>!jc(s,e))),void n.Ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ja(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),fc(n.remoteStore,r.targetId),qa(n,r.targetId)}).catch(ms)):(qa(n,r.targetId),await ja(n.localStore,r.targetId,!0))}async function Cq(t,e,n){const r=hw(t);try{const i=await function(o,a){const l=z(o),u=Xe.now(),c=a.reduce((f,y)=>f.add(y.key),ce());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let y=Sn(),v=ce();return l.Xi.getEntries(f,c).next(w=>{y=w,y.forEach((m,p)=>{p.isValidDocument()||(v=v.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,y)).next(w=>{d=w;const m=[];for(const p of a){const g=iW(p,d.get(p.key).overlayedDocument);g!=null&&m.push(new gi(p.key,g,RC(g.value.mapValue),Ye.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(w=>{h=w;const m=w.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(f,w.batchId,m)})}).then(()=>({batchId:h.batchId,changes:FC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.fa[o.currentUser.toKey()];u||(u=new $e(le)),u=u.insert(a,l),o.fa[o.currentUser.toKey()]=u}(r,i.batchId,n),await yi(r,i.changes),await hl(r.remoteStore)}catch(i){const s=pl(i,"Failed to persist write");n.reject(s)}}async function zk(t,e){const n=z(t);try{const r=await YW(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Va.get(s);o&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ia=!0:i.modifiedDocuments.size>0?Y(o.Ia):i.removedDocuments.size>0&&(Y(o.Ia),o.Ia=!1))}),await yi(n,r,e)}catch(r){await ms(r)}}function y1(t,e,n){const r=z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ea.forEach((s,o)=>{const a=o.view.N_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=z(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.N_(a)&&(u=!0)}),u&&sw(l)}(r.eventManager,e),i.length&&r.Ta.r_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kq(t,e,n){const r=z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Va.get(e),s=i&&i.key;if(s){let o=new $e(U.comparator);o=o.insert(s,We.newNoDocument(s,Q.min()));const a=ce().add(s),l=new Gc(Q.min(),new Map,new $e(le),o,a);await zk(r,l),r.Ra=r.Ra.remove(s),r.Va.delete(e),cw(r)}else await ja(r.localStore,e,!1).then(()=>qa(r,e,n)).catch(ms)}async function xq(t,e){const n=z(t),r=e.batch.batchId;try{const i=await QW(n.localStore,e);uw(n,r,null),lw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yi(n,i)}catch(i){await ms(i)}}async function Nq(t,e,n){const r=z(t);try{const i=await function(o,a){const l=z(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Y(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);uw(r,e,n),lw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yi(r,i)}catch(i){await ms(i)}}async function Dq(t,e){const n=z(t);vs(n.remoteStore)||D("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=z(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ga.get(r)||[];i.push(e),n.ga.set(r,i)}catch(r){const i=pl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function lw(t,e){(t.ga.get(e)||[]).forEach(n=>{n.resolve()}),t.ga.delete(e)}function uw(t,e,n){const r=z(t);let i=r.fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.fa[r.currentUser.toKey()]=i}}function qa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.da.get(e))t.Ea.delete(r),n&&t.Ta.Sa(r,n);t.da.delete(e),t.isPrimaryClient&&t.ma.Ar(e).forEach(r=>{t.ma.containsKey(r)||jk(t,r)})}function jk(t,e){t.Aa.delete(e.path.canonicalString());const n=t.Ra.get(e);n!==null&&(fc(t.remoteStore,n),t.Ra=t.Ra.remove(e),t.Va.delete(n),cw(t))}function uv(t,e,n){for(const r of n)r instanceof $k?(t.ma.addReference(r.key,e),Oq(t,r)):r instanceof Uk?(D("SyncEngine","Document no longer in limbo: "+r.key),t.ma.removeReference(r.key,e),t.ma.containsKey(r.key)||jk(t,r.key)):q()}function Oq(t,e){const n=e.key,r=n.path.canonicalString();t.Ra.get(n)||t.Aa.has(r)||(D("SyncEngine","New document in limbo: "+n),t.Aa.add(r),cw(t))}function cw(t){for(;t.Aa.size>0&&t.Ra.size<t.maxConcurrentLimboResolutions;){const e=t.Aa.values().next().value;t.Aa.delete(e);const n=new U(ve.fromString(e)),r=t.pa.next();t.Va.set(r,new Rq(n)),t.Ra=t.Ra.insert(n,r),Zp(t.remoteStore,new Jr(Cn(ll(n.path)),r,"TargetPurposeLimboResolution",En.ae))}}async function yi(t,e,n){const r=z(t),i=[],s=[],o=[];r.Ea.isEmpty()||(r.Ea.forEach((a,l)=>{o.push(r.wa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Y0.qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Ta.r_(i),await async function(l,u){const c=z(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(u,h=>b.forEach(h.Li,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>b.forEach(h.ki,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!gs(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.Ji.get(h),y=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(y);c.Ji=c.Ji.insert(h,v)}}}(r.localStore,s))}async function Vq(t,e){const n=z(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=await Sk(n.localStore,e);n.currentUser=e,function(s,o){s.ga.forEach(a=>{a.forEach(l=>{l.reject(new x(A.CANCELLED,o))})}),s.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yi(n,r.ts)}}function Mq(t,e){const n=z(t),r=n.Va.get(e);if(r&&r.Ia)return ce().add(r.key);{let i=ce();const s=n.da.get(e);if(!s)return i;for(const o of s){const a=n.Ea.get(o);i=i.unionWith(a.view.ia)}return i}}async function Lq(t,e){const n=z(t),r=await uf(n.localStore,e.query,!0),i=e.view.ha(r);return n.isPrimaryClient&&uv(n,e.targetId,i.ca),i}async function Fq(t,e){const n=z(t);return Pk(n.localStore,e).then(r=>yi(n,r))}async function $q(t,e,n,r){const i=z(t),s=await function(a,l){const u=z(a),c=z(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Dn(d,l).next(h=>h?u.localDocuments.getDocuments(d,h):b.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await hl(i.remoteStore):n==="acknowledged"||n==="rejected"?(uw(i,e,r||null),lw(i,e),function(a,l){z(z(a).mutationQueue).Cn(l)}(i.localStore,e)):q(),await yi(i,s)):D("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Uq(t,e){const n=z(t);if(dw(n),hw(n),e===!0&&n.ya!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await v1(n,r.toArray());n.ya=!0,await lv(n.remoteStore,!0);for(const s of i)Zp(n.remoteStore,s)}else if(e===!1&&n.ya!==!1){const r=[];let i=Promise.resolve();n.da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(qa(n,o),ja(n.localStore,o,!0))),fc(n.remoteStore,o)}),await i,await v1(n,r),function(o){const a=z(o);a.Va.forEach((l,u)=>{fc(a.remoteStore,u)}),a.ma.Rr(),a.Va=new Map,a.Ra=new $e(U.comparator)}(n),n.ya=!1,await lv(n.remoteStore,!1)}}async function v1(t,e,n){const r=z(t),i=[],s=[];for(const o of e){let a;const l=r.da.get(o);if(l&&l.length!==0){a=await za(r.localStore,Cn(l[0]));for(const u of l){const c=r.Ea.get(u),d=await Lq(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await Ak(r.localStore,o);a=await za(r.localStore,u),await aw(r,Wk(u),o,!1,a.resumeToken)}i.push(a)}return r.Ta.r_(s),i}function Wk(t){return DC(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Bq(t){return function(n){return z(z(n).persistence).Ni()}(z(t).localStore)}async function zq(t,e,n,r){const i=z(t);if(i.ya)return void D("SyncEngine","Ignoring unexpected query state notification.");const s=i.da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await Pk(i.localStore,VC(s[0])),a=Gc.createSynthesizedRemoteEventForCurrentChange(e,n==="current",bt.EMPTY_BYTE_STRING);await yi(i,o,a);break}case"rejected":await ja(i.localStore,e,!0),qa(i,e,r);break;default:q()}}async function jq(t,e,n){const r=dw(t);if(r.ya){for(const i of e){if(r.da.has(i)){D("SyncEngine","Adding an already active target "+i);continue}const s=await Ak(r.localStore,i),o=await za(r.localStore,s);await aw(r,Wk(s),o.targetId,!1,o.resumeToken),Zp(r.remoteStore,o)}for(const i of n)r.da.has(i)&&await ja(r.localStore,i,!1).then(()=>{fc(r.remoteStore,i),qa(r,i)}).catch(ms)}}function dw(t){const e=z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kq.bind(null,e),e.Ta.r_=wq.bind(null,e.eventManager),e.Ta.Sa=Iq.bind(null,e.eventManager),e}function hw(t){const e=z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nq.bind(null,e),e}function Wq(t,e,n){const r=z(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(f,y){const v=z(f),w=pt(y.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",m=>v.Qr.getBundleMetadata(m,y.id)).then(m=>!!m&&m.createTime.compareTo(w)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(Fk(l));const u=new Tq(l,s.localStore,o.serializer);let c=await o.ba();for(;c;){const h=await u.H_(c);h&&a._updateProgress(h),c=await o.ba()}const d=await u.complete();return await yi(s,d.Z_,void 0),await function(f,y){const v=z(f);return v.persistence.runTransaction("Save bundle","readwrite",w=>v.Qr.saveBundleMetadata(w,y))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.Y_)}catch(l){return yr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class cv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Hc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Tk(this.persistence,new Ek,e.initialUser,this.serializer)}createPersistence(e){return new Ik(Jp.zr,this.serializer)}createSharedClientState(e){return new kk}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qk extends cv{constructor(e,n,r){super(),this.Da=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Da.initialize(this,e),await hw(this.Da.syncEngine),await hl(this.Da.remoteStore),await this.persistence.Vi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return Tk(this.persistence,new Ek,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new DW(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new gj(n,this.persistence);return new mj(e.asyncQueue,r)}createPersistence(e){const n=Q0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new H0(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,xk(),lh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new kk}}class qq extends qk{constructor(e,n){super(e,n,!1),this.Da=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Da.syncEngine;this.sharedClientState instanceof gg&&(this.sharedClientState.syncEngine={Gs:$q.bind(null,n),zs:zq.bind(null,n),js:jq.bind(null,n),Ni:Bq.bind(null,n),Ws:Fq.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Vi(async r=>{await Uq(this.Da.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=xk();if(!gg.v(n))throw new x(A.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Q0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gg(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class fw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>y1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vq.bind(null,this.syncEngine),await lv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _q}()}createDatastore(e){const n=Hc(e.databaseInfo.databaseId),r=function(s){return new rq(s)}(e.databaseInfo);return function(s,o,a,l){return new oq(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new lq(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>y1(this.syncEngine,n,0),function(){return f1.v()?new f1:new eq}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new bq(i,s,o,a,l,u);return c&&(d.ya=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=z(n);D("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await dl(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.va(this.observer.next,e)}error(e){this.observer.error?this.va(this.observer.error,e):ht("Uncaught Error in snapshot listener:",e.toString())}Ca(){this.muted=!0}va(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e,n){this.Fa=e,this.serializer=n,this.metadata=new Nt,this.buffer=new Uint8Array,this.Ma=function(){return new TextDecoder("utf-8")}(),this.xa().then(r=>{r&&r.z_()?this.metadata.resolve(r.G_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.G_)}`))},r=>this.metadata.reject(r))}close(){return this.Fa.cancel()}async getMetadata(){return this.metadata.promise}async ba(){return await this.getMetadata(),this.xa()}async xa(){const e=await this.Oa();if(e===null)return null;const n=this.Ma.decode(e),r=Number(n);isNaN(r)&&this.Na(`length string (${n}) is not valid number`);const i=await this.Ba(r);return new Eq(JSON.parse(i),e.length+r)}La(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Oa(){for(;this.La()<0&&!await this.ka(););if(this.buffer.length===0)return null;const e=this.La();e<0&&this.Na("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ba(e){for(;this.buffer.length<e;)await this.ka()&&this.Na("Reached the end of bundle when more is expected.");const n=this.Ma.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Na(e){throw this.Fa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ka(){const e=await this.Fa.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new x(A.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=z(i),a=dc(o.serializer)+"/documents",l={documents:s.map(h=>cc(o.serializer,h))},u=await o.yo("BatchGetDocuments",a,l,s.length),c=new Map;u.forEach(h=>{const f=fW(o.serializer,h);c.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=c.get(h.toString());Y(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new cl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=U.fromPath(r);this.mutations.push(new L0(i,this.precondition(i)))}),await async function(r,i){const s=z(r),o=dc(s.serializer)+"/documents",a={writes:i.map(l=>hc(s.serializer,l))};await s.Vo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw q();n=Q.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new x(A.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Q.min())?Ye.exists(!1):Ye.updateTime(n):Ye.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Q.min()))throw new x(A.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ye.updateTime(n)}return Ye.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.qa=r.maxAttempts,this.Ko=new J0(this.asyncQueue,"transaction_retry")}run(){this.qa-=1,this.Qa()}Qa(){this.Ko.xo(async()=>{const e=new Kq(this.datastore),n=this.Ka(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.$a(i)}))}).catch(r=>{this.$a(r)})})}Ka(e){try{const n=this.updateFunction(e);return!Bc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}$a(e){this.qa>0&&this.Ua(e)?(this.qa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Qa(),Promise.resolve()))):this.deferred.reject(e)}Ua(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!QC(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=cC.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{D("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function uh(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Sk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pw(t);D("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>p1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>p1(e.remoteStore,s)),t._onlineComponents=e}function Gk(t){return t.name==="FirebaseError"?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function pw(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{await uh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Gk(n))throw n;yr("Error using user provided cache. Falling back to memory cache: "+n),await uh(t,new cv)}}else D("FirestoreClient","Using default OfflineComponentProvider"),await uh(t,new cv);return t._offlineComponents}async function tm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),await dv(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),await dv(t,new fw))),t._onlineComponents}function Kk(t){return pw(t).then(e=>e.persistence)}function mw(t){return pw(t).then(e=>e.localStore)}function Hk(t){return tm(t).then(e=>e.remoteStore)}function gw(t){return tm(t).then(e=>e.syncEngine)}function Yq(t){return tm(t).then(e=>e.datastore)}async function Ga(t){const e=await tm(t),n=e.eventManager;return n.onListen=Aq.bind(null,e.syncEngine),n.onUnlisten=Pq.bind(null,e.syncEngine),n}function Xq(t){return t.asyncQueue.enqueue(async()=>{const e=await Kk(t),n=await Hk(t);return e.setNetworkEnabled(!0),function(i){const s=z(i);return s.y_.delete(0),Qc(s)}(n)})}function Jq(t){return t.asyncQueue.enqueue(async()=>{const e=await Kk(t),n=await Hk(t);return e.setNetworkEnabled(!1),async function(i){const s=z(i);s.y_.add(0),await dl(s),s.b_.set("Offline")}(n)})}function Zq(t,e){const n=new Nt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,c){const d=z(u);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new x(A.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=pl(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await mw(t),e,n)),n.promise}function Qk(t,e,n={}){const r=new Nt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new em({next:h=>{o.enqueueAndForget(()=>iw(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new x(A.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new x(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new ow(ll(a.path),c,{includeMetadataChanges:!0,W_:!0});return rw(s,d)}(await Ga(t),t.asyncQueue,e,n,r)),r.promise}function e8(t,e){const n=new Nt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await uf(i,s,!0),l=new Bk(s,a.ss),u=l.sa(a.documents),c=l.applyChanges(u,!1);o.resolve(c.snapshot)}catch(a){const l=pl(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await mw(t),e,n)),n.promise}function Yk(t,e,n={}){const r=new Nt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new em({next:h=>{o.enqueueAndForget(()=>iw(s,d)),h.fromCache&&l.source==="server"?u.reject(new x(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new ow(a,c,{includeMetadataChanges:!0,W_:!0});return rw(s,d)}(await Ga(t),t.asyncQueue,e,n,r)),r.promise}function t8(t,e){const n=new em(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){z(i).O_.add(s),s.next()}(await Ga(t),n)),()=>{n.Ca(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){z(i).O_.delete(s)}(await Ga(t),n))}}function n8(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?XC().encode(o):o,function(c,d){return new Gq(c,d)}(function(c,d){if(c instanceof Uint8Array)return _1(c,d);if(c instanceof ArrayBuffer)return _1(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Hc(e));t.asyncQueue.enqueueAndForget(async()=>{Wq(await gw(t),i,r)})}function r8(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=z(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Qr.getNamedQuery(o,i))}(await mw(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t,e,n){if(!n)throw new x(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Jk(t,e,n,r){if(e===!0&&r===!0)throw new x(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function I1(t){if(!U.isDocumentKey(t))throw new x(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function E1(t){if(U.isDocumentKey(t))throw new x(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function we(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new x(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nm(t);throw new x(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Zk(t,e){if(e<=0)throw new x(A.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new x(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new x(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new x(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new x(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new x(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new x(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rj;switch(r.type){case"firstParty":return new aj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new x(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=w1.get(n);r&&(D("ComponentProvider","Removing Datastore"),w1.delete(n),r.terminate())}(this),Promise.resolve()}}function i8(t,e,n,r={}){var i;const s=(t=we(t,Yc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=kt.MOCK_USER;else{a=RU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new x(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(u)}t._authCredentials=new ij(new uC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn=class ex{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ex(this.firestore,e,this._query)}},nt=class tx{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tx(this.firestore,e,this._key)}},qi=class nx extends fn{constructor(e,n,r){super(e,n,ll(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new U(e))}withConverter(e){return new nx(this.firestore,e,this._path)}};function rx(t,e,...n){if(t=te(t),yw("collection","path",e),t instanceof Yc){const r=ve.fromString(e,...n);return E1(r),new qi(t,null,r)}{if(!(t instanceof nt||t instanceof qi))throw new x(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return E1(r),new qi(t.firestore,null,r)}}function s8(t,e){if(t=we(t,Yc),yw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new x(A.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fn(t,null,function(r){return new mi(ve.emptyPath(),r)}(e))}function ff(t,e,...n){if(t=te(t),arguments.length===1&&(e=cC.V()),yw("doc","path",e),t instanceof Yc){const r=ve.fromString(e,...n);return I1(r),new nt(t,null,new U(r))}{if(!(t instanceof nt||t instanceof qi))throw new x(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return I1(r),new nt(t.firestore,t instanceof qi?t.converter:null,new U(r))}}function ix(t,e){return t=te(t),e=te(e),(t instanceof nt||t instanceof qi)&&(e instanceof nt||e instanceof qi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function sx(t,e){return t=te(t),e=te(e),t instanceof fn&&e instanceof fn&&t.firestore===e.firestore&&jc(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new J0(this,"async_queue_retry"),this.Xa=()=>{const n=lh();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const e=lh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.eu(),this.tu(e)}enterRestrictedMode(e){if(!this.za){this.za=!0,this.Ya=e||!1;const n=lh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(e){if(this.eu(),this.za)return new Promise(()=>{});const n=new Nt;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ga.push(e),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(e){if(!gs(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(e){const n=this.Wa.then(()=>(this.Ja=!0,e().catch(r=>{this.Ha=r,this.Ja=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ht("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(e,n,r){this.eu(),this.Za.indexOf(e)>-1&&(n=0);const i=nw.createAndSchedule(this,e,n,r,s=>this.ru(s));return this.ja.push(i),i}eu(){this.Ha&&q()}verifyOperationInProgress(){}async iu(){let e;do e=this.Wa,await e;while(e!==this.Wa)}su(e){for(const n of this.ja)if(n.timerId===e)return!0;return!1}ou(e){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.iu()})}_u(e){this.Za.push(e)}ru(e){const n=this.ja.indexOf(e);this.ja.splice(n,1)}}function hv(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class a8{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=-1;let ct=class extends Yc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new o8}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ox(this),this._firestoreClient.terminate()}};function Lt(t){return t._firestoreClient||ox(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ox(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new Lj(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Xk(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Qq(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function u8(t,e){lx(t=we(t,ct));const n=Lt(t);if(n._uninitializedComponentsProvider)throw new x(A.FAILED_PRECONDITION,"SDK cache is already specified.");yr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new fw;return ax(n,i,new qk(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function c8(t){lx(t=we(t,ct));const e=Lt(t);if(e._uninitializedComponentsProvider)throw new x(A.FAILED_PRECONDITION,"SDK cache is already specified.");yr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new fw;return ax(e,r,new qq(r,n.cacheSizeBytes))}function ax(t,e,n){const r=new Nt;return t.asyncQueue.enqueue(async()=>{try{await uh(t,n),await dv(t,e),r.resolve()}catch(i){const s=i;if(!Gk(s))throw s;yr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function d8(t){if(t._initialized&&!t._terminated)throw new x(A.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Nt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!dr.v())return Promise.resolve();const i=r+"main";await dr.delete(i)}(Q0(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function h8(t){return function(n){const r=new Nt;return n.asyncQueue.enqueueAndForget(async()=>Dq(await gw(n),r)),r.promise}(Lt(t=we(t,ct)))}function f8(t){return Xq(Lt(t=we(t,ct)))}function p8(t){return Jq(Lt(t=we(t,ct)))}function m8(t,e){const n=Lt(t=we(t,ct)),r=new a8;return n8(n,t._databaseId,e,r),r}function g8(t,e){return r8(Lt(t=we(t,ct)),e).then(n=>n?new fn(t,null,n.query):null)}function lx(t){if(t._initialized||t._terminated)throw new x(A.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jr(bt.fromBase64String(e))}catch(n){throw new x(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jr(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let os=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new x(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new x(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new x(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=/^__.*__$/;class v8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ul(e,this.data,n,this.fieldTransforms)}}class ux{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}class im{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.au(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(e){return new im(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.Pu(e),i}Iu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.au(),i}Tu(e){return this.cu({path:void 0,hu:!0})}Eu(e){return pf(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}Pu(e){if(e.length===0)throw this.Eu("Document fields must not be empty");if(cx(this.uu)&&y8.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}class _8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hc(e)}Ru(e,n,r,i=!1){return new im({uu:e,methodName:n,Au:r,path:ft.emptyPath(),hu:!1,du:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Po(t){const e=t._freezeSettings(),n=Hc(t._databaseId);return new _8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sm(t,e,n,r,i,s={}){const o=t.Ru(s.merge||s.mergeFields?2:0,e,n,i);Iw("Data must be an object, but it was:",o,r);const a=fx(r,o);let l,u;if(s.merge)l=new Tn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=fv(e,d,n);if(!o.contains(h))throw new x(A.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);mx(c,h)||c.push(h)}l=new Tn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new v8(new jt(a),l,u)}class Xc extends Ao{_toFieldTransform(e){if(e.uu!==2)throw e.uu===1?e.Eu(`${this._methodName}() can only appear at the top level of your update data`):e.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xc}}function dx(t,e,n){return new im({uu:3,Au:e.settings.Au,methodName:t._methodName,hu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vw extends Ao{_toFieldTransform(e){return new qc(e.path,new $a)}isEqual(e){return e instanceof vw}}class w8 extends Ao{constructor(e,n){super(e),this.Vu=n}_toFieldTransform(e){const n=dx(this,e,!0),r=this.Vu.map(s=>Co(s,n)),i=new po(r);return new qc(e.path,i)}isEqual(e){return this===e}}class I8 extends Ao{constructor(e,n){super(e),this.Vu=n}_toFieldTransform(e){const n=dx(this,e,!0),r=this.Vu.map(s=>Co(s,n)),i=new mo(r);return new qc(e.path,i)}isEqual(e){return this===e}}class E8 extends Ao{constructor(e,n){super(e),this.mu=n}_toFieldTransform(e){const n=new Ua(e.serializer,zC(e.serializer,this.mu));return new qc(e.path,n)}isEqual(e){return this===e}}function _w(t,e,n,r){const i=t.Ru(1,e,n);Iw("Data must be an object, but it was:",i,r);const s=[],o=jt.empty();bo(r,(l,u)=>{const c=Ew(e,l,n);u=te(u);const d=i.Iu(c);if(u instanceof Xc)s.push(c);else{const h=Co(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Tn(s);return new ux(o,a,i.fieldTransforms)}function ww(t,e,n,r,i,s){const o=t.Ru(1,e,n),a=[fv(e,r,n)],l=[i];if(s.length%2!=0)throw new x(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(fv(e,s[h])),l.push(s[h+1]);const u=[],c=jt.empty();for(let h=a.length-1;h>=0;--h)if(!mx(u,a[h])){const f=a[h];let y=l[h];y=te(y);const v=o.Iu(f);if(y instanceof Xc)u.push(f);else{const w=Co(y,v);w!=null&&(u.push(f),c.set(f,w))}}const d=new Tn(u);return new ux(c,d,o.fieldTransforms)}function hx(t,e,n,r=!1){return Co(n,t.Ru(r?4:3,e))}function Co(t,e){if(px(t=te(t)))return Iw("Unsupported field value:",e,t),fx(t,e);if(t instanceof Ao)return function(r,i){if(!cx(i.uu))throw i.Eu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Eu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.hu&&e.uu!==4)throw e.Eu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Co(a,i.Tu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=te(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xe.fromDate(r);return{timestampValue:Ba(i.serializer,s)}}if(r instanceof Xe){const s=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ba(i.serializer,s)}}if(r instanceof rm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jr)return{bytesValue:ek(i.serializer,r._byteString)};if(r instanceof nt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Eu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:j0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Eu(`Unsupported field value: ${nm(r)}`)}(t,e)}function fx(t,e){const n={};return EC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(t,(r,i)=>{const s=Co(i,e.lu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function px(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof rm||t instanceof jr||t instanceof nt||t instanceof Ao)}function Iw(t,e,n){if(!px(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=nm(n);throw r==="an object"?e.Eu(t+" a custom object"):e.Eu(t+" "+r)}}function fv(t,e,n){if((e=te(e))instanceof os)return e._internalPath;if(typeof e=="string")return Ew(t,e);throw pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const T8=new RegExp("[~\\*/\\[\\]]");function Ew(t,e,n){if(e.search(T8)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new os(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new x(A.INVALID_ARGUMENT,a+t+l)}function mx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(om("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class S8 extends pc{data(){return super.data()}}function om(t,e){return typeof e=="string"?Ew(t,e):e instanceof os?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new x(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tw{}class Jc extends Tw{}function Ri(t,e,...n){let r=[];e instanceof Tw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Sw).length,a=s.filter(l=>l instanceof am).length;if(o>1||o>0&&a>0)throw new x(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class am extends Jc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new am(e,n,r)}_apply(e){const n=this._parse(e);return vx(e._query,n),new fn(e.firestore,e.converter,Zy(e._query,n))}_parse(e){const n=Po(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new x(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){R1(d,c);const f=[];for(const y of d)f.push(S1(l,s,y));h={arrayValue:{values:f}}}else h=S1(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||R1(d,c),h=hx(a,o,d,c==="in"||c==="not-in");return fe.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function R8(t,e,n){const r=e,i=om("where",t);return am._create(i,r,n)}class Sw extends Tw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:be.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)vx(o,l),o=Zy(o,l)}(e._query,n),new fn(e.firestore,e.converter,Zy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rw extends Jc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Rw(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new x(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new x(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Ea(s,o);return function(u,c){if(O0(u)===null){const d=Kp(u);d!==null&&_x(u,d,c.field)}}(i,a),a}(e._query,this._field,this._direction);return new fn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new mi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function b8(t,e="asc"){const n=e,r=om("orderBy",t);return Rw._create(r,n)}class lm extends Jc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new lm(e,n,r)}_apply(e){return new fn(e.firestore,e.converter,sf(e._query,this._limit,this._limitType))}}function A8(t){return Zk("limit",t),lm._create("limit",t,"F")}function P8(t){return Zk("limitToLast",t),lm._create("limitToLast",t,"L")}class um extends Jc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new um(e,n,r)}_apply(e){const n=yx(e,this.type,this._docOrFields,this._inclusive);return new fn(e.firestore,e.converter,function(i,s){return new mi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function C8(...t){return um._create("startAt",t,!0)}function k8(...t){return um._create("startAfter",t,!1)}class cm extends Jc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new cm(e,n,r)}_apply(e){const n=yx(e,this.type,this._docOrFields,this._inclusive);return new fn(e.firestore,e.converter,function(i,s){return new mi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function x8(...t){return cm._create("endBefore",t,!1)}function N8(...t){return cm._create("endAt",t,!0)}function yx(t,e,n,r){if(n[0]=te(n[0]),n[0]instanceof pc)return function(s,o,a,l,u){if(!l)throw new x(A.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of Ys(s))if(d.field.isKeyField())c.push(ho(o,l.key));else{const h=l.data.field(d.field);if(Gp(h))throw new x(A.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new x(A.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(h)}return new is(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Po(t.firestore);return function(o,a,l,u,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new x(A.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let y=0;y<c.length;y++){const v=c[y];if(h[y].field.isKeyField()){if(typeof v!="string")throw new x(A.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof v}`);if(!V0(o)&&v.indexOf("/")!==-1)throw new x(A.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${v}' contains a slash.`);const w=o.path.child(ve.fromString(v));if(!U.isDocumentKey(w))throw new x(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const m=new U(w);f.push(ho(a,m))}else{const w=hx(l,u,v);f.push(w)}}return new is(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function S1(t,e,n){if(typeof(n=te(n))=="string"){if(n==="")throw new x(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V0(e)&&n.indexOf("/")!==-1)throw new x(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ve.fromString(n));if(!U.isDocumentKey(r))throw new x(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ho(t,new U(r))}if(n instanceof nt)return ho(t,n._key);throw new x(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nm(n)}.`)}function R1(t,e){if(!Array.isArray(t)||t.length===0)throw new x(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vx(t,e){if(e.isInequality()){const r=Kp(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new x(A.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=O0(t);s!==null&&_x(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new x(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new x(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function _x(t,e,n){if(!n.isEqual(e))throw new x(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class bw{convertValue(e,n="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new rm(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=N0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=es(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);Y(ck(r));const i=new ns(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(n)||ht(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class D8 extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new jr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ui=class extends pc{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(om("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Iu=class extends ui{data(e={}){return super.data(e)}},as=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Iu(this._firestore,this._userDataWriter,r.key,r,new Bs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Iu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Iu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:O8(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function O8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}function wx(t,e){return t instanceof ui&&e instanceof ui?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof as&&e instanceof as&&t._firestore===e._firestore&&sx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){t=we(t,nt);const e=we(t.firestore,ct);return Qk(Lt(e),t._key).then(n=>Aw(e,t,n))}class ko extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new jr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}function M8(t){t=we(t,nt);const e=we(t.firestore,ct),n=Lt(e),r=new ko(e);return Zq(n,t._key).then(i=>new ui(e,r,t._key,i,new Bs(i!==null&&i.hasLocalMutations,!0),t.converter))}function L8(t){t=we(t,nt);const e=we(t.firestore,ct);return Qk(Lt(e),t._key,{source:"server"}).then(n=>Aw(e,t,n))}function F8(t){t=we(t,fn);const e=we(t.firestore,ct),n=Lt(e),r=new ko(e);return gx(t._query),Yk(n,t._query).then(i=>new as(e,r,t,i))}function $8(t){t=we(t,fn);const e=we(t.firestore,ct),n=Lt(e),r=new ko(e);return e8(n,t._query).then(i=>new as(e,r,t,i))}function U8(t){t=we(t,fn);const e=we(t.firestore,ct),n=Lt(e),r=new ko(e);return Yk(n,t._query,{source:"server"}).then(i=>new as(e,r,t,i))}function b1(t,e,n){t=we(t,nt);const r=we(t.firestore,ct),i=dm(t.converter,e,n);return Zc(r,[sm(Po(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ye.none())])}function A1(t,e,n,...r){t=we(t,nt);const i=we(t.firestore,ct),s=Po(i);let o;return o=typeof(e=te(e))=="string"||e instanceof os?ww(s,"updateDoc",t._key,e,n,r):_w(s,"updateDoc",t._key,e),Zc(i,[o.toMutation(t._key,Ye.exists(!0))])}function B8(t){return Zc(we(t.firestore,ct),[new cl(t._key,Ye.none())])}function z8(t,e){const n=we(t.firestore,ct),r=ff(t),i=dm(t.converter,e);return Zc(n,[sm(Po(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ye.exists(!1))]).then(()=>r)}function Ix(t,...e){var n,r,i;t=te(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||hv(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(hv(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof nt)u=we(t.firestore,ct),c=ll(t._key.path),l={next:d=>{e[o]&&e[o](Aw(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=we(t,fn);u=we(d.firestore,ct),c=d._query;const h=new ko(u);l={next:f=>{e[o]&&e[o](new as(u,h,d,f))},error:e[o+1],complete:e[o+2]},gx(t._query)}return function(h,f,y,v){const w=new em(v),m=new ow(f,w,y);return h.asyncQueue.enqueueAndForget(async()=>rw(await Ga(h),m)),()=>{w.Ca(),h.asyncQueue.enqueueAndForget(async()=>iw(await Ga(h),m))}}(Lt(u),c,a,l)}function j8(t,e){return t8(Lt(t=we(t,ct)),hv(e)?e:{next:e})}function Zc(t,e){return function(r,i){const s=new Nt;return r.asyncQueue.enqueueAndForget(async()=>Cq(await gw(r),i,s)),s.promise}(Lt(t),e)}function Aw(t,e,n){const r=n.docs.get(e._key),i=new ko(t);return new ui(t,i,e._key,r,new Bs(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q8=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Po(e)}set(e,n,r){this._verifyNotCommitted();const i=xi(e,this._firestore),s=dm(i.converter,n,r),o=sm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ye.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=xi(e,this._firestore);let o;return o=typeof(n=te(n))=="string"||n instanceof os?ww(this._dataReader,"WriteBatch.update",s._key,n,r,i):_w(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ye.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=xi(e,this._firestore);return this._mutations=this._mutations.concat(new cl(n._key,Ye.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new x(A.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function xi(t,e){if((t=te(t)).firestore!==e)throw new x(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G8=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Po(n)}get(n){const r=xi(n,this._firestore),i=new D8(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return q();const o=s[0];if(o.isFoundDocument())return new pc(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new pc(this._firestore,i,r._key,null,r.converter);throw q()})}set(n,r,i){const s=xi(n,this._firestore),o=dm(s.converter,r,i),a=sm(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=xi(n,this._firestore);let a;return a=typeof(r=te(r))=="string"||r instanceof os?ww(this._dataReader,"Transaction.update",o._key,r,i,s):_w(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=xi(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=xi(e,this._firestore),r=new ko(this._firestore);return super.get(e).then(i=>new ui(this._firestore,r,n._key,i._document,new Bs(!1,!1),n.converter))}};function K8(t,e,n){t=we(t,ct);const r=Object.assign(Object.assign({},W8),n);return function(s){if(s.maxAttempts<1)throw new x(A.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Nt;return s.asyncQueue.enqueueAndForget(async()=>{const u=await Yq(s);new Hq(s.asyncQueue,u,a,o,l).run()}),l.promise}(Lt(t),i=>e(new G8(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(){return new Xc("deleteField")}function Q8(){return new vw("serverTimestamp")}function Y8(...t){return new w8("arrayUnion",t)}function X8(...t){return new I8("arrayRemove",t)}function J8(t){return new E8("increment",t)}(function(e,n=!0){(function(i){al=i})(ds),Xi(new Ur("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ct(new sj(r.getProvider("auth-internal")),new uj(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new x(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ns(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Fr(ET,"4.1.0",e),Fr(ET,"4.1.0","esm2017")})();const Z8="@firebase/firestore-compat",eG="0.3.14";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new x("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){if(typeof Uint8Array>"u")throw new x("unimplemented","Uint8Arrays are not available in this environment.")}function C1(){if(!Vj())throw new x("unimplemented","Blobs are unavailable in Firestore in this environment.")}class mc{constructor(e){this._delegate=e}static fromBase64String(e){return C1(),new mc(jr.fromBase64String(e))}static fromUint8Array(e){return P1(),new mc(jr.fromUint8Array(e))}toBase64(){return C1(),this._delegate.toBase64()}toUint8Array(){return P1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){return tG(t,["next","error","complete"])}function tG(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{enableIndexedDbPersistence(e,n){return u8(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return c8(e._delegate)}clearIndexedDbPersistence(e){return d8(e._delegate)}}class Ex{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ns||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&yr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){i8(this._delegate,e,n,r)}enableNetwork(){return f8(this._delegate)}disableNetwork(){return p8(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Jk("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return h8(this._delegate)}onSnapshotsInSync(e){return j8(this._delegate,e)}get app(){if(!this._appCompat)throw new x("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ka(this,rx(this._delegate,e))}catch(n){throw an(n,"collection()","Firestore.collection()")}}doc(e){try{return new Qn(this,ff(this._delegate,e))}catch(n){throw an(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new on(this,s8(this._delegate,e))}catch(n){throw an(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return K8(this._delegate,n=>e(new Tx(this,n)))}batch(){return Lt(this._delegate),new Sx(new q8(this._delegate,e=>Zc(this._delegate,e)))}loadBundle(e){return m8(this._delegate,e)}namedQuery(e){return g8(this._delegate,e).then(n=>n?new on(this,n):null)}}class hm extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new mc(new jr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Qn.forKey(n,this.firestore,null)}}function rG(t){tj(t)}class Tx{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new hm(e)}get(e){const n=zs(e);return this._delegate.get(n).then(r=>new gc(this._firestore,new ui(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=zs(e);return r?(Pw("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=zs(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=zs(e);return this._delegate.delete(n),this}}class Sx{constructor(e){this._delegate=e}set(e,n,r){const i=zs(e);return r?(Pw("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=zs(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=zs(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class _o{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Iu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yc(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=_o.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new _o(e,new hm(e),n),i.set(n,s)),s}}_o.INSTANCES=new WeakMap;class Qn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new hm(e)}static forPath(e,n,r){if(e.length%2!==0)throw new x("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qn(n,new nt(n._delegate,r,new U(e)))}static forKey(e,n,r){return new Qn(n,new nt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ka(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ka(this.firestore,rx(this._delegate,e))}catch(n){throw an(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=te(e),e instanceof nt?ix(this._delegate,e):!1}set(e,n){n=Pw("DocumentReference.set",n);try{return n?b1(this._delegate,e,n):b1(this._delegate,e)}catch(r){throw an(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?A1(this._delegate,e):A1(this._delegate,e,n,...r)}catch(i){throw an(i,"updateDoc()","DocumentReference.update()")}}delete(){return B8(this._delegate)}onSnapshot(...e){const n=Rx(e),r=bx(e,i=>new gc(this.firestore,new ui(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Ix(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=M8(this._delegate):(e==null?void 0:e.source)==="server"?n=L8(this._delegate):n=V8(this._delegate),n.then(r=>new gc(this.firestore,new ui(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Qn(this.firestore,e?this._delegate.withConverter(_o.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function an(t,e,n){return t.message=t.message.replace(e,n),t}function Rx(t){for(const e of t)if(typeof e=="object"&&!pv(e))return e;return{}}function bx(t,e){var n,r;let i;return pv(t[0])?i=t[0]:pv(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class gc{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Qn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return wx(this._delegate,e._delegate)}}class yc extends gc{data(e){const n=this._delegate.data(e);return nj(n!==void 0),n}}class on{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new hm(e)}where(e,n,r){try{return new on(this.firestore,Ri(this._delegate,R8(e,n,r)))}catch(i){throw an(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new on(this.firestore,Ri(this._delegate,b8(e,n)))}catch(r){throw an(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new on(this.firestore,Ri(this._delegate,A8(e)))}catch(n){throw an(n,"limit()","Query.limit()")}}limitToLast(e){try{return new on(this.firestore,Ri(this._delegate,P8(e)))}catch(n){throw an(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new on(this.firestore,Ri(this._delegate,C8(...e)))}catch(n){throw an(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new on(this.firestore,Ri(this._delegate,k8(...e)))}catch(n){throw an(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new on(this.firestore,Ri(this._delegate,x8(...e)))}catch(n){throw an(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new on(this.firestore,Ri(this._delegate,N8(...e)))}catch(n){throw an(n,"endAt()","Query.endAt()")}}isEqual(e){return sx(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=$8(this._delegate):(e==null?void 0:e.source)==="server"?n=U8(this._delegate):n=F8(this._delegate),n.then(r=>new mv(this.firestore,new as(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=Rx(e),r=bx(e,i=>new mv(this.firestore,new as(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Ix(this._delegate,n,r)}withConverter(e){return new on(this.firestore,e?this._delegate.withConverter(_o.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class iG{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new yc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mv{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new on(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new yc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new iG(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new yc(this._firestore,r))})}isEqual(e){return wx(this._delegate,e._delegate)}}class Ka extends on{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qn(this.firestore,e):null}doc(e){try{return e===void 0?new Qn(this.firestore,ff(this._delegate)):new Qn(this.firestore,ff(this._delegate,e))}catch(n){throw an(n,"doc()","CollectionReference.doc()")}}add(e){return z8(this._delegate,e).then(n=>new Qn(this.firestore,n))}isEqual(e){return ix(this._delegate,e._delegate)}withConverter(e){return new Ka(this.firestore,e?this._delegate.withConverter(_o.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function zs(t){return we(t,nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(...e){this._delegate=new os(...e)}static documentId(){return new Cw(ft.keyField().canonicalString())}isEqual(e){return e=te(e),e instanceof os?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._delegate=e}static serverTimestamp(){const e=Q8();return e._methodName="FieldValue.serverTimestamp",new Ds(e)}static delete(){const e=H8();return e._methodName="FieldValue.delete",new Ds(e)}static arrayUnion(...e){const n=Y8(...e);return n._methodName="FieldValue.arrayUnion",new Ds(n)}static arrayRemove(...e){const n=X8(...e);return n._methodName="FieldValue.arrayRemove",new Ds(n)}static increment(e){const n=J8(e);return n._methodName="FieldValue.increment",new Ds(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG={Firestore:Ex,GeoPoint:rm,Timestamp:Xe,Blob:mc,Transaction:Tx,WriteBatch:Sx,DocumentReference:Qn,DocumentSnapshot:gc,Query:on,QueryDocumentSnapshot:yc,QuerySnapshot:mv,CollectionReference:Ka,FieldPath:Cw,FieldValue:Ds,setLogLevel:rG,CACHE_SIZE_UNLIMITED:l8};function oG(t,e){t.INTERNAL.registerComponent(new Ur("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},sG)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(t){oG(t,(e,n)=>new Ex(e,n,new nG)),t.registerVersion(Z8,eG)}aG(To);const lG=To.initializeApp({apiKey:"AIzaSyCq_dXbnssiedOReSmUPPpsjx1IfywVz0A",authDomain:"todo-page-27c1a.firebaseapp.com",projectId:"todo-page-27c1a",storageBucket:"todo-page-27c1a.appspot.com",messagingSenderId:"430479436471",appId:"1:430479436471:web:56cf46b37d104a37837b32"}),mf=lG.firestore(),uG={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",maxWidth:400,bgcolor:"#fff",border:"1px solid #444",borderRadius:"8px",boxShadow:24,p:4};function cG({todo:t}){const[e,n]=I.useState(!1),[r,i]=I.useState(""),s=()=>{mf.collection("todos").doc(t.id).set({todo:r},{merge:!0}),n(!1)};return k.jsxs(k.Fragment,{children:[k.jsx(Pb,{open:e,onClose:()=>n(!1),children:k.jsxs(AF,{sx:uG,children:[k.jsx("h2",{style:{padding:"8px 0",backgroundColor:"#ddd",borderRadius:"6px"},children:"edit me"}),k.jsx("input",{placeholder:t.todo,value:r,onChange:o=>i(o.target.value),style:{outline:0,padding:"8px",border:"1px solid #aaa",borderRadius:"6px",width:"90%",marginBottom:"8px"},required:!0}),k.jsx(Xd,{sx:{display:"block",marginLeft:"auto"},variant:"contained",onClick:s,children:"Update"})]})}),k.jsx(Vb,{children:k.jsxs(K$,{children:[k.jsx(Z$,{children:k.jsx(pF,{sx:{bgcolor:nO[500]},children:"W"})}),k.jsx(o4,{primary:t.todo,secondary:new Date().toLocaleTimeString()}),k.jsx(Xd,{variant:"contained",color:"success",onClick:()=>n(!0),sx:{marginRight:"12px"},children:"Edit"}),k.jsx(Xd,{variant:"contained",color:"error",onClick:()=>mf.collection("todos").doc(t.id).delete(),children:"Del"})]})},t.id)]})}function dG(){const[t,e]=I.useState([]),[n,r]=I.useState("");I.useEffect(()=>{mf.collection("todos").orderBy("timestamp","desc").onSnapshot(s=>{e(s.docs.map(o=>({id:o.id,time:o.data().timestamp,todo:o.data().todo})))})},[]);const i=s=>{s.preventDefault(),mf.collection("todos").add({todo:n,timestamp:To.firestore.FieldValue.serverTimestamp()}),e([...t,n]),r("")};return k.jsxs("div",{className:"App",children:[k.jsx("h1",{children:"What are you going to do today!!!"}),k.jsx("form",{children:k.jsxs(xb,{children:[k.jsx(pU,{label:"Todo",color:"secondary",margin:"normal",size:"small",onChange:s=>{r(s.target.value)},value:n}),k.jsx(Xd,{variant:"contained",color:"secondary",type:"submit",onClick:i,disabled:!n,children:"Add"})]})}),k.jsx("ul",{children:t==null?void 0:t.map((s,o)=>k.jsx(cG,{todo:s},o))})]})}_g.createRoot(document.getElementById("root")).render(k.jsx(cr.StrictMode,{children:k.jsx(dG,{})}));
